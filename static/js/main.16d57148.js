/*! For license information please see main.16d57148.js.LICENSE.txt */
(()=>{var e={10:(e,t,n)=>{"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{A:()=>r})},14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},276:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},303:(e,t,n)=>{"use strict";n.d(t,{j:()=>s,db:()=>l});var r=n(7150);(0,r.KO)("firebase","10.14.1","app");var i=n(9786),o=n(5472);const a=(0,r.Wp)({apiKey:"AIzaSyCTHvBt2lLe9hCdgkqiDsHLfGTcPUJEuLY",authDomain:"long-covid-8f42d.firebaseapp.com",projectId:"long-covid-8f42d",storageBucket:"long-covid-8f42d.firebasestorage.app",messagingSenderId:"1066445028663",appId:"1:1066445028663:web:28bd3b28e184906feb2eb2"}),s=(0,i.xI)(a),l=(0,o.aU)(a)},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},787:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,lq:()=>l,sG:()=>c});const r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(e,t,n){const s=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(s)),c=s/Math.pow(10,l),u=c>=r?10:c>=i?5:c>=o?2:1;let d,h,f;return l<0?(f=Math.pow(10,-l)/u,d=Math.round(e*f),h=Math.round(t*f),d/f<e&&++d,h/f>t&&--h,f=-f):(f=Math.pow(10,l)*u,d=Math.round(e/f),h=Math.round(t/f),d*f<e&&++d,h*f>t&&--h),h<d&&.5<=n&&n<2?a(e,t,2*n):[d,h,f]}function s(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,s]=r?a(t,e,n):a(e,t,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let a=0;a<l;++a)c[a]=(o-a)/-s;else for(let a=0;a<l;++a)c[a]=(o-a)*s;else if(s<0)for(let a=0;a<l;++a)c[a]=(i+a)/-s;else for(let a=0;a<l;++a)c[a]=(i+a)*s;return c}function l(e,t,n){return a(e=+e,t=+t,n=+n)[2]}function c(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?l(t,e,n):l(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},831:(e,t,n)=>{"use strict";function r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{A:()=>r})},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>d,Gh:()=>D,HS:()=>M,Oi:()=>s,Rr:()=>h,pX:()=>z,pb:()=>C,rc:()=>i,tH:()=>U,ue:()=>m,yD:()=>P,zR:()=>a}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function a(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,a){void 0===a&&(a={});let{window:l=document.defaultView,v5Compat:h=!1}=a,f=l.history,p=i.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(o,v),m=e,()=>{l.removeEventListener(o,v),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=u(w.location,e,t);n&&n(r,e),g=y()+1;let o=c(r,g),a=w.createHref(r);try{f.pushState(o,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(a)}h&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=i.Replace;let r=u(w.location,e,t);n&&n(r,e),g=y();let o=c(r,g),a=w.createHref(r);f.replaceState(o,"",a),h&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=C(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let o=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=j(i);a=T(o[s],e,r)}return a}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=M([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:O(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=v(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,w=3,x=2,S=1,E=10,_=-2,k=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=_),t&&(r+=x),n.filter((e=>!k(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?S:E)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([o,u.pathname]),pathnameBase:R(M([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=M([o,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let n=I(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,i){let o;void 0===i&&(i=!1),"string"===typeof e?o=h(e):(o=r({},e),s(!o.pathname||!o.pathname.includes("?"),N("?","pathname","search",o)),s(!o.pathname||!o.pathname.includes("#"),N("#","pathname","hash",o)),s(!o.search||!o.search.includes("#"),N("#","search","hash",o)));let a,l=""===e||""===o.pathname,c=l?"/":o.pathname;if(null==c)a=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:F(i)}}(o,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class U extends Error{}function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1645:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,C:()=>s});var r=n(787),i=n(9793),o=n(4402),a=n(3080);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.Ay)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,a.A)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,o,a=t(),s=0,l=a.length-1,c=a[s],u=a[l],d=10;for(u<c&&(o=c,c=u,u=o,o=s,s=l,l=o);d-- >0;){if((o=(0,r.lq)(c,u,n))===i)return a[s]=c,a[l]=u,t(a);if(o>0)c=Math.floor(c/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,u=Math.floor(u*o)/o}i=o}return e},e}function l(){var e=(0,i.Ay)();return e.copy=function(){return(0,i.C)(e,l())},o.C.apply(e,arguments),s(e)}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(4156),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:()=>{},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1963:(e,t,n)=>{"use strict";function r(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(t,{A:()=>r})},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2099:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,z:()=>s});var r=n(4402),i=n(8299);function o(){var e,t,n=(0,i.A)().unknown(void 0),a=n.domain,s=n.range,l=0,c=1,u=!1,d=0,h=0,f=.5;function p(){var n=a().length,r=c<l,i=r?c:l,o=r?l:c;e=(o-i)/Math.max(1,n-d+2*h),u&&(e=Math.floor(e)),i+=(o-i-e*(n-d))*f,t=e*(1-d),u&&(i=Math.round(i),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return i+e*t}));return s(r?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),p()):a()},n.range=function(e){return arguments.length?([l,c]=e,l=+l,c=+c,p()):[l,c]},n.rangeRound=function(e){return[l,c]=e,l=+l,c=+c,u=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,p()):u},n.padding=function(e){return arguments.length?(d=Math.min(1,h=+e),p()):d},n.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),p()):d},n.paddingOuter=function(e){return arguments.length?(h=+e,p()):h},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),p()):f},n.copy=function(){return o(a(),[l,c]).round(u).paddingInner(d).paddingOuter(h).align(f)},r.C.apply(p(),arguments)}function a(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a(t())},e}function s(){return a(o.apply(null,arguments).paddingInner(1))}},2139:(e,t,n)=>{"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{A:()=>r,f:()=>i})},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{A:()=>s})},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,_e=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Oe(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function je(){}var Ce=!1;function Ne(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ae(e,t,n)}finally{Ce=!1,(null!==Ee||null!==_e)&&(je(),Te())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Re=!0,Le=e}};function Be(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,Me.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,_t,kt,Ot=!1,Tt=[],At=null,jt=null,Ct=null,Nt=new Map,It=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Ot=!1,null!==At&&Ft(At)&&(At=null),null!==jt&&Ft(jt)&&(jt=null),null!==Ct&&Ft(Ct)&&(Ct=null),Nt.forEach(Ut),It.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==jt&&Bt(jt,e),null!==Ct&&Bt(Ct,e),Nt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Rt(At,e,t,n,r,i),!0;case"dragenter":return jt=Rt(jt,e,t,n,r,i),!0;case"mouseover":return Ct=Rt(Ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Rt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Rt(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return _n}var On=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(On),An=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Cn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Nn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Oe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},_r={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Or=kr("animationend"),Tr=kr("animationiteration"),Ar=kr("animationstart"),jr=kr("transitionend"),Cr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Cr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Dr=Nr[Pr];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Or,"onAnimationEnd"),Ir(Tr,"onAnimationIteration"),Ir(Ar,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=xe(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Or:case Tr:case Ar:l=yn;break;case jr:l=Cn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Hn(s))if($n)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Ie(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],Ei=-1;function _i(e){return{current:e}}function ki(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Oi(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ti={},Ai=_i(Ti),ji=_i(!1),Ci=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(ji),ki(Ai)}function Di(e,t,n){if(Ai.current!==Ti)throw Error(o(168));Oi(Ai,t),Oi(ji,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ci=Ai.current,Oi(Ai,e),Oi(ji,ji.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(ji),ki(Ai),Oi(Ai,e)):ki(ji),Oi(ji,n)}var Fi=null,Ui=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,zi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=Xi,Ki[Qi++]=$i,Ki[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case I:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),Eo=_i(null),_o=null,ko=null,Oo=null;function To(){Oo=ko=_o=null}function Ao(e){var t=Eo.current;ki(Eo),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){_o=e,Oo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Oo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===_o)throw Error(o(308));ko=e,_o.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Io=null;function Po(e){null===Io?Io=[e]:Io.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Go=_i(Wo),Ko=_i(Wo),Qo=_i(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Xo(e,t){switch(Oi(Qo,t),Oi(Ko,e),Oi(Go,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Go),Oi(Go,t)}function $o(){ki(Go),ki(Ko),ki(Qo)}function Jo(e){Yo(Qo.current);var t=Yo(Go.current),n=le(t,e.type);t!==n&&(Oi(Ko,e),Oi(Go,n))}function Zo(e){Ko.current===e&&(ki(Go),ki(Ko))}var ea=_i(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function _a(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Na(9,Oa.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(o(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&ja(e)}function Ta(e,t,n){return n((function(){Aa(t)&&ja(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ca(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ba().memoizedState}function Pa(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Na(t,n,o,r))}sa.flags|=e,i.memoizedState=Na(1|t,n,o,r)}function Ma(e,t){return Pa(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function Ba(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ga(){return ba().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Xa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Qa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Xa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:No,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:No,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ca,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jl.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:No,useCallback:Va,useContext:No,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:Ia,useState:function(){return xa(wa)},useDebugValue:Ba,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:_a,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:No,useCallback:Va,useContext:No,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:Sa,useRef:Ia,useState:function(){return Sa(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:_a,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Ii(t)?Ci:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Ii(t)?Ci:Ai.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Os(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oi(Pl,Il),Il|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oi(Pl,Il),Il|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Ii(n)?Ci:Ai.current;return o=Ni(t,o),Co(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Ii(n)){var o=!0;Ri(t)}else o=!1;if(Co(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Ni(t,c=Ii(n)?Ci:Ai.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ji.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ni(t,l=Ii(n)?Ci:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||ji.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Hs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xo(e,t.containerInfo)}function Cs(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Is,Ps,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oi(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=jl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=Xi,Ki[Qi++]=$i,Ki[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,$o(),ki(ji),ki(Ai),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Is(e,t),Gs(t),null;case 5:Zo(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=Yo(Go.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(ki(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return $o(),Is(e,t),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return Ao(t.type._context),Gs(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Vl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*$e()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ea.current,Oi(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),ki(ji),ki(Ai),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return $o(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Go.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Ys=s,Xs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&il(t)}catch(f){_c(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var o=t.return;try{il(t)}catch(l){_c(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var El,_l=Math.ceil,kl=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Al=0,jl=null,Cl=null,Nl=0,Il=0,Pl=_i(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,zl=null,Bl=0,Vl=1/0,ql=null,Hl=!1,Wl=null,Gl=null,Kl=!1,Ql=null,Yl=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Al)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(o(185));yt(e,n,r),0!==(2&Al)&&e===jl||(e===jl&&(0===(2&Al)&&(Ll|=n),4===Dl&&sc(e,Nl)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Vl=$e()+500,Ui&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===jl?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===(6&Al)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Al;Al|=2;var a=pc();for(jl===e&&Nl===t||(ql=null,Vl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}To(),kl.current=a,Al=i,null!==Cl?t=0:(jl=null,Nl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,ql),t);break}xc(e,zl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,ql),r);break}xc(e,zl,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,ql),rc(e,$e()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Vl=$e()+500,Ui&&Vi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Al)&&Sc();var t=Al;Al|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Al=t))&&Vi()}}function dc(){Il=Pl.current,ki(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:$o(),ki(ji),ki(Ai),ra();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:ki(ea);break;case 10:Ao(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Cl=e=Pc(e.current,null),Nl=Il=t,Dl=0,Ml=null,Fl=Ll=Rl=0,zl=Ul=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function fc(e,t){for(;;){var n=Cl;try{if(To(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Ol.current=null,null===n||null===n.return){Dl=1,Ml=t,Cl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===jl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(jl,Nl)}function gc(e,t){var n=Al;Al|=2;var r=pc();for(jl===e&&Nl===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(To(),Al=n,kl.current=r,null!==Cl)throw Error(o(261));return jl=null,Nl=0,Dl}function yc(){for(;null!==Cl;)bc(Cl)}function vc(){for(;null!==Cl&&!Ye();)bc(Cl)}function bc(e){var t=El(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wc(e):Cl=t,Ol.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Cl=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Dl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===jl&&(Cl=jl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,jc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Al;Al|=4,Ol.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Al=l,bt=s,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){_c(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Al=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=zo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Nl&n)===n&&(4===Dl||3===Dl&&(130023424&Nl)===Nl&&500>$e()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Oc(e,n)}function jc(e,t){return Ke(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Cc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case _:s=8,i|=8;break;case k:return(e=Nc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case j:return(e=Nc(13,n,t,i)).elementType=j,e.lanes=a,e;case C:return(e=Nc(19,n,t,i)).elementType=C,e.lanes=a,e;case P:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case T:s=9;break e;case A:s=11;break e;case N:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Bc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nc(e,i,a,o),Bo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:js(t),po();break;case 5:Jo(t);break;case 1:Ii(t.type)&&Ri(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oi(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Oi(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Oi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);Co(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(js(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Cs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Cs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oi(Eo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ji.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),jo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),jo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=No(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Ii(r)?(e=!0,Ri(t)):e=!1,Co(t,n),as(t,r,i),ls(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return _s(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Al)&&(Vl=$e()+500,Vi()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Oe,Te,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3080:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(787),i=n(276),o=n(9554);var a=n(9741);function s(e,t,n,s){var l,c=(0,r.sG)(e,t,n);switch((s=(0,i.A)(null==s?",f":s)).type){case"s":var u=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(l=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,o.A)(t)/3)))-(0,o.A)(Math.abs(e)))}(c,u))||(s.precision=l),(0,a.s)(s,u);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(l=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,o.A)(t)-(0,o.A)(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(s.precision=l-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(l=function(e){return Math.max(0,-(0,o.A)(Math.abs(e)))}(c))||(s.precision=l-2*("%"===s.type))}return(0,a.GP)(s)}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>f,BV:()=>R,C5:()=>P,Ix:()=>M,V8:()=>I,Zp:()=>y,jb:()=>c,qh:()=>D,x$:()=>v,zy:()=>m});var i=n(5043),o=n(1387);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const s=i.createContext(null);const l=i.createContext(null);const c=i.createContext(null);const u=i.createContext(null);const d=i.createContext({outlet:null,matches:[],isDataRoute:!1});const h=i.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;p()||(0,o.Oi)(!1);let{basename:r,navigator:a}=i.useContext(c),{hash:s,pathname:l,search:u}=v(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,o.HS)([r,l])),a.createHref({pathname:d,search:u,hash:s})}function p(){return null!=i.useContext(u)}function m(){return p()||(0,o.Oi)(!1),i.useContext(u).location}function g(e){i.useContext(c).static||i.useLayoutEffect(e)}function y(){let{isDataRoute:e}=i.useContext(d);return e?function(){let{router:e}=T(k.UseNavigateStable),t=j(O.UseNavigateStable),n=i.useRef(!1);return g((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))}),[e,t])}():function(){p()||(0,o.Oi)(!1);let e=i.useContext(s),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:a}=i.useContext(d),{pathname:l}=m(),u=JSON.stringify((0,o.yD)(a,n.v7_relativeSplatPath)),h=i.useRef(!1);return g((()=>{h.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!h.current)return;if("number"===typeof n)return void r.go(n);let a=(0,o.Gh)(n,JSON.parse(u),l,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,o.HS)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,u,l,e])}()}function v(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:a}=i.useContext(d),{pathname:s}=m(),l=JSON.stringify((0,o.yD)(a,r.v7_relativeSplatPath));return i.useMemo((()=>(0,o.Gh)(e,JSON.parse(l),s,"path"===n)),[e,l,s,n])}function b(e,t,n,r){p()||(0,o.Oi)(!1);let{navigator:s}=i.useContext(c),{matches:l}=i.useContext(d),h=l[l.length-1],f=h?h.params:{},g=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let y,v=m();if(t){var b;let e="string"===typeof t?(0,o.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,o.Oi)(!1),y=e}else y=v;let w=y.pathname||"/",x=w;if("/"!==g){let e=g.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=(0,o.ue)(e,{pathname:x});let E=_(S&&S.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:(0,o.HS)([g,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,o.HS)([g,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&E?i.createElement(u.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:o.rc.Pop}},E):E}function w(){let e=function(){var e;let t=i.useContext(h),n=A(O.UseRouteError),r=j(O.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,o.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const x=i.createElement(w,null);class S extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(d.Provider,{value:this.props.routeContext},i.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(d.Provider,{value:t},r)}function _(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,o.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,o)=>{let a,s=!1,h=null,f=null;var p;n&&(a=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||x,u&&(d<0&&0===o?(p="route-fallback",!1||C[p]||(C[p]=!0),s=!0,f=null):d===o&&(s=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,o+1)),g=()=>{let t;return t=a?h:s?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(E,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(S,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),O=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(O||{});function T(e){let t=i.useContext(s);return t||(0,o.Oi)(!1),t}function A(e){let t=i.useContext(l);return t||(0,o.Oi)(!1),t}function j(e){let t=function(){let e=i.useContext(d);return e||(0,o.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.Oi)(!1),n.route.id}const C={};const N=(e,t,n)=>{};function I(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&N("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||N("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&N("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&N("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&N("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&N("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(i,2))).startTransition;function P(e){let{to:t,replace:n,state:r,relative:a}=e;p()||(0,o.Oi)(!1);let{future:s,static:l}=i.useContext(c),{matches:u}=i.useContext(d),{pathname:h}=m(),f=y(),g=(0,o.Gh)(t,(0,o.yD)(u,s.v7_relativeSplatPath),h,"path"===a),v=JSON.stringify(g);return i.useEffect((()=>f(JSON.parse(v),{replace:n,state:r,relative:a})),[f,v,a,n,r]),null}function D(e){(0,o.Oi)(!1)}function M(e){let{basename:t="/",children:n=null,location:r,navigationType:s=o.rc.Pop,navigator:l,static:d=!1,future:h}=e;p()&&(0,o.Oi)(!1);let f=t.replace(/^\/*/,"/"),m=i.useMemo((()=>({basename:f,navigator:l,static:d,future:a({v7_relativeSplatPath:!1},h)})),[f,h,l,d]);"string"===typeof r&&(r=(0,o.Rr)(r));let{pathname:g="/",search:y="",hash:v="",state:b=null,key:w="default"}=r,x=i.useMemo((()=>{let e=(0,o.pb)(g,f);return null==e?null:{location:{pathname:e,search:y,hash:v,state:b,key:w},navigationType:s}}),[f,g,y,v,b,w,s]);return null==x?null:i.createElement(c.Provider,{value:m},i.createElement(u.Provider,{children:n,value:x}))}function R(e){let{children:t,location:n}=e;return b(L(t),n)}new Promise((()=>{}));i.Component;function L(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,L(e.props.children,a));e.type!==D&&(0,o.Oi)(!1),e.props.index&&e.props.children&&(0,o.Oi)(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=L(e.props.children,a)),n.push(s)})),n}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3809:(e,t,n)=>{"use strict";function r(e){return function(){return e}}n.d(t,{A:()=>r})},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function w(){var e=i();if(b(e))return x(e);h=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function x(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(w,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(w,t),v(f)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:x(i())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4156:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+A(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),j(a,t,i,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+A(s=e[c],c);l+=j(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=j(s=s.value,t,i,u=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4283:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{A:()=>r})},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4402:(e,t,n)=>{"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{C:()=>r,K:()=>i})},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4521:(e,t,n)=>{"use strict";function r(e){return+e}n.d(t,{A:()=>r})},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5206:(e,t,n)=>{"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}n.d(t,{Ay:()=>x,Qh:()=>_});var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),f=new RegExp("^rgb\\(".concat(u,",").concat(u,",").concat(u,"\\)$")),p=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(c,"\\)$")),m=new RegExp("^rgba\\(".concat(u,",").concat(u,",").concat(u,",").concat(c,"\\)$")),g=new RegExp("^hsl\\(".concat(c,",").concat(u,",").concat(u,"\\)$")),y=new RegExp("^hsla\\(".concat(c,",").concat(u,",").concat(u,",").concat(c,"\\)$")),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?S(t):3===n?new k(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?E(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?E(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new k(t[1],t[2],t[3],1):(t=f.exec(e))?new k(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?E(t[1],t[2],t[3],t[4]):(t=m.exec(e))?E(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?N(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?N(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?S(v[e]):"transparent"===e?new k(NaN,NaN,NaN,0):null}function S(e){return new k(e>>16&255,e>>8&255,255&e,1)}function E(e,t,n,r){return r<=0&&(e=t=n=NaN),new k(e,t,n,r)}function _(e,t,n,r){return 1===arguments.length?((i=e)instanceof o||(i=x(i)),i?new k((i=i.rgb()).r,i.g,i.b,i.opacity):new k):new k(e,t,n,null==r?1:r);var i}function k(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function O(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b))}function T(){const e=A(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(j(this.r),", ").concat(j(this.g),", ").concat(j(this.b)).concat(1===e?")":", ".concat(e,")"))}function A(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function j(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C(e){return((e=j(e))<16?"0":"")+e.toString(16)}function N(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new P(e,t,n,r)}function I(e){if(e instanceof P)return new P(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=x(e)),!e)return new P;if(e instanceof P)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new P(s,l,c,e.opacity)}function P(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function D(e){return(e=(e||0)%360)<0?e+360:e}function M(e){return Math.max(0,Math.min(1,e||0))}function R(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,x,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:w,toString:w}),r(k,_,i(o,{brighter(e){return e=null==e?s:Math.pow(s,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new k(j(this.r),j(this.g),j(this.b),A(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O,formatHex:O,formatHex8:function(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b)).concat(C(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:T,toString:T})),r(P,(function(e,t,n,r){return 1===arguments.length?I(e):new P(e,t,n,null==r?1:r)}),i(o,{brighter(e){return e=null==e?s:Math.pow(s,e),new P(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new P(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new k(R(e>=240?e-240:e+120,i,r),R(e,i,r),R(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new P(D(this.h),M(this.s),M(this.l),A(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=A(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(D(this.h),", ").concat(100*M(this.s),"%, ").concat(100*M(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}))},5248:(e,t,n)=>{"use strict";function r(e){this._context=e}function i(e){return new r(e)}n.d(t,{A:()=>i}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},5252:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});class r extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(i(this,e))}has(e){return super.has(i(this,e))}set(e,t){return super.set(o(this,e),t)}delete(e){return super.delete(a(this,e))}}Set;function i(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function o(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function a(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function s(e){return null!==e&&"object"===typeof e?e.valueOf():e}},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5365:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c});var r=n(5206);function i(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var o=n(8419);function a(e,t){return function(n){return e+n*t}}function s(e){return 1===(e=+e)?l:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,o.A)(isNaN(t)?n:t)}}function l(e,t){var n=t-e;return n?a(e,n):(0,o.A)(isNaN(e)?t:e)}const c=function e(t){var n=s(t);function i(e,t){var i=n((e=(0,r.Qh)(e)).r,(t=(0,r.Qh)(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),s=l(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function u(e){return function(t){var n,i,o=t.length,a=new Array(o),s=new Array(o),l=new Array(o);for(n=0;n<o;++n)i=(0,r.Qh)(t[n]),a[n]=i.r||0,s[n]=i.g||0,l[n]=i.b||0;return a=e(a),s=e(s),l=e(l),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=l(e),i+""}}}u((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,l=r<t-1?e[r+2]:2*a-o;return i((n-r/t)*t,s,o,a,l)}})),u((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return i((n-r/t)*t,o,a,s,l)}}))},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5472:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>Q,gS:()=>Ks,rJ:()=>Fa,kd:()=>Gs,H9:()=>Ua,x7:()=>Bs,GG:()=>qs,aU:()=>Va,AB:()=>Cs,My:()=>As,P:()=>Es,BN:()=>Hs,mZ:()=>Ws,_M:()=>ks,wP:()=>Js});var r,i,o=n(7150),a=n(8812),s=n(443),l=n(7700),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new o([0|e],0>e?-1:0)})):new o([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}var c=s(0),d=s(1),h=s(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(m(e),t),new v(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new v(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=x(n,1),o=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var a=o.add(r);0>=a.l(e)&&(i=i.add(n),o=a),r=x(r,1),n=x(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=l(n)).j(t);p(a)||0<a.l(e);)a=(o=l(n-=r)).j(t);f(o)&&(o=d),i=i.add(o),e=g(e,a)}return new v(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}(e=o.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,o=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new o(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,s=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=s*d,y(n,2*r+2*i),n[2*r+2*i+1]+=a*d,y(n,2*r+2*i+1),n[2*r+2*i+1]+=s*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(s))):i=(i=i.j(r)).add(l(s))}return i},r=u.Integer=o}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function E(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function O(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function A(e){return A[" "](e),e}A[" "]=function(){};var j=-1!=T().indexOf("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge"))&&!(-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE"))&&-1==T().indexOf("Edge");function C(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function D(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function M(e){i.setTimeout((()=>{throw e}),0)}function R(){var e=B;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var L=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new F),(e=>e.reset()));class F{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let U,z=!1,B=new class{constructor(){this.h=this.g=null}add(e,t){const n=L.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},V=()=>{const e=i.Promise.resolve(void 0);U=()=>{e.then(q)}};var q=()=>{for(var e;e=R();){try{e.h.call(e.g)}catch(n){M(n)}var t=L;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}z=!1};function H(){this.s=this.s,this.C=this.C}function W(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},W.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function K(e,t){if(W.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j){e:{try{A(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&K.aa.h.call(this)}}S(K,W);var Q={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),X=0;function $(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++X,this.da=this.fa=!1}function J(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Z(e){this.src=e,this.g={},this.h=0}function ee(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(J(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function te(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}Z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=te(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new $(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ne="closure_lm_"+(1e6*Math.random()|0),re={};function ie(e,t,n,r,i){if(r&&r.once)return ae(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ie(e,t[o],n,r,i);return null}return n=fe(n),e&&e[Y]?e.K(t,n,a(r)?!!r.capture:!!r,i):oe(e,t,n,!1,r,i)}function oe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=de(e);if(l||(e[ne]=l=new Z(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ue;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)G||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ce(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ae(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ae(e,t[o],n,r,i);return null}return n=fe(n),e&&e[Y]?e.L(t,n,a(r)?!!r.capture:!!r,i):oe(e,t,n,!0,r,i)}function se(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)se(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=fe(n),e&&e[Y]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=te(o=e.g[t],n,r,i))&&(J(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=de(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,n,r,i)),(n=-1<e?t[e]:null)&&le(n))}function le(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Y])ee(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=de(t))?(ee(n,e),0==n.h&&(n.src=null,t[ne]=null)):J(e)}}}function ce(e){return e in re?re[e]:re[e]="on"+e}function ue(e,t){if(e.da)e=!0;else{t=new K(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&le(e),e=n.call(r,t)}return e}function de(e){return(e=e[ne])instanceof Z?e:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(e){return"function"===typeof e?e:(e[he]||(e[he]=function(t){return e.handleEvent(t)}),e[he])}function pe(){H.call(this),this.i=new Z(this),this.M=this,this.F=null}function me(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new W(t,e);else if(t instanceof W)t.target=t.target||e;else{var i=t;P(t=new W(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ge(a,r,!0,t)&&i}if(i=ge(a=t.g=e,r,!0,t)&&i,i=ge(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ge(a=t.g=n[o],r,!1,t)&&i}function ge(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&ee(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ye(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ve(e){e.g=ye((()=>{e.g=null,e.i&&(e.i=!1,ve(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}S(pe,H),pe.prototype[Y]=!0,pe.prototype.removeEventListener=function(e,t,n,r){se(this,e,t,n,r)},pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)J(n[r]);delete t.g[e],t.h--}}this.F=null},pe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pe.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class be extends H{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(e){H.call(this),this.h=e,this.g={}}S(we,H);var xe=[];function Se(e){C(e.g,(function(e,t){this.g.hasOwnProperty(t)&&le(e)}),e),e.g={}}we.prototype.N=function(){we.aa.N.call(this),Se(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=i.JSON.stringify,_e=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Oe(){}function Te(e){return e.h||(e.h=e.i())}function Ae(){}Oe.prototype.h=null;var je={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ce(){W.call(this,"d")}function Ne(){W.call(this,"c")}S(Ce,W),S(Ne,W);var Ie={},Pe=null;function De(){return Pe=Pe||new pe}function Me(e){W.call(this,Ie.La,e)}function Re(e){const t=De();me(t,new Me(t))}function Le(e,t){W.call(this,Ie.STAT_EVENT,e),this.stat=t}function Fe(e){const t=De();me(t,new Le(t,e))}function Ue(e,t){W.call(this,Ie.Ma,e),this.size=t}function ze(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Be(){this.g=!0}function Ve(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ee(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ie.La="serverreachability",S(Me,W),Ie.STAT_EVENT="statevent",S(Le,W),Ie.Ma="timingevent",S(Ue,W),Be.prototype.xa=function(){this.g=!1},Be.prototype.info=function(){};var qe,He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ge(){}function Ke(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}S(Ge,Oe),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},qe=new Ge;var Ye={},Xe={};function $e(e,t,n){e.L=1,e.v=Et(vt(t)),e.m=n,e.P=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),tt(e),e.A=vt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Lt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Qe,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new be(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(xe[0]=i.toString()),i=xe);for(var o=0;o<i.length;o++){var a=ie(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Re(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xe:(n=Number(t.substring(n,r)),isNaN(n)?Ye:(r+=1)+n>t.length?Xe:(t=t.slice(r,r+n),e.C=r+n,t))}function tt(e){e.S=Date.now()+e.I,nt(e,e.I)}function nt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ze(c(e.ba,e),t)}function rt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function it(e){0==e.j.G||e.J||wn(e.j,e)}function ot(e){rt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Se(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function at(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||dt(n.h,e)))if(!e.K&&dt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),cn(n)}gn(n),Fe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=ze(c(n.Za,n),6e3));if(1>=ut(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else Sn(n,11)}else if((e.K||n.g==e)&&bn(n),!O(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ht(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,St(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=_n(r,r.J?r.ia:null,r.W),a.K){ft(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(rt(s),tt(s)),r.g=a}else mn(r);0<n.i.length&&dn(n)}else"stop"!=c[0]&&"close"!=c[0]||Sn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Sn(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Re()}catch(u){}}Ke.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Ke.prototype.Y=function(e){try{if(e==this.g)e:{const h=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||on(this.g)))){this.J||4!=h||7==t||Re(),rt(this);var n=this.g.Z();this.X=n;t:if(Ze(this)){var r=on(this.g);e="";var o=r.length,a=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ot(this),it(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Fe(12),ot(this),it(this);break e}Ve(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,at(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=et(this,s),e==Xe){4==h&&(this.s=4,Fe(14),n=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ye){this.s=4,Fe(15),Ve(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ve(this.i,this.l,e,null),at(this,e)}if(Ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Fe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),yn(d),d.M=!0,Fe(11))}}else Ve(this.i,this.l,s,"[Invalid Chunked Response]"),ot(this),it(this)}else Ve(this.i,this.l,s,null),at(this,s);4==h&&ot(this),this.o&&!this.J&&(4==h?wn(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(O(e[r]))continue;var n=D(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),ot(this),it(this)}}}catch(x){}},Ke.prototype.cancel=function(){this.J=!0,ot(this)},Ke.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Re(),Fe(17)),ot(this),this.s=2,it(this)):nt(this,this.S-e)};var st=class{constructor(e,t){this.g=e,this.map=t}};function lt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ct(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ut(e){return e.h?1:e.g?e.g.size:0}function dt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ht(e,t){e.g?e.g.add(t):e.h=t}function ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return E(e.i)}function mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}lt.prototype.cancel=function(){if(this.i=pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof yt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,wt(this,e.s),this.l=e.l;var t=e.i,n=new Pt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.m=e.m}else e&&(t=String(e).match(gt))?(this.h=!1,bt(this,t[1]||"",!0),this.o=_t(t[2]||""),this.g=_t(t[3]||"",!0),wt(this,t[4]),this.l=_t(t[5]||"",!0),xt(this,t[6]||"",!0),this.m=_t(t[7]||"")):(this.h=!1,this.i=new Pt(null,this.h))}function vt(e){return new yt(e)}function bt(e,t,n){e.j=n?_t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function xt(e,t,n){t instanceof Pt?(e.i=t,function(e,t){t&&!e.j&&(Dt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mt(this,t),Lt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,Nt)),e.i=new Pt(t,e.h))}function St(e,t,n){e.i.set(t,n)}function Et(e){return St(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,At,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,At,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?Ct:jt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,It)),e.join("")};var Tt,At=/[#\/\?@]/g,jt=/[#\?:]/g,Ct=/[#\?]/g,Nt=/[#\?@]/g,It=/#/g;function Pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Mt(e,t){Dt(e),t=Ft(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rt(e,t){return Dt(e),t=Ft(e,t),e.g.has(t)}function Lt(e,t,n){Mt(e,t),0<n.length&&(e.i=null,e.g.set(Ft(e,t),E(n)),e.h+=n.length)}function Ft(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ut(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function zt(){this.g=new ke}function Bt(e,t,n){const r=n||"";try{mt(e,(function(e,n){let i=e;a(e)&&(i=Ee(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function qt(e,t){pe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ht(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Gt(e)}function Gt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){let t="";return C(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):St(e,t,n))}function Yt(e){pe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Pt.prototype).add=function(e,t){Dt(this),this.i=null,e=Ft(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Dt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Dt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Dt(this);let t=[];if("string"===typeof e)Rt(this,e)&&(t=t.concat(this.g.get(Ft(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Dt(this),this.i=null,Rt(this,e=Ft(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},S(Vt,Oe),Vt.prototype.g=function(){return new qt(this.l,this.j)},Vt.prototype.i=(Tt={},function(){return Tt}),S(qt,pe),(e=qt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Gt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gt(this)),this.g&&(this.readyState=3,Gt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ht(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):Gt(this),3==this.readyState&&Ht(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),S(Yt,pe);var Xt=/^https?$/i,$t=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Zt(e),tn(e)}function Zt(e){e.A||(e.A=!0,me(e,"complete"),me(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))ye(e.Ea,0,e);else if(me(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(gt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Xt.test(a?a.toLowerCase():"")}n=o}if(n)me(e,"complete"),me(e,"success");else{e.m=6;try{var s=2<rn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Zt(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||me(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function on(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_){return null}}function an(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sn(e){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=an("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=an("baseRetryDelayMs",5e3,e),this.cb=an("retryDelaySeedMs",1e4,e),this.Wa=an("forwardChannelMaxRetries",2,e),this.wa=an("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new lt(e&&e.concurrentRequestLimit),this.Da=new zt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=vt(e.I);if(St(n,"SID",e.K),St(n,"RID",t),St(n,"TYPE","terminate"),fn(e,n),(t=new Ke(e,e.j,t)).L=2,t.v=Et(vt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}En(e)}function cn(e){e.g&&(yn(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(i.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function dn(e){if(!ct(e.h)&&!e.s){e.s=!0;var t=e.Ga;U||V(),z||(U(),z=!0),B.add(t,e),e.B=0}}function hn(e,t){var n;n=t?t.l:e.U++;const r=vt(e.I);St(r,"SID",e.K),St(r,"RID",n),St(r,"AID",e.T),fn(e,r),e.m&&e.o&&Qt(r,e.m,e.o),n=new Ke(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=pn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ht(e.h,n),$e(n,r,t)}function fn(e,t){e.H&&C(e.H,(function(e,n){St(t,n,e)})),e.l&&mt({},(function(e,n){St(t,n,e)}))}function pn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Bt(s,e,"req"+n+"_")}catch(x){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function mn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;U||V(),z||(U(),z=!0),B.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=ze(c(e.Fa,e),xn(e,e.v)),e.v++,!0)}function yn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function vn(e){e.g=new Ke(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=vt(e.qa);St(t,"RID","rpc"),St(t,"SID",e.K),St(t,"AID",e.T),St(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&St(t,"TO",e.ja),St(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Et(vt(t)),n.m=null,n.P=!0,Je(n,e)}function bn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){bn(e),yn(e),e.g=null;var r=2}else{if(!dt(e.h,t))return;n=t.D,ft(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;me(r=De(),new Ue(r,n)),dn(e)}else mn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ut(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=ze(c(e.Ga,e,t),xn(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Sn(e,5);break;case 4:Sn(e,10);break;case 3:Sn(e,6);break;default:Sn(e,2)}}function xn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Sn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new yt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||bt(r,"https"),Et(r),t?function(e,t){const n=new Be;if(i.Image){const r=new Image;r.onload=u(Ut,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ut,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ut,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ut,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Be;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ut(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ut(0,0,!0,t):Ut(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ut(0,0,!1,t)}))}(r.toString(),n)}else Fe(2);e.G=0,e.l&&e.l.sa(t),En(e),un(e)}function En(e){if(e.G=0,e.ka=[],e.l){const t=pt(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.ra()}}function _n(e,t,n){var r=n instanceof yt?vt(n):new yt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new yt(null);r&&bt(a,r),t&&(a.g=t),o&&wt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&St(r,n,t),St(r,"VER",e.la),fn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Yt(new Vt({eb:n})):new Yt(e.pa)).Ha(e.J),t}function On(){}function Tn(){}function An(e,t){pe.call(this),this.g=new sn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!O(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function jn(e){Ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cn(){Ne.call(this),this.status=1}function Nn(e){this.g=e}(e=Yt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Te(this.o):Te(qe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Jt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call($t,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Jt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,me(this,"complete"),me(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(Tt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Tt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_e(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=sn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Fe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=_n(this,null,this.W),dn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ke(this,this.j,e);let o=this.o;if(this.S&&(o?(o=N(o),P(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pn(this,i,t),St(n=vt(this.I),"RID",e),St(n,"CVER",22),this.D&&St(n,"X-HTTP-Session-Id",this.D),fn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Kt(o)))+"&"+t:this.m&&Qt(n,this.m,o)),ht(this.h,i),this.Ua&&St(n,"TYPE","init"),this.P?(St(n,"$req",t),St(n,"SID","null"),i.T=!0,$e(i,n,null)):$e(i,n,t),this.G=2}}else 3==this.G&&(e?hn(this,e):0==this.i.length||ct(this.h)||hn(this))},e.Fa=function(){if(this.u=null,vn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=ze(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),cn(this),vn(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),gn(this),Fe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=On.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tn.prototype.g=function(e,t){return new An(e,t)},S(An,pe),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ln(this.g)},An.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=Ee(e),e=n);t.i.push(new st(t.Ya++,e)),3==t.G&&dn(t)},An.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,An.aa.N.call(this)},S(jn,Ce),S(Cn,Ne),S(Nn,On),Nn.prototype.ua=function(){me(this.g,"a")},Nn.prototype.ta=function(e){me(this.g,new jn(e))},Nn.prototype.sa=function(e){me(this.g,new Cn)},Nn.prototype.ra=function(){me(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,v=w.createWebChannelTransport=function(){return new Tn},y=w.getStatEventTarget=function(){return De()},g=w.Event=Ie,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,p=w.ErrorCode=He,We.COMPLETE="complete",f=w.EventType=We,Ae.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",pe.prototype.listen=pe.prototype.K,h=w.WebChannel=Ae,w.FetchXmlHttpFactory=Vt,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,d=w.XhrIo=Yt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let E="10.14.0";const _=new s.Vy("@firebase/firestore");function k(){return _.logLevel}function O(e){if(_.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);_.debug("Firestore (".concat(E,"): ").concat(e),...i)}}function T(e){if(_.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);_.error("Firestore (".concat(E,"): ").concat(e),...i)}}function A(e){if(_.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);_.warn("Firestore (".concat(E,"): ").concat(e),...i)}}function j(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ")+e;throw T(t),new Error(t)}function N(e,t){e||C()}function I(e,t){return e}const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class M{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class R{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(S.UNAUTHENTICATED)))}shutdown(){}}class F{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){N(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new M;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new M,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new M)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(N("string"==typeof t.accessToken),new R(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e),new S(e)}}class z{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=S.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class B{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new z(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(S.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){N(void 0===this.o);const n=e=>{null!=e.error&&O("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,O("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(N("string"==typeof e.token),this.R=e.token,new V(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class W{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=H(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function G(e,t){return e<t?-1:e>t?1:0}function K(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Q{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Q.fromMillis(Date.now())}static fromDate(e){return Q.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Q(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Q(0,0))}static max(){return new Y(new Q(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class X{constructor(e,t,n){void 0===t?t=0:t>e.length&&C(),void 0===n?n=e.length-t:n>e.length-t&&C(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===X.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof X?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $ extends X{construct(e,t,n){return new $(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new D(P.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new $(e)}static emptyPath(){return new $([])}}const J=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Z extends X{construct(e,t,n){return new Z(e,t,n)}static isValidIdentifier(e){return J.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Z.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Z(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new D(P.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new D(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new D(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Z(t)}static emptyPath(){return new Z([])}}class ee{constructor(e){this.path=e}static fromPath(e){return new ee($.fromString(e))}static fromName(e){return new ee($.fromString(e).popFirst(5))}static empty(){return new ee($.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new $(e.slice()))}}class te{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}te.UNKNOWN_ID=-1;function ne(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new Q(n+1,0):new Q(n,r));return new ie(i,ee.empty(),t)}function re(e){return new ie(e.readTime,e.key,-1)}class ie{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ie(Y.min(),ee.empty(),-1)}static max(){return new ie(Y.max(),ee.empty(),-1)}}function oe(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ee.comparator(e.documentKey,t.documentKey),0!==n?n:G(e.largestBatchId,t.largestBatchId))}const ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class se{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function le(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==ae)throw e;O("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&C(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(e){return ce.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,n)=>{t(e)}))}static reject(e){return new ce(((t,n)=>{n(e)}))}static waitFor(e){return new ce(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ce.resolve(!1);for(const n of e)t=t.next((e=>e?ce.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ce(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new ce(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ue(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function de(e){return"IndexedDbTransactionError"===e.name}class he{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function fe(e){return null==e}function pe(e){return 0===e&&1/e==-1/0}function me(e){return"number"==typeof e&&Number.isInteger(e)&&!pe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}he.oe=-1;const ge=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ye=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ve=ye,be=[...ve,"indexConfiguration","indexState","indexEntries"];function we(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xe(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Se(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ee{constructor(e,t){this.comparator=e,this.root=t||ke.EMPTY}insert(e,t){return new Ee(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _e(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _e(this.root,e,this.comparator,!1)}getReverseIterator(){return new _e(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _e(this.root,e,this.comparator,!0)}}class _e{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ke.RED,this.left=null!=r?r:ke.EMPTY,this.right=null!=i?i:ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ke(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ke.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw C();if(this.right.isRed())throw C();const e=this.left.check();if(e!==this.right.check())throw C();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1,ke.EMPTY=new class{constructor(){this.size=0}get key(){throw C()}get value(){throw C()}get color(){throw C()}get left(){throw C()}get right(){throw C()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ke(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Te(this.data.getIterator())}getIteratorFrom(e){return new Te(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Oe))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Oe(this.comparator);return t.data=e,t}}class Te{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ae{constructor(e){this.fields=e,e.sort(Z.comparator)}static empty(){return new Ae([])}unionWith(e){let t=new Oe(Z.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ae(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return K(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class je extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ce{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new je("Invalid base64 string: "+e):e}}(e);return new Ce(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ce(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const Ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ie(e){if(N(!!e),"string"==typeof e){let t=0;const n=Ne.exec(e);if(N(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function De(e){return"string"==typeof e?Ce.fromBase64String(e):Ce.fromUint8Array(e)}function Me(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Re(e){const t=e.mapValue.fields.__previous_value__;return Me(t)?Re(t):t}function Le(e){const t=Ie(e.mapValue.fields.__local_write_time__.timestampValue);return new Q(t.seconds,t.nanos)}class Fe{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Ue{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ue("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ue&&e.projectId===this.projectId&&e.database===this.database}}const ze={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Be(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Me(e)?4:rt(e)?9007199254740991:tt(e)?10:11:C()}function Ve(e,t){if(e===t)return!0;const n=Be(e);if(n!==Be(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Le(e).isEqual(Le(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ie(e.timestampValue),r=Ie(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return De(e.bytesValue).isEqual(De(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pe(e.geoPointValue.latitude)===Pe(t.geoPointValue.latitude)&&Pe(e.geoPointValue.longitude)===Pe(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pe(e.integerValue)===Pe(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pe(e.doubleValue),r=Pe(t.doubleValue);return n===r?pe(n)===pe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return K(e.arrayValue.values||[],t.arrayValue.values||[],Ve);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(we(n)!==we(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ve(n[i],r[i])))return!1;return!0}(e,t);default:return C()}}function qe(e,t){return void 0!==(e.values||[]).find((e=>Ve(e,t)))}function He(e,t){if(e===t)return 0;const n=Be(e),r=Be(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pe(e.integerValue||e.doubleValue),r=Pe(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return We(e.timestampValue,t.timestampValue);case 4:return We(Le(e),Le(t));case 5:return G(e.stringValue,t.stringValue);case 6:return function(e,t){const n=De(e),r=De(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=G(n[i],r[i]);if(0!==e)return e}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=G(Pe(e.latitude),Pe(t.latitude));return 0!==n?n:G(Pe(e.longitude),Pe(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ge(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=G((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ge(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ze.mapValue&&t===ze.mapValue)return 0;if(e===ze.mapValue)return 1;if(t===ze.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=G(r[a],o[a]);if(0!==e)return e;const t=He(n[r[a]],i[o[a]]);if(0!==t)return t}return G(r.length,o.length)}(e.mapValue,t.mapValue);default:throw C()}}function We(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return G(e,t);const n=Ie(e),r=Ie(t),i=G(n.seconds,r.seconds);return 0!==i?i:G(n.nanos,r.nanos)}function Ge(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=He(n[i],r[i]);if(e)return e}return G(n.length,r.length)}function Ke(e){return Qe(e)}function Qe(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ie(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return De(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ee.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qe(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Qe(e.fields[i]));return n+"}"}(e.mapValue):C()}function Ye(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xe(e){return!!e&&"integerValue"in e}function $e(e){return!!e&&"arrayValue"in e}function Je(e){return!!e&&"nullValue"in e}function Ze(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function et(e){return!!e&&"mapValue"in e}function tt(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xe(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=nt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class it{constructor(e){this.value=e}static empty(){return new it({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!et(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nt(t)}setAll(e){let t=Z.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());et(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ve(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];et(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xe(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new it(nt(this.value))}}function ot(e){const t=[];return xe(e.fields,((e,n)=>{const r=new Z([e]);if(et(n)){const e=ot(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ae(t)}class at{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new at(e,0,Y.min(),Y.min(),Y.min(),it.empty(),0)}static newFoundDocument(e,t,n,r){return new at(e,1,t,Y.min(),n,r,0)}static newNoDocument(e,t){return new at(e,2,t,Y.min(),Y.min(),it.empty(),0)}static newUnknownDocument(e,t){return new at(e,3,t,Y.min(),Y.min(),it.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=it.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=it.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof at&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new at(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class st{constructor(e,t){this.position=e,this.inclusive=t}}function lt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ee.comparator(ee.fromName(a.referenceValue),n.key):He(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ct(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ve(e.position[n],t.position[n]))return!1;return!0}class ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function dt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ht{}class ft extends ht{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new xt(e,t,n):"array-contains"===t?new kt(e,n):"in"===t?new Ot(e,n):"not-in"===t?new Tt(e,n):"array-contains-any"===t?new At(e,n):new ft(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new St(e,n):new Et(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(He(t,this.value)):null!==t&&Be(this.value)===Be(t)&&this.matchesComparison(He(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return C()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pt extends ht{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new pt(e,t)}matches(e){return mt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mt(e){return"and"===e.op}function gt(e){return yt(e)&&mt(e)}function yt(e){for(const t of e.filters)if(t instanceof pt)return!1;return!0}function vt(e){if(e instanceof ft)return e.field.canonicalString()+e.op.toString()+Ke(e.value);if(gt(e))return e.filters.map((e=>vt(e))).join(",");{const t=e.filters.map((e=>vt(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function bt(e,t){return e instanceof ft?function(e,t){return t instanceof ft&&e.op===t.op&&e.field.isEqual(t.field)&&Ve(e.value,t.value)}(e,t):e instanceof pt?function(e,t){return t instanceof pt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&bt(n,t.filters[r])),!0)}(e,t):void C()}function wt(e){return e instanceof ft?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ke(e.value))}(e):e instanceof pt?function(e){return e.op.toString()+" {"+e.getFilters().map(wt).join(" ,")+"}"}(e):"Filter"}class xt extends ft{constructor(e,t,n){super(e,t,n),this.key=ee.fromName(n.referenceValue)}matches(e){const t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class St extends ft{constructor(e,t){super(e,"in",t),this.keys=_t("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Et extends ft{constructor(e,t){super(e,"not-in",t),this.keys=_t("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _t(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ee.fromName(e.referenceValue)))}class kt extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $e(t)&&qe(t.arrayValue,this.value)}}class Ot extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qe(this.value.arrayValue,t)}}class Tt extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(qe(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qe(this.value.arrayValue,t)}}class At extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$e(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qe(this.value.arrayValue,e)))}}class jt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Ct(e){return new jt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Nt(e){const t=I(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>vt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),fe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ke(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ke(e))).join(",")),t.ue=e}return t.ue}function It(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ct(e.startAt,t.startAt)&&ct(e.endAt,t.endAt)}function Pt(e){return ee.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Dt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Mt(e,t,n,r,i,o,a,s){return new Dt(e,t,n,r,i,o,a,s)}function Rt(e){return new Dt(e)}function Lt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ft(e){return null!==e.collectionGroup}function Ut(e){const t=I(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Oe(Z.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ut(r,n))})),e.has(Z.keyField().canonicalString())||t.ce.push(new ut(Z.keyField(),n))}return t.ce}function zt(e){const t=I(e);return t.le||(t.le=Bt(t,Ut(e))),t.le}function Bt(e,t){if("F"===e.limitType)return Ct(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ut(e.field,t)}));const n=e.endAt?new st(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new st(e.startAt.position,e.startAt.inclusive):null;return Ct(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Vt(e,t){const n=e.filters.concat([t]);return new Dt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qt(e,t,n){return new Dt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ht(e,t){return It(zt(e),zt(t))&&e.limitType===t.limitType}function Wt(e){return"".concat(Nt(zt(e)),"|lt:").concat(e.limitType)}function Gt(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>wt(e))).join(", "),"]")),fe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ke(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ke(e))).join(",")),"Target(".concat(t,")")}(zt(e)),"; limitType=").concat(e.limitType,")")}function Kt(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ee.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ut(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=lt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ut(e),t))&&!(e.endAt&&!function(e,t,n){const r=lt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ut(e),t))}(e,t)}function Qt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yt(e){return(t,n)=>{let r=!1;for(const i of Ut(e)){const e=Xt(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Xt(e,t,n){const r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?He(r,i):C()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return C()}}class $t{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xe(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Se(this.inner)}size(){return this.innerSize}}const Jt=new Ee(ee.comparator);function Zt(){return Jt}const en=new Ee(ee.comparator);function tn(){let e=en;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function nn(e){let t=en;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function rn(){return an()}function on(){return an()}function an(){return new $t((e=>e.toString()),((e,t)=>e.isEqual(t)))}const sn=new Ee(ee.comparator),ln=new Oe(ee.comparator);function cn(){let e=ln;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const un=new Oe(G);function dn(){return un}function hn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(t)?"-0":t}}function fn(e){return{integerValue:""+e}}function pn(e,t){return me(t)?fn(t):hn(e,t)}class mn{constructor(){this._=void 0}}function gn(e,t,n){return e instanceof bn?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Me(t)&&(t=Re(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wn?xn(e,t):e instanceof Sn?En(e,t):function(e,t){const n=vn(e,t),r=kn(n)+kn(e.Pe);return Xe(n)&&Xe(e.Pe)?fn(r):hn(e.serializer,r)}(e,t)}function yn(e,t,n){return e instanceof wn?xn(e,t):e instanceof Sn?En(e,t):n}function vn(e,t){return e instanceof _n?function(e){return Xe(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bn extends mn{}class wn extends mn{constructor(e){super(),this.elements=e}}function xn(e,t){const n=On(t);for(const r of e.elements)n.some((e=>Ve(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Sn extends mn{constructor(e){super(),this.elements=e}}function En(e,t){let n=On(t);for(const r of e.elements)n=n.filter((e=>!Ve(e,r)));return{arrayValue:{values:n}}}class _n extends mn{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function kn(e){return Pe(e.integerValue||e.doubleValue)}function On(e){return $e(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Tn{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Cn{}function Nn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Bn(e.key,An.none()):new Rn(e.key,e.data,An.none());{const n=e.data,r=it.empty();let i=new Oe(Z.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ln(e.key,r,new Ae(i.toArray()),An.none())}}function In(e,t,n){e instanceof Rn?function(e,t,n){const r=e.value.clone(),i=Un(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ln?function(e,t,n){if(!jn(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Un(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pn(e,t,n,r){return e instanceof Rn?function(e,t,n,r){if(!jn(e.precondition,t))return n;const i=e.value.clone(),o=zn(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ln?function(e,t,n,r){if(!jn(e.precondition,t))return n;const i=zn(e.fieldTransforms,r,t),o=t.data;return o.setAll(Fn(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dn(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=vn(r.transform,e||null);null!=i&&(null===n&&(n=it.empty()),n.set(r.field,i))}return n||null}function Mn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&K(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wn&&t instanceof wn||e instanceof Sn&&t instanceof Sn?K(e.elements,t.elements,Ve):e instanceof _n&&t instanceof _n?Ve(e.Pe,t.Pe):e instanceof bn&&t instanceof bn}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rn extends Cn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ln extends Cn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fn(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Un(e,t,n){const r=new Map;N(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,yn(a,s,n[i]))}return r}function zn(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,gn(e,o,t))}return r}class Bn extends Cn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vn extends Cn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qn{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&In(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Pn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Pn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=on();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Nn(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Y.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),cn())}isEqual(e){return this.batchId===e.batchId&&K(this.mutations,e.mutations,((e,t)=>Mn(e,t)))&&K(this.baseMutations,e.baseMutations,((e,t)=>Mn(e,t)))}}class Hn{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){N(e.mutations.length===n.length);let r=sn;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Hn(e,t,n,r)}}class Wn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Gn{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kn,Qn;function Yn(e){switch(e){default:return C();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function Xn(e){if(void 0===e)return T("GRPC error has no .code"),P.UNKNOWN;switch(e){case Kn.OK:return P.OK;case Kn.CANCELLED:return P.CANCELLED;case Kn.UNKNOWN:return P.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return P.INTERNAL;case Kn.UNAVAILABLE:return P.UNAVAILABLE;case Kn.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Kn.NOT_FOUND:return P.NOT_FOUND;case Kn.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Kn.ABORTED:return P.ABORTED;case Kn.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Kn.DATA_LOSS:return P.DATA_LOSS;default:return C()}}(Qn=Kn||(Kn={}))[Qn.OK=0]="OK",Qn[Qn.CANCELLED=1]="CANCELLED",Qn[Qn.UNKNOWN=2]="UNKNOWN",Qn[Qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qn[Qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qn[Qn.NOT_FOUND=5]="NOT_FOUND",Qn[Qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qn[Qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qn[Qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qn[Qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qn[Qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qn[Qn.ABORTED=10]="ABORTED",Qn[Qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qn[Qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qn[Qn.INTERNAL=13]="INTERNAL",Qn[Qn.UNAVAILABLE=14]="UNAVAILABLE",Qn[Qn.DATA_LOSS=15]="DATA_LOSS";let $n=null;function Jn(){return new TextEncoder}const Zn=new r([4294967295,4294967295],0);function er(e){const t=Jn().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function tr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([o,a],0)]}class nr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rr("Invalid padding: ".concat(t));if(n<0)throw new rr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rr("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=r.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Zn)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=er(e),[n,r]=tr(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new nr(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=er(e),[n,r]=tr(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ir{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,or.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ir(Y.min(),r,new Ee(G),Zt(),cn())}}class or{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new or(n,t,cn(),cn(),cn())}}class ar{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class sr{constructor(e,t){this.targetId=e,this.me=t}}class lr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class cr{constructor(){this.fe=0,this.ge=hr(),this.pe=Ce.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=cn(),t=cn(),n=cn();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:C()}})),new or(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=hr()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,N(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ur{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zt(),this.qe=dr(),this.Qe=new Ee(G)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:C()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Pt(i))if(0===n){const e=new ee(i.path);this.Ue(t,e,at.newNoDocument(e,Y.min()))}else N(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==$n||$n.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=De(n).toUint8Array()}catch(e){if(e instanceof je)return A("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new nr(o,r,i)}catch(e){return A(e instanceof rr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Pt(i.target)){const t=new ee(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,at.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=cn();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new ir(e,t,this.Qe,this.ke,n);return this.ke=Zt(),this.qe=dr(),this.Qe=new Ee(G),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new cr,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Oe(G),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||O("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cr),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function dr(){return new Ee(ee.comparator)}function hr(){return new Ee(ee.comparator)}const fr={asc:"ASCENDING",desc:"DESCENDING"},pr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mr={and:"AND",or:"OR"};class gr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yr(e,t){return e.useProto3Json||fe(t)?t:{value:t}}function vr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function br(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wr(e,t){return vr(e,t.toTimestamp())}function xr(e){return N(!!e),Y.fromTimestamp(function(e){const t=Ie(e);return new Q(t.seconds,t.nanos)}(e))}function Sr(e,t){return Er(e,t).canonicalString()}function Er(e,t){const n=function(e){return new $(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function _r(e){const t=$.fromString(e);return N(Hr(t)),t}function kr(e,t){return Sr(e.databaseId,t.path)}function Or(e,t){const n=_r(t);if(n.get(1)!==e.databaseId.projectId)throw new D(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(Cr(n))}function Tr(e,t){return Sr(e.databaseId,t)}function Ar(e){const t=_r(e);return 4===t.length?$.emptyPath():Cr(t)}function jr(e){return new $(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cr(e){return N(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nr(e,t,n){return{name:kr(e,t),fields:n.value.mapValue.fields}}function Ir(e,t){let n;if(t instanceof Rn)n={update:Nr(e,t.key,t.value)};else if(t instanceof Bn)n={delete:kr(e,t.key)};else if(t instanceof Ln)n={update:Nr(e,t.key,t.data),updateMask:qr(t.fieldMask)};else{if(!(t instanceof Vn))return C();n={verify:kr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof bn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _n)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw C()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:C()}(e,t.precondition)),n}function Pr(e,t){return{documents:[Tr(e,t.path)]}}function Dr(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Tr(e,i);const o=function(e){if(0!==e.length)return Vr(pt.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:zr(e.field),direction:Lr(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=yr(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Mr(e){let t=Ar(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){N(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Rr(e);return t instanceof pt&&gt(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new ut(Br(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,fe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new st(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new st(n,t)}(n.endAt)),Mt(t,i,a,o,s,"F",l,c)}function Rr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Br(e.unaryFilter.field);return ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Br(e.unaryFilter.field);return ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Br(e.unaryFilter.field);return ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Br(e.unaryFilter.field);return ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return C()}}(e):void 0!==e.fieldFilter?function(e){return ft.create(Br(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return C()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pt.create(e.compositeFilter.filters.map((e=>Rr(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return C()}}(e.compositeFilter.op))}(e):C()}function Lr(e){return fr[e]}function Fr(e){return pr[e]}function Ur(e){return mr[e]}function zr(e){return{fieldPath:e.canonicalString()}}function Br(e){return Z.fromServerFormat(e.fieldPath)}function Vr(e){return e instanceof ft?function(e){if("=="===e.op){if(Ze(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NAN"}};if(Je(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ze(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NOT_NAN"}};if(Je(e.value))return{unaryFilter:{field:zr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(e.field),op:Fr(e.op),value:e.value}}}(e):e instanceof pt?function(e){const t=e.getFilters().map((e=>Vr(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ur(e.op),filters:t}}}(e):C()}function qr(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Hr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Y.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Y.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ce.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gr{constructor(e){this.ct=e}}function Kr(e){const t=Mr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qt(t,t.limit,"L"):t}class Qr{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Pe(e.integerValue));else if("doubleValue"in e){const n=Pe(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),pe(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Ie(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(De(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?rt(e)?this.dt(t,Number.MAX_SAFE_INTEGER):tt(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):C()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Pe(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Qr.vt=new Qr;class Yr{constructor(){this.un=new Xr}addToCollectionParentIndex(e,t){return this.un.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(ie.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(ie.min())}updateCollectionGroup(e,t,n){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Xr{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Oe($.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Oe($.comparator)).toArray()}}new Uint8Array(0);class $r{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);class Jr{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Jr(0)}static kn(){return new Jr(-1)}}class Zr{constructor(){this.changes=new $t((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,at.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ei{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ti{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Pn(n.mutation,e,Ae.empty(),Q.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,cn()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cn();const r=rn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=tn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=rn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,cn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Zt();const o=an(),a=an();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ln)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Pn(a.mutation,t,a.mutation.getFieldMask(),Q.now())):o.set(t.key,Ae.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new ei(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=an();let r=new Ee(((e,t)=>e-t)),i=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Ae.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||cn()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=on();l.forEach((e=>{if(!i.has(e)){const r=Nn(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return ce.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ee.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ft(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ce.resolve(rn());let a=-1,s=i;return o.next((t=>ce.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ce.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,cn()))).next((e=>({batchId:a,changes:nn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next((e=>{let t=tn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=tn();return this.indexManager.getCollectionParents(e,i).next((a=>ce.forEach(a,(a=>{const s=function(e,t){return new Dt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,at.newInvalidDocument(r)))}));let n=tn();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Pn(o.mutation,r,Ae.empty(),Q.now()),Kt(t,r)&&(n=n.insert(e,r))})),n}))}}class ni{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ce.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xr(e.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Kr(e.bundledQuery),readTime:xr(e.readTime)}}(t)),ce.resolve()}}class ri{constructor(){this.overlays=new Ee(ee.comparator),this.Ir=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rn();return ce.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),ce.resolve()}getOverlaysForCollection(e,t,n){const r=rn(),i=t.length+1,o=new ee(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ee(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=rn(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return ce.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wn(t,n));let i=this.Ir.get(t);void 0===i&&(i=cn(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class ii{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}class oi{constructor(){this.Tr=new Oe(ai.Er),this.dr=new Oe(ai.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ai(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new ai(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ee(new $([])),n=new ai(t,e),r=new ai(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ee(new $([])),n=new ai(t,e),r=new ai(t,e+1);let i=cn();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ai(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ai{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||G(e.wr,t.wr)}static Ar(e,t){return G(e.wr,t.wr)||ee.comparator(e.key,t.key)}}class si{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Oe(ai.Er)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qn(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ai(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ce.resolve(o)}lookupMutationBatch(e,t){return ce.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ai(t,0),r=new ai(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Oe(G);return t.forEach((e=>{const t=new ai(e,0),r=new ai(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),ce.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ee.isDocumentKey(i)||(i=i.child(""));const o=new ai(new ee(i),0);let a=new Oe(G);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),o),ce.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){N(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return ce.forEach(t.mutations,(r=>{const i=new ai(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new ai(t,0),r=this.br.firstAfterOrEqual(n);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class li{constructor(e){this.Mr=e,this.docs=new Ee(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ce.resolve(n?n.document.mutableCopy():at.newInvalidDocument(t))}getEntries(e,t){let n=Zt();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():at.newInvalidDocument(e))})),ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Zt();const o=t.path,a=new ee(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||oe(re(a),n)<=0||(r.has(a.key)||Kt(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,n,r){C()}Or(e,t){return ce.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ci(this)}getSize(e){return ce.resolve(this.size)}}class ci extends Zr{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),ce.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class ui{constructor(e){this.persistence=e,this.Nr=new $t((e=>Nt(e)),It),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oi,this.targetCount=0,this.kr=Jr.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Jr(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Kn(t),ce.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),ce.waitFor(i).next((()=>r))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return ce.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),ce.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ce.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return ce.resolve(n)}containsKey(e,t){return ce.resolve(this.Br.containsKey(t))}}class di{constructor(e,t){this.qr={},this.overlays={},this.Qr=new he(0),this.Kr=!1,this.Kr=!0,this.$r=new ii,this.referenceDelegate=e(this),this.Ur=new ui(this),this.indexManager=new Yr,this.remoteDocumentCache=function(e){return new li(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Gr(t),this.Gr=new ni(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ri,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new si(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){O("MemoryPersistence","Starting transaction:",e);const r=new hi(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return ce.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class hi extends se{constructor(e){super(),this.currentSequenceNumber=e}}class fi{constructor(e){this.persistence=e,this.Jr=new oi,this.Yr=null}static Zr(e){return new fi(e)}get Xr(){if(this.Yr)return this.Yr;throw C()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),ce.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,(n=>{const r=ee.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Y.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ce.or([()=>ce.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class pi{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=cn(),r=cn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new pi(e,t.fromCache,n,r)}}class mi{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gi{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,l.nr)()?8:ue((0,l.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new mi;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(k()<=s.$b.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Gt(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(k()<=s.$b.DEBUG&&O("QueryEngine","Query:",Gt(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(k()<=s.$b.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Gt(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zt(t))):ce.resolve())}Yi(e,t){if(Lt(t))return ce.resolve(null);let n=zt(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=qt(t,null,"F"),n=zt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=cn(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,qt(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return Lt(t)||r.isEqual(Y.min())?ce.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?ce.resolve(null):(k()<=s.$b.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gt(t)),this.rs(e,o,t,ne(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Oe(Yt(e));return t.forEach(((t,r)=>{Kt(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return k()<=s.$b.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Gt(t)),this.Ji.getDocumentsMatchingQuery(e,t,ie.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class yi{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Ee(G),this._s=new $t((e=>Nt(e)),It),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ti(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function vi(e,t,n,r){return new yi(e,t,n,r)}async function bi(e,t){const n=I(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=cn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function wi(e){const t=I(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function xi(e,t,n){let r=cn(),i=cn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Zt();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Y.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):O("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function Si(e,t){const n=I(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ei(e,t){const n=I(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,ce.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Wr(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function _i(e,t,n){const r=I(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!de(e))throw e;O("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function ki(e,t,n){const r=I(e);let i=Y.min(),o=cn();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=I(e),i=r._s.get(n);return void 0!==i?ce.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,zt(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Y.min(),n?o:cn()))).next((e=>(Oi(r,Qt(t),e),{documents:e,Ts:o})))))}function Oi(e,t,n){let r=e.us.get(t)||Y.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class Ti{constructor(){this.activeTargetIds=dn()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ai{constructor(){this.so=new Ti,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ti,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ji{_o(e){}shutdown(){}}class Ci{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ni=null;function Ii(){return null===Ni?Ni=268435456+Math.round(2147483648*Math.random()):Ni++,"0x"+Ni.toString(16)}const Pi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Di{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Mi="WebChannelConnection";class Ri extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const o=Ii(),a=this.xo(e,t.toUriEncodedString());O("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then((t=>(O("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw A("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Pi[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Ii();return new Promise(((o,a)=>{const s=new d;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case p.NO_ERROR:const t=s.getResponseJson();O(Mi,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case p.TIMEOUT:O(Mi,"RPC '".concat(e,"' ").concat(i," timed out")),a(new D(P.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=s.getStatus();if(O(Mi,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(t)>=0?t:P.UNKNOWN}(t.status);a(new D(e,t.message))}else a(new D(P.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new D(P.UNAVAILABLE,"Connection failed."));break;default:C()}}finally{O(Mi,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);O(Mi,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Ii(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v(),a=y(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");O(Mi,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,f=!1;const p=new Di({Io:t=>{f?O(Mi,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(O(Mi,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),O(Mi,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),b=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return b(u,h.EventType.OPEN,(()=>{f||(O(Mi,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.yo())})),b(u,h.EventType.CLOSE,(()=>{f||(f=!0,O(Mi,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.So())})),b(u,h.EventType.ERROR,(t=>{f||(f=!0,A(Mi,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.So(new D(P.UNAVAILABLE,"The operation could not be completed")))})),b(u,h.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];N(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){O(Mi,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Kn[e];if(void 0!==t)return Xn(t)}(t),i=a.message;void 0===n&&(n=P.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.So(new D(n,i)),u.close()}else O(Mi,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.bo(i)}})),b(a,g.STAT_EVENT,(t=>{t.stat===m.PROXY?O(Mi,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===m.NOPROXY&&O(Mi,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.wo()}),0),p}}function Li(){return"undefined"!=typeof document?document:null}function Fi(e){return new gr(e,!0)}class Ui{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&O("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zi{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ui(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(T(t.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new D(P.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return O("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bi extends zi{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:C()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(N(void 0===t||"string"==typeof t),Ce.fromBase64String(t||"")):(N(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ce.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?P.UNKNOWN:Xn(e.code);return new D(t,e.message||"")}(a);n=new lr(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Or(e,r.document.name),o=xr(r.document.updateTime),a=r.document.createTime?xr(r.document.createTime):Y.min(),s=new it({mapValue:{fields:r.document.fields}}),l=at.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ar(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Or(e,r.document),o=r.readTime?xr(r.readTime):Y.min(),a=at.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ar([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Or(e,r.document),o=r.removedTargetIds||[];n=new ar([],o,i,null)}else{if(!("filter"in t))return C();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Gn(r,i),a=e.targetId;n=new sr(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Y.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Y.min():t.readTime?xr(t.readTime):Y.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=jr(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Pt(r)?{documents:Pr(e,r)}:{query:Dr(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=br(e,t.resumeToken);const r=yr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Y.min())>0){n.readTime=vr(e,t.snapshotVersion.toTimestamp());const r=yr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return C()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=jr(this.serializer),t.removeTarget=e,this.a_(t)}}class Vi extends zi{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return N(!!e.streamToken),this.lastStreamToken=e.streamToken,N(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){N(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(N(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?xr(e.updateTime):xr(t);return n.isEqual(Y.min())&&(n=xr(t)),new Tn(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=xr(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=jr(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ir(this.serializer,e)))};this.a_(t)}}class qi extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new D(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Mo(e,Er(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(P.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Lo(e,Er(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(P.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Hi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(T(t),this.D_=!1):O("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Wi{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{eo(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=I(e);t.L_.add(4),await Ki(t),t.q_.set("Unknown"),t.L_.delete(4),await Gi(t)}(this))}))})),this.q_=new Hi(n,r)}}async function Gi(e){if(eo(e))for(const t of e.B_)await t(!0)}async function Ki(e){for(const t of e.B_)await t(!1)}function Qi(e,t){const n=I(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Zi(n)?Ji(n):wo(n).r_()&&Xi(n,t))}function Yi(e,t){const n=I(e),r=wo(n);n.N_.delete(t),r.r_()&&$i(n,t),0===n.N_.size&&(r.r_()?r.o_():eo(n)&&n.q_.set("Unknown"))}function Xi(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(e).A_(t)}function $i(e,t){e.Q_.xe(t),wo(e).R_(t)}function Ji(e){e.Q_=new ur({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),wo(e).start(),e.q_.v_()}function Zi(e){return eo(e)&&!wo(e).n_()&&e.N_.size>0}function eo(e){return 0===I(e).L_.size}function to(e){e.Q_=void 0}async function no(e){e.q_.set("Online")}async function ro(e){e.N_.forEach(((t,n)=>{Xi(e,t)}))}async function io(e,t){to(e),Zi(e)?(e.q_.M_(t),Ji(e)):e.q_.set("Unknown")}async function oo(e,t,n){if(e.q_.set("Online"),t instanceof lr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){O("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ao(e,n)}else if(t instanceof ar?e.Q_.Ke(t):t instanceof sr?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Y.min()))try{const t=await wi(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Ce.EMPTY_BYTE_STRING,r.snapshotVersion)),$i(e,t);const i=new Wr(r.target,t,n,r.sequenceNumber);Xi(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){O("RemoteStore","Failed to raise snapshot:",t),await ao(e,t)}}async function ao(e,t,n){if(!de(t))throw t;e.L_.add(1),await Ki(e),e.q_.set("Offline"),n||(n=()=>wi(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Gi(e)}))}function so(e,t){return t().catch((n=>ao(e,n,t)))}async function lo(e){const t=I(e),n=xo(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;co(t);)try{const e=await Si(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,uo(t,e)}catch(e){await ao(t,e)}ho(t)&&fo(t)}function co(e){return eo(e)&&e.O_.length<10}function uo(e,t){e.O_.push(t);const n=xo(e);n.r_()&&n.V_&&n.m_(t.mutations)}function ho(e){return eo(e)&&!xo(e).n_()&&e.O_.length>0}function fo(e){xo(e).start()}async function po(e){xo(e).p_()}async function mo(e){const t=xo(e);for(const n of e.O_)t.m_(n.mutations)}async function go(e,t,n){const r=e.O_.shift(),i=Hn.from(r,t,n);await so(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await lo(e)}async function yo(e,t){t&&xo(e).V_&&await async function(e,t){if(function(e){return Yn(e)&&e!==P.ABORTED}(t.code)){const n=e.O_.shift();xo(e).s_(),await so(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lo(e)}}(e,t),ho(e)&&fo(e)}async function vo(e,t){const n=I(e);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=eo(n);n.L_.add(3),await Ki(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Gi(n)}async function bo(e,t){const n=I(e);t?(n.L_.delete(2),await Gi(n)):t||(n.L_.add(2),await Ki(n),n.q_.set("Unknown"))}function wo(e){return e.K_||(e.K_=function(e,t,n){const r=I(e);return r.w_(),new Bi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:no.bind(null,e),Ro:ro.bind(null,e),mo:io.bind(null,e),d_:oo.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Zi(e)?Ji(e):e.q_.set("Unknown")):(await e.K_.stop(),to(e))}))),e.K_}function xo(e){return e.U_||(e.U_=function(e,t,n){const r=I(e);return r.w_(),new Vi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:po.bind(null,e),mo:yo.bind(null,e),f_:mo.bind(null,e),g_:go.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await lo(e)):(await e.U_.stop(),e.O_.length>0&&(O("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class So{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new So(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eo(e,t){if(T("AsyncQueue","".concat(t,": ").concat(e)),de(e))return new D(P.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _o{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ee.comparator(t.key,n.key):(e,t)=>ee.comparator(e.key,t.key),this.keyedMap=tn(),this.sortedSet=new Ee(this.comparator)}static emptySet(e){return new _o(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _o;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ko{constructor(){this.W_=new Ee(ee.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):C():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Oo{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Oo(e,t,_o.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ht(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class To{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Ao{constructor(){this.queries=jo(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=I(e),r=n.queries;n.queries=jo(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new D(P.ABORTED,"Firestore shutting down"))}}function jo(){return new $t((e=>Wt(e)),Ht)}async function Co(e,t){const n=I(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new To,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Eo(e,"Initialization of query '".concat(Gt(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Do(n)}async function No(e,t){const n=I(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Io(e,t){const n=I(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Do(n)}function Po(e,t,n){const r=I(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Do(e){e.Y_.forEach((e=>{e.next()}))}var Mo,Ro;(Ro=Mo||(Mo={})).ea="default",Ro.Cache="cache";class Lo{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Oo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mo.Cache}}class Fo{constructor(e){this.key=e}}class Uo{constructor(e){this.key=e}}class zo{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=cn(),this.mutatedKeys=cn(),this.Aa=Yt(e),this.Ra=new _o(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new ko,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Kt(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return C()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new Oo(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ko,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=cn(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Uo(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Fo(n))})),t}ba(e){this.Ta=e.Ts,this.da=cn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Bo{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vo{constructor(e){this.key=e,this.va=!1}}class qo{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $t((e=>Wt(e)),Ht),this.Ma=new Map,this.xa=new Set,this.Oa=new Ee(ee.comparator),this.Na=new Map,this.La=new oi,this.Ba={},this.ka=new Map,this.qa=Jr.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Ho(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=da(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Go(r,t,n,!0),i}async function Wo(e,t){const n=da(e);await Go(n,t,!0,!1)}async function Go(e,t,n,r){const i=await Ei(e.localStore,zt(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Ko(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Qi(e.remoteStore,i),s}async function Ko(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await ki(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return oa(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await ki(e.localStore,t,!0),a=new zo(t,o.Ts),s=a.ma(o.documents),l=or.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);oa(e,n,c.wa);const u=new Bo(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Qo(e,t,n){const r=I(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!Ht(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _i(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yi(r.remoteStore,i.targetId),ra(r,i.targetId)})).catch(le)):(ra(r,i.targetId),await _i(r.localStore,i.targetId,!0))}async function Yo(e,t){const n=I(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yi(n.remoteStore,r.targetId))}async function Xo(e,t){const n=I(e);try{const e=await function(e,t){const n=I(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ce.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))}));let s=Zt(),l=cn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(xi(e,o,t.documentUpdates).next((e=>{s=e.Ps,l=e.Is}))),!r.isEqual(Y.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return ce.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?N(r.va):e.removedDocuments.size>0&&(N(r.va),r.va=!1))})),await la(n,e,t)}catch(e){await le(e)}}function $o(e,t,n){const r=I(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=I(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Do(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jo(e,t,n){const r=I(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new Ee(ee.comparator);e=e.insert(o,at.newNoDocument(o,Y.min()));const n=cn().add(o),i=new ir(Y.min(),new Map,new Ee(G),e,n);await Xo(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),sa(r)}else await _i(r.localStore,t,!1).then((()=>ra(r,t,n))).catch(le)}async function Zo(e,t){const n=I(e),r=t.batch.batchId;try{const e=await function(e,t){const n=I(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=ce.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);N(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);na(n,r,null),ta(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await la(n,e)}catch(e){await le(e)}}async function ea(e,t,n){const r=I(e);try{const e=await function(e,t){const n=I(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(N(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);na(r,t,n),ta(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await la(r,e)}catch(n){await le(n)}}function ta(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function na(e,t,n){const r=I(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||ia(e,t)}))}function ia(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Yi(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),sa(e))}function oa(e,t,n){for(const r of n)r instanceof Fo?(e.La.addReference(r.key,t),aa(e,r)):r instanceof Uo?(O("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ia(e,r.key)):C()}function aa(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(O("SyncEngine","New document in limbo: "+n),e.xa.add(r),sa(e))}function sa(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ee($.fromString(t)),r=e.qa.next();e.Na.set(r,new Vo(n)),e.Oa=e.Oa.insert(n,r),Qi(e.remoteStore,new Wr(zt(Rt(n.path)),r,"TargetPurposeLimboResolution",he.oe))}}async function la(e,t,n){const r=I(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{a.push(r.Ka(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=pi.Wi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=I(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ce.forEach(t,(t=>ce.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ce.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!de(e))throw e;O("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function ca(e,t){const n=I(e);if(!n.currentUser.isEqual(t)){O("SyncEngine","User change. New user:",t.toKey());const e=await bi(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new D(P.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await la(n,e.hs)}}function ua(e,t){const n=I(e),r=n.Na.get(t);if(r&&r.va)return cn().add(r.key);{let e=cn();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function da(e){const t=I(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ua.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jo.bind(null,t),t.Ca.d_=Io.bind(null,t.eventManager),t.Ca.$a=Po.bind(null,t.eventManager),t}function ha(e){const t=I(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ea.bind(null,t),t}class fa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fi(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return vi(this.persistence,new gi,e.initialUser,this.serializer)}Ga(e){return new di(fi.Zr,this.serializer)}Wa(e){return new Ai}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fa.provider={build:()=>new fa};class pa{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>$o(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ca.bind(null,this.syncEngine),await bo(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ao}createDatastore(e){const t=Fi(e.databaseInfo.databaseId),n=function(e){return new Ri(e)}(e.databaseInfo);return function(e,t,n,r){return new qi(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Wi(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>$o(this.syncEngine,e,0)),Ci.D()?new Ci:new ji)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new qo(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=I(e);O("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Ki(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}pa.provider={build:()=>new pa};class ma{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):T("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class ga{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=S.UNAUTHENTICATED,this.clientId=W.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{O("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(O("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Eo(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ya(e,t){e.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await bi(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function va(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ba(e);O("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>vo(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>vo(t.remoteStore,n))),e._onlineComponents=t}async function ba(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await ya(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;A("Error using user provided cache. Falling back to memory cache: "+n),await ya(e,new fa)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await ya(e,new fa);return e._offlineComponents}async function wa(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await va(e,e._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await va(e,new pa))),e._onlineComponents}function xa(e){return wa(e).then((e=>e.syncEngine))}async function Sa(e){const t=await wa(e),n=t.eventManager;return n.onListen=Ho.bind(null,t.syncEngine),n.onUnlisten=Qo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wo.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yo.bind(null,t.syncEngine),n}function Ea(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new ma({next:s=>{o.Za(),t.enqueueAndForget((()=>No(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new D(P.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new D(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Lo(Rt(n.path),o,{includeMetadataChanges:!0,_a:!0});return Co(e,a)}(await Sa(e),e.asyncQueue,t,n,r))),r.promise}function _a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new ma({next:n=>{o.Za(),t.enqueueAndForget((()=>No(e,a))),n.fromCache&&"server"===r.source?i.reject(new D(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Lo(n,o,{includeMetadataChanges:!0,_a:!0});return Co(e,a)}(await Sa(e),e.asyncQueue,t,n,r))),r.promise}function ka(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Oa=new Map;function Ta(e,t,n){if(!n)throw new D(P.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Aa(e){if(!ee.isDocumentKey(e))throw new D(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ja(e){if(ee.isDocumentKey(e))throw new D(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ca(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":C()}function Na(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ca(e);throw new D(P.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Ia(e,t){if(t<=0)throw new D(P.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Pa{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new D(P.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ka(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(P.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new D(P.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new D(P.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Da{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pa({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pa(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new L;switch(e.type){case"firstParty":return new B(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Oa.get(e);t&&(O("ComponentProvider","Removing Datastore"),Oa.delete(e),t.terminate())}(this),Promise.resolve()}}class Ma{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Ra{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ra(this.firestore,e,this._key)}}class La extends Ma{constructor(e,t,n){super(e,t,Rt(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ra(this.firestore,null,new ee(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function Fa(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Ta("collection","path",t),e instanceof Da){const n=$.fromString(t,...r);return ja(n),new La(e,null,n)}{if(!(e instanceof Ra||e instanceof La))throw new D(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($.fromString(t,...r));return ja(n),new La(e.firestore,null,n)}}function Ua(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=W.newId()),Ta("doc","path",t),e instanceof Da){const n=$.fromString(t,...r);return Aa(n),new Ra(e,null,new ee(n))}{if(!(e instanceof Ra||e instanceof La))throw new D(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($.fromString(t,...r));return Aa(n),new Ra(e.firestore,e instanceof La?e.converter:null,new ee(n))}}class za{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ui(this,"async_queue_retry"),this.Vu=()=>{const e=Li();e&&O("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Li();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Li();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new M;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!de(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw T("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=So.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&C()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ba extends Da{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new za,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new za(e),this._firestoreClient=void 0,await e}}}function Va(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Na(e,Da))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&A("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=S.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new D(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new S(o)}e._authCredentials=new F(new R(t,n))}}(i,...e)}return i}function qa(e){if(e._terminated)throw new D(P.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ha(e),e._firestoreClient}function Ha(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Fe(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ka(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ga(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(Ce.fromBase64String(e))}catch(e){throw new D(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wa(Ce.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ga{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new D(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Z(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ka{constructor(e){this._methodName=e}}class Qa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}}class Ya{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Xa=/^__.*__$/;class $a{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rn(e,this.data,t,this.fieldTransforms)}}class Ja{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Za(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw C()}}class es{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new es(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ms(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Za(this.Cu)&&Xa.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ts{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Fi(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new es({Cu:e,methodName:t,qu:n,path:Z.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ns(e){const t=e._freezeSettings(),n=Fi(e._databaseId);return new ts(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rs(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);ds("Data must be an object, but it was:",a,r);const s=cs(r,a);let l,c;if(o.merge)l=new Ae(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=hs(t,r,n);if(!a.contains(i))throw new D(P.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));gs(e,i)||e.push(i)}l=new Ae(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new $a(new it(s),l,c)}class is extends Ka{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof is}}function os(e,t,n,r){const i=e.Qu(1,t,n);ds("Data must be an object, but it was:",i,r);const o=[],a=it.empty();xe(r,((e,r)=>{const s=ps(t,e,n);r=(0,l.Ku)(r);const c=i.Nu(s);if(r instanceof is)o.push(s);else{const e=ls(r,c);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Ae(o);return new Ja(a,s,i.fieldTransforms)}function as(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[hs(t,r,n)],c=[i];if(o.length%2!=0)throw new D(P.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<o.length;l+=2)s.push(hs(t,o[l])),c.push(o[l+1]);const u=[],d=it.empty();for(let f=s.length-1;f>=0;--f)if(!gs(u,s[f])){const e=s[f];let t=c[f];t=(0,l.Ku)(t);const n=a.Nu(e);if(t instanceof is)u.push(e);else{const r=ls(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new Ae(u);return new Ja(d,h,a.fieldTransforms)}function ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ls(n,e.Qu(r?4:3,t))}function ls(e,t){if(us(e=(0,l.Ku)(e)))return ds("Unsupported field value:",t,e),cs(e,t);if(e instanceof Ka)return function(e,t){if(!Za(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ls(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Q.fromDate(e);return{timestampValue:vr(t.serializer,n)}}if(e instanceof Q){const n=new Q(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vr(t.serializer,n)}}if(e instanceof Qa)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wa)return{bytesValue:br(t.serializer,e._byteString)};if(e instanceof Ra){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Sr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ya)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return hn(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Ca(e)))}(e,t)}function cs(e,t){const n={};return Se(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xe(e,((e,r)=>{const i=ls(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function us(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Q||e instanceof Qa||e instanceof Wa||e instanceof Ra||e instanceof Ka||e instanceof Ya)}function ds(e,t,n){if(!us(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ca(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function hs(e,t,n){if((t=(0,l.Ku)(t))instanceof Ga)return t._internalPath;if("string"==typeof t)return ps(e,t);throw ms("Field path arguments must be of type string or ",e,!1,void 0,n)}const fs=new RegExp("[~\\*/\\[\\]]");function ps(e,t,n){if(t.search(fs)>=0)throw ms("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ga(...t.split("."))._internalPath}catch(r){throw ms("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ms(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new D(P.INVALID_ARGUMENT,s+e+l)}function gs(e,t){return e.some((e=>e.isEqual(t)))}class ys{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ra(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bs("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vs extends ys{data(){return super.data()}}function bs(e,t){return"string"==typeof t?ps(e,t):t instanceof Ga?t._internalPath:t._delegate._internalPath}function ws(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xs{}class Ss extends xs{}function Es(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof xs&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Os)).length,n=e.filter((e=>e instanceof _s)).length;if(t>1||t>0&&n>0)throw new D(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class _s extends Ss{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new _s(e,t,n)}_apply(e){const t=this._parse(e);return Ps(e._query,t),new Ma(e.firestore,e.converter,Vt(e._query,t))}_parse(e){const t=ns(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new D(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Is(a,o);const t=[];for(const n of a)t.push(Ns(r,e,n));s={arrayValue:{values:t}}}else s=Ns(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Is(a,o),s=ss(n,t,a,"in"===o||"not-in"===o);return ft.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function ks(e,t,n){const r=t,i=bs("where",e);return _s._create(i,r,n)}class Os extends xs{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Os(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:pt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ps(n,i),n=Vt(n,i)}(e._query,t),new Ma(e.firestore,e.converter,Vt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ts extends Ss{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ts(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new D(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ut(t,n)}(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Dt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function As(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bs("orderBy",e);return Ts._create(n,t)}class js extends Ss{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new js(e,t,n)}_apply(e){return new Ma(e.firestore,e.converter,qt(e._query,this._limit,this._limitType))}}function Cs(e){return Ia("limit",e),js._create("limit",e,"F")}function Ns(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ft(t)&&-1!==n.indexOf("/"))throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child($.fromString(n));if(!ee.isDocumentKey(r))throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ye(e,new ee(r))}if(n instanceof Ra)return Ye(e,n._key);throw new D(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ca(n),"."))}function Is(e,t){if(!Array.isArray(e)||0===e.length)throw new D(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ps(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new D(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(P.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ds{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Be(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(De(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw C()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xe(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Pe(e.doubleValue)));return new Ya(i)}convertGeoPoint(e){return new Qa(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Re(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Le(e));default:return null}}convertTimestamp(e){const t=Ie(e);return new Q(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$.fromString(e);N(Hr(n));const r=new Ue(n.get(1),n.get(3)),i=new ee(n.popFirst(5));return r.isEqual(t)||T("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ms(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Rs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ls extends ys{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Fs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bs("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Fs extends Ls{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Us{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rs(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Fs(this._firestore,this._userDataWriter,n.key,n,new Rs(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Fs(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Rs(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Fs(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Rs(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:zs(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zs(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return C()}}function Bs(e){e=Na(e,Ra);const t=Na(e.firestore,Ba);return Ea(qa(t),e._key).then((n=>Ys(t,e,n)))}class Vs extends Ds{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ra(this.firestore,null,t)}}function qs(e){e=Na(e,Ma);const t=Na(e.firestore,Ba),n=qa(t),r=new Vs(t);return ws(e._query),_a(n,e._query).then((n=>new Us(t,r,e,n)))}function Hs(e,t,n){e=Na(e,Ra);const r=Na(e.firestore,Ba),i=Ms(e.converter,t,n);return Qs(r,[rs(ns(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,An.none())])}function Ws(e,t,n){e=Na(e,Ra);const r=Na(e.firestore,Ba),i=ns(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return o="string"==typeof(t=(0,l.Ku)(t))||t instanceof Ga?as(i,"updateDoc",e._key,t,n,s):os(i,"updateDoc",e._key,t),Qs(r,[o.toMutation(e._key,An.exists(!0))])}function Gs(e){return Qs(Na(e.firestore,Ba),[new Bn(e._key,An.none())])}function Ks(e,t){const n=Na(e.firestore,Ba),r=Ua(e),i=Ms(e.converter,t);return Qs(n,[rs(ns(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,An.exists(!1))]).then((()=>r))}function Qs(e,t){return function(e,t){const n=new M;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ha(e);try{const e=await function(e,t){const n=I(e),r=Q.now(),i=t.reduce(((e,t)=>e.add(t.key)),cn());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Zt(),l=cn();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Dn(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ln(e.key,t,ot(t.value.mapValue),An.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:nn(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Ee(G)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await la(r,e.changes),await lo(r.remoteStore)}catch(e){const t=Eo(e,"Failed to persist write");n.reject(t)}}(await xa(e),t,n))),n.promise}(qa(e),t)}function Ys(e,t,n){const r=n.docs.get(t._key),i=new Vs(e);return new Ls(e,i,t._key,r,new Rs(n.hasPendingWrites,n.fromCache),t.converter)}class Xs{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ns(e)}set(e,t,n){this._verifyNotCommitted();const r=$s(e,this._firestore),i=Ms(r.converter,t,n),o=rs(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,An.none())),this}update(e,t,n){this._verifyNotCommitted();const r=$s(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof Ga?as(this._dataReader,"WriteBatch.update",r._key,t,n,a):os(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$s(e,this._firestore);return this._mutations=this._mutations.concat(new Bn(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new D(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $s(e,t){if((e=(0,l.Ku)(e)).firestore!==t)throw new D(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Js(e){return qa(e=Na(e,Ba)),new Xs(e,(t=>Qs(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(o.MF),(0,o.om)(new a.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Ba(new U(e.getProvider("auth-internal")),new q(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ue(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(x,"4.7.3",e),(0,o.KO)(x,"4.7.3","esm2017")}()},5527:(e,t,n)=>{"use strict";function r(e){return e[0]}function i(e){return e[1]}n.d(t,{x:()=>r,y:()=>i})},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5722:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i,o,a,s,l,c,u,d,h,f,p,m,g,y;n.d(t,{i:()=>_});const v=Math.PI,b=2*v,w=1e-6,x=b-w;function S(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class E{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?S:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return S;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(i||(i=r(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(o||(o=r(["Z"]))))}lineTo(e,t){this._append(a||(a=r(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,i){this._append(s||(s=r(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+i)}bezierCurveTo(e,t,n,i,o,a){this._append(l||(l=r(["C",",",",",",",",",",",""])),+e,+t,+n,+i,this._x1=+o,this._y1=+a)}arcTo(e,t,n,i,o){if(e=+e,t=+t,n=+n,i=+i,(o=+o)<0)throw new Error("negative radius: ".concat(o));let a=this._x1,s=this._y1,l=n-e,f=i-t,p=a-e,m=s-t,g=p*p+m*m;if(null===this._x1)this._append(c||(c=r(["M",",",""])),this._x1=e,this._y1=t);else if(g>w)if(Math.abs(m*l-f*p)>w&&o){let c=n-a,u=i-s,y=l*l+f*f,b=c*c+u*u,x=Math.sqrt(y),S=Math.sqrt(g),E=o*Math.tan((v-Math.acos((y+g-b)/(2*x*S)))/2),_=E/S,k=E/x;Math.abs(_-1)>w&&this._append(d||(d=r(["L",",",""])),e+_*p,t+_*m),this._append(h||(h=r(["A",",",",0,0,",",",",",""])),o,o,+(m*c>p*u),this._x1=e+k*l,this._y1=t+k*f)}else this._append(u||(u=r(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,i,o,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=t+l,d=1^a,h=a?i-o:o-i;null===this._x1?this._append(f||(f=r(["M",",",""])),c,u):(Math.abs(this._x1-c)>w||Math.abs(this._y1-u)>w)&&this._append(p||(p=r(["L",",",""])),c,u),n&&(h<0&&(h=h%b+b),h>x?this._append(m||(m=r(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-s,t-l,n,n,d,this._x1=c,this._y1=u):h>w&&this._append(g||(g=r(["A",",",",0,",",",",",",",""])),n,n,+(h>=v),d,this._x1=e+n*Math.cos(o),this._y1=t+n*Math.sin(o)))}rect(e,t,n,i){this._append(y||(y=r(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+i,-n)}toString(){return this._}}function _(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new E(t)}E.prototype},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(o)var b=l?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),w=v?h:s(e),x=b?h:s(t),S=(w=w==d?f:w)==f,E=(x=x==d?f:x)==f,_=w==x;if(_&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(_&&!S)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var k=S&&p.call(e,"__wrapped__"),O=E&&p.call(t,"__wrapped__");if(k||O){var T=k?e.value():e,A=O?t.value():t;return y||(y=new r),g(T,A,n,m,y)}}return!!_&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>se,om:()=>oe,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(8812),i=n(443),o=n(7700),a=n(2555);let s,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(v(this),t,...r);return d.set(o,t.sort?t.sort():[t]),y(o)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));u.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(y(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const v=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return x.set(t,o),o}p=(e=>(0,a.A)((0,a.A)({},e),{},{get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p);class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const _="@firebase/app",k="0.10.13",O=new i.Vy("@firebase/app"),T="@firebase/app-compat",A="@firebase/analytics-compat",j="@firebase/analytics",C="@firebase/app-check-compat",N="@firebase/app-check",I="@firebase/auth",P="@firebase/auth-compat",D="@firebase/database",M="@firebase/data-connect",R="@firebase/database-compat",L="@firebase/functions",F="@firebase/functions-compat",U="@firebase/installations",z="@firebase/installations-compat",B="@firebase/messaging",V="@firebase/messaging-compat",q="@firebase/performance",H="@firebase/performance-compat",W="@firebase/remote-config",G="@firebase/remote-config-compat",K="@firebase/storage",Q="@firebase/storage-compat",Y="@firebase/firestore",X="@firebase/vertexai-preview",$="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",ee={[_]:"fire-core",[T]:"fire-core-compat",[j]:"fire-analytics",[A]:"fire-analytics-compat",[N]:"fire-app-check",[C]:"fire-app-check-compat",[I]:"fire-auth",[P]:"fire-auth-compat",[D]:"fire-rtdb",[M]:"fire-data-connect",[R]:"fire-rtdb-compat",[L]:"fire-fn",[F]:"fire-fn-compat",[U]:"fire-iid",[z]:"fire-iid-compat",[B]:"fire-fcm",[V]:"fire-fcm-compat",[q]:"fire-perf",[H]:"fire-perf-compat",[W]:"fire-rc",[G]:"fire-rc-compat",[K]:"fire-gcs",[Q]:"fire-gcs-compat",[Y]:"fire-fst",[$]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){O.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function oe(e){const t=e.name;if(re.has(t))return O.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function se(e){return void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new o.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="10.14.1";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Z,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ce.create("bad-app-name",{appName:String(a)});if(n||(n=(0,o.T9)()),!n)throw ce.create("no-options");const s=te.get(a);if(s){if((0,o.bD)(n,s.options)&&(0,o.bD)(i,s.config))return s;throw ce.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of re.values())l.addComponent(r);const c=new ue(n,i,l);return te.set(a,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,o.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let o=null!==(i=ee[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));const a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void O.warn(e.join(" "))}oe(new r.uA("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=y(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(y(a.result),e.oldVersion,e.newVersion,y(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(n){console.warn(n)}}}).catch((e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})}))),ge}async function ve(e,t){try{const n=(await ye()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof o.g)O.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});O.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Se(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){O.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ee(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ee(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return O.warn(t),""}}}function xe(){return(new Date).toISOString().substring(0,10)}class Se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(t){if(t instanceof o.g)O.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});O.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ee(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var _e;_e="",oe(new r.uA("platform-logger",(e=>new E(e)),"PRIVATE")),oe(new r.uA("heartbeat",(e=>new we(e)),"PRIVATE")),pe(_,k,_e),pe(_,k,"esm2017"),pe("fire-js","")},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7162:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(10),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");function a(e,t){var n,a,s,l=i.lastIndex=o.lastIndex=0,c=-1,u=[],d=[];for(e+="",t+="";(n=i.exec(e))&&(a=o.exec(t));)(s=a.index)>l&&(s=t.slice(l,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:(0,r.A)(n,a)})),l=o.lastIndex;return l<t.length&&(s=t.slice(l),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var n,r=0;r<t;++r)u[(n=d[r]).i]=n.x(e);return u.join("")})}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(S);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(O),O=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,k=null,O=-1,T=5,A=-1;function j(){return!(t.unstable_now()-A<T)}function C(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?E():(_=!1,k=null)}}else _=!1}if("function"===typeof b)E=function(){b(C)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,I=N.port2;N.port1.onmessage=C,E=function(){I.postMessage(null)}}else E=function(){y(C,0)};function P(e){k=e,_||(_=!0,E())}function D(e,n){O=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(O),O=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>N,FA:()=>O,Fy:()=>m,I9:()=>I,Im:()=>A,Ku:()=>L,T9:()=>h,Tj:()=>u,Uj:()=>a,XA:()=>f,ZQ:()=>g,bD:()=>j,c1:()=>v,cY:()=>p,eX:()=>_,g:()=>k,hp:()=>P,jZ:()=>y,lT:()=>x,lV:()=>w,nr:()=>S,sr:()=>b,tD:()=>D,u:()=>s,yU:()=>d,zW:()=>E});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==l)throw new o;const c=t<<2|a>>4;if(r.push(c),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/energy_balance",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCTHvBt2lLe9hCdgkqiDsHLfGTcPUJEuLY",REACT_APP_FIREBASE_AUTH_DOMAIN:"long-covid-8f42d.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"long-covid-8f42d",REACT_APP_FIREBASE_STORAGE_BUCKET:"long-covid-8f42d.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1066445028663",REACT_APP_FIREBASE_APP_ID:"1:1066445028663:web:28bd3b28e184906feb2eb2",REACT_APP_FITBIT_CLIENT_ID:"23Q9SZ",REACT_APP_FITBIT_REDIRECT_URI:"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback",REACT_APP_FITBIT_CLIENT_SECRET:"e30907e711956dbe26501f3af5fb7a6b",REACT_APP_FITBIT_REDIRECT_URI_DEV:"http://localhost:64556/energy_balance/fitbit-dashboard",REACT_APP_FITBIT_REDIRECT_URI_PROD:"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){try{return"object"===typeof indexedDB}catch(e){return!1}}function _(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(T,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new k(n,o,t)}}const T=/\{\$([^}]+)}/g;function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(C(n)&&C(o)){if(!j(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C(e){return null!==e&&"object"===typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function I(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new M(e,t);return n.subscribe.bind(n)}class M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function R(){}function L(e){return e&&e._delegate?e._delegate:e}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8055:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4283);function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o(e){let t,n,o;function s(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=r.A,n=(t,n)=>(0,r.A)(e(t),n),o=(t,n)=>e(t)-n):(t=e===r.A||e===i?e:a,n=e,o=e),{left:s,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=s(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return r>n&&o(e[r-1],t)>-o(e[r],t)?r-1:r},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function a(){return 0}},8086:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(5206),i=n(5365);function o(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=h(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function a(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var s=n(10);function l(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=h(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var c=n(7162),u=n(8419);function d(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function h(e,t){var n,h,f=typeof t;return null==t||"boolean"===f?(0,u.A)(t):("number"===f?s.A:"string"===f?(n=(0,r.Ay)(t))?(t=n,i.Ay):c.A:t instanceof r.Ay?i.Ay:t instanceof Date?a:(h=t,!ArrayBuffer.isView(h)||h instanceof DataView?Array.isArray(t)?o:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?l:s.A:d))(e,t)}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?A(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?A(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=k(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return A(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return E(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(O(n,a),O(e,a),a),s=!0,A(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):A(new r(n),i)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return O(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):j(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=E(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(A(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,A(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?A(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),A(n,e+E(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=C(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=C(r=A(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?C(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=C((r=A(new a(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return A(new t(e),E(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return A(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&N((o=o.times(u)).d,t),0!==(n=d(n/2));)N((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):A(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(O(u,r+12)),s=!0,(o=S(o)).s=a,o},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=C(i,(n=E(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=C(i=A(new a(i),e,t),e<=(n=E(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),A(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=E(e),n=e.constructor;return C(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,m,g,y,v,b,w,x,S,_,k,O,T,j=r.constructor,C=r.s==i.s?1:-1,N=r.d,I=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,O=I.length,_=N.length,g=(m=new j(C)).d=[],u=0;I[u]==(N[u]||0);)++u;if(I[u]>(N[u]||0)&&--c,(w=null==o?o=j.precision:a?o+(E(r)-E(i))+1:o)<0)return new j(0);if(w=w/7+2|0,u=0,1==O)for(d=0,I=I[0],w++;(u<_||d)&&w--;u++)x=d*p+(N[u]||0),g[u]=x/I|0,d=x%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),N=e(N,d),O=I.length,_=N.length),S=O,v=(y=N.slice(0,O)).length;v<O;)y[v++]=0;(T=I.slice()).unshift(0),k=I[0],I[1]>=p/2&&++k;do{d=0,(s=t(I,y,O,v))<0?(b=y[0],O!=v&&(b=b*p+(y[1]||0)),(d=b/k|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),y,f=h.length,v=y.length))&&(d--,n(h,O<f?T:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(I,y,O,v=y.length))<1&&(d++,n(y,O<v?T:I,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=N[S]||0:(y=[N[S]],v=1)}while((S++<_||void 0!==y[0])&&w--)}return g[0]||g.shift(),m.e=c,A(m,a?o+E(m)+1:o)}}();function S(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(E(e)>16)throw Error(u+E(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=A(r.times(e),l),n=n.times(++c),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;d--;)o=A(o.times(o),l);return f.precision=p,null==t?(s=!0,A(o,p)):o}o=a}}function E(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function _(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function O(e,t){var n,r,o,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),_(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),a=E(m),!(Math.abs(a)<15e14))return d=_(y,h+2,v).times(a+""),m=O(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,A(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(a=E(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),f=A(m.times(m),h),o=3;;){if(c=A(c.times(f),h),w((d=u.plus(x(c,new y(o),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(_(y,h+2,v).times(a+""))),u=x(u,new y(p),h),y.precision=v,null==t?(s=!0,A(u,v)):u;u=d,o+=2}}function T(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,i,o,a,l,c,f,m,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=E(e),y.length=1,t=t-o-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[m]+=o,y[m]!=p)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+E(e));return e}function j(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?A(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?A(t,m):t):new f(0)}function C(e,t,n){var r,i=E(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+k(-i-1)+o,n&&(r=n-a)>0&&(o+=k(r))):i>=a?(o+=k(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function N(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);T(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8299:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,h:()=>o});var r=n(5252),i=n(4402);const o=Symbol("implicit");function a(){var e=new r.B,t=[],n=[],s=o;function l(r){let i=e.get(r);if(void 0===i){if(s!==o)return s;e.set(r,i=t.push(r)-1)}return n[i%n.length]}return l.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new r.B;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return l},l.range=function(e){return arguments.length?(n=Array.from(e),l):n.slice()},l.unknown=function(e){return arguments.length?(s=e,l):s},l.copy=function(){return a(t,n).unknown(s)},i.C.apply(l,arguments),l}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8330:(e,t,n)=>{"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(i||o<0&&-0),s=(n-e._y1)/(o||i<0&&-0),l=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function o(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function a(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function s(e){this._context=e}function l(e){this._context=new c(e)}function c(e){this._context=e}function u(e){return new s(e)}function d(e){return new l(e)}n.d(t,{G:()=>u,N:()=>d}),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,e,t)),n);break;default:a(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(l.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}}},8419:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>()=>e},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>s,uA:()=>i});var r=n(7700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8907:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(9236),i=n(3809),o=n(5248),a=n(5722),s=n(5527);function l(e,t){var n=(0,i.A)(!0),l=null,c=o.A,u=null,d=(0,a.i)(h);function h(i){var o,a,s,h=(i=(0,r.A)(i)).length,f=!1;for(null==l&&(u=c(s=d())),o=0;o<=h;++o)!(o<h&&n(a=i[o],o,i))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+e(a,o,i),+t(a,o,i));if(s)return u=null,s+""||null}return e="function"===typeof e?e:void 0===e?s.x:(0,i.A)(e),t="function"===typeof t?t:void 0===t?s.y:(0,i.A)(t),h.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.A)(+t),h):e},h.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.A)(+e),h):t},h.defined=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.A)(!!e),h):n},h.curve=function(e){return arguments.length?(c=e,null!=l&&(u=c(l)),h):c},h.context=function(e){return arguments.length?(null==e?l=u=null:u=c(l=e),h):l},h}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9132:(e,t,n)=>{"use strict";function r(e){return null===e?NaN:+e}function*i(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}n.d(t,{A:()=>r,n:()=>i})},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9236:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});Array.prototype.slice;function r(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9511:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l});var r=n(4283),i=n(8055),o=n(9132);const a=(0,i.A)(r.A),s=a.right,l=(a.left,(0,i.A)(o.A).center,s)},9554:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2139);function i(e){return(e=(0,r.f)(Math.abs(e)))?e[1]:NaN}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9712:(e,t,n)=>{"use strict";n.d(t,{WH:()=>r.A,Mb:()=>kn,Cr:()=>On,yj:()=>An,q9:()=>jn,xh:()=>Tn,jo:()=>a,U4:()=>k.h,m4:()=>i.A,ZE:()=>w,UM:()=>k.A,hq:()=>r.z,RW:()=>C,QL:()=>W,WT:()=>G,af:()=>P,ex:()=>vn,M3:()=>bn,ui:()=>xn,T:()=>En,ye:()=>Sn,nV:()=>wn,Bv:()=>N,aX:()=>_,c3:()=>K,w7:()=>hn,Pp:()=>fn,Vr:()=>Cn.A});var r=n(2099),i=n(1645),o=n(4521);function a(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,o.A),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return a(e).unknown(t)},e=arguments.length?Array.from(e,o.A):[0,1],(0,i.C)(n)}var s=n(787),l=n(276),c=n(9741);function u(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}var d=n(9793),h=n(4402);function f(e){return Math.log(e)}function p(e){return Math.exp(e)}function m(e){return-Math.log(-e)}function g(e){return-Math.exp(-e)}function y(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v(e){return(t,n)=>-e(-t,n)}function b(e){const t=e(f,p),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?y:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=v(r),i=v(i),e(m,g)):e(f,p),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],l=t[t.length-1];const c=l<a;c&&([a,l]=[l,a]);let u,d,h=r(a),f=r(l);const p=null==e?10:+e;let m=[];if(!(o%1)&&f-h<p){if(h=Math.floor(h),f=Math.ceil(f),a>0){for(;h<=f;++h)for(u=1;u<o;++u)if(d=h<0?u/i(-h):u*i(h),!(d<a)){if(d>l)break;m.push(d)}}else for(;h<=f;++h)for(u=o-1;u>=1;--u)if(d=h>0?u/i(-h):u*i(h),!(d<a)){if(d>l)break;m.push(d)}2*m.length<p&&(m=(0,s.Ay)(a,l,p))}else m=(0,s.Ay)(h,f,Math.min(f-h,p)).map(i);return c?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=(0,l.A)(n)).precision||(n.trim=!0),n=(0,c.GP)(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(u(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function w(){const e=b((0,d.Gu)()).domain([1,10]);return e.copy=()=>(0,d.C)(e,w()).base(e.base()),h.C.apply(e,arguments),e}function x(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E(e){var t=1,n=e(x(t),S(t));return n.constant=function(n){return arguments.length?e(x(t=+n),S(t)):t},(0,i.C)(n)}function _(){var e=E((0,d.Gu)());return e.copy=function(){return(0,d.C)(e,_()).constant(e.constant())},h.C.apply(e,arguments)}var k=n(8299);function O(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function T(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function A(e){return e<0?-e*e:e*e}function j(e){var t=e(d.D_,d.D_),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(d.D_,d.D_):.5===n?e(T,A):e(O(n),O(1/n)):n},(0,i.C)(t)}function C(){var e=j((0,d.Gu)());return e.copy=function(){return(0,d.C)(e,C()).exponent(e.exponent())},h.C.apply(e,arguments),e}function N(){return C.apply(null,arguments).exponent(.5)}function I(e){return Math.sign(e)*e*e}function P(){var e,t=(0,d.Ay)(),n=[0,1],r=!1;function a(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return a.invert=function(e){return t.invert(I(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,o.A)).map(I)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return P(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},h.C.apply(a,arguments),(0,i.C)(a)}var D=n(1963);function M(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}var R=n(4283);function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.A;if(e===R.A)return F;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function F(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?F:L(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);U(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(z(e,n,t),i(e[r],o)>0&&z(e,n,r);a<s;){for(z(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?z(e,n,s):(++s,z(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function z(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}var B=n(9132);function V(e,t,n){if((r=(e=Float64Array.from((0,B.n)(e,n))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return M(e);if(t>=1)return(0,D.A)(e);var r,i=(r-1)*t,o=Math.floor(i),a=(0,D.A)(U(e,o).subarray(0,o+1));return a+(M(e.subarray(o+1))-a)*(i-o)}}function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.A;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}var H=n(9511);function W(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=q(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[(0,H.Ay)(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(R.A),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return W().domain(t).range(n).unknown(e)},h.C.apply(o,arguments)}function G(){var e,t=0,n=1,r=1,o=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[(0,H.Ay)(o,t,0,r)]:e}function l(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,l()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var i=a.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,o[0]]:i>=r?[o[r-1],n]:[o[i-1],o[i]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return G().domain([t,n]).range(a).unknown(e)},h.C.apply((0,i.C)(s),arguments)}function K(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[(0,H.Ay)(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return K().domain(t).range(n).unknown(e)},h.C.apply(i,arguments)}var Q=n(8055);const Y=1e3,X=6e4,$=36e5,J=864e5,Z=6048e5,ee=2592e6,te=31536e6,ne=new Date,re=new Date;function ie(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>ie((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(ne.setTime(+t),re.setTime(+r),e(ne),e(re),Math.floor(n(ne,re))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const oe=ie((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));oe.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ie((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):oe:null);oe.range;const ae=ie((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Y)}),((e,t)=>(t-e)/Y),(e=>e.getUTCSeconds())),se=(ae.range,ie((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Y)}),((e,t)=>{e.setTime(+e+t*X)}),((e,t)=>(t-e)/X),(e=>e.getMinutes()))),le=(se.range,ie((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*X)}),((e,t)=>(t-e)/X),(e=>e.getUTCMinutes()))),ce=(le.range,ie((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Y-e.getMinutes()*X)}),((e,t)=>{e.setTime(+e+t*$)}),((e,t)=>(t-e)/$),(e=>e.getHours()))),ue=(ce.range,ie((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*$)}),((e,t)=>(t-e)/$),(e=>e.getUTCHours()))),de=(ue.range,ie((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*X)/J),(e=>e.getDate()-1))),he=(de.range,ie((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/J),(e=>e.getUTCDate()-1))),fe=(he.range,ie((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/J),(e=>Math.floor(e/J))));fe.range;function pe(e){return ie((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*X)/Z))}const me=pe(0),ge=pe(1),ye=pe(2),ve=pe(3),be=pe(4),we=pe(5),xe=pe(6);me.range,ge.range,ye.range,ve.range,be.range,we.range,xe.range;function Se(e){return ie((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Z))}const Ee=Se(0),_e=Se(1),ke=Se(2),Oe=Se(3),Te=Se(4),Ae=Se(5),je=Se(6),Ce=(Ee.range,_e.range,ke.range,Oe.range,Te.range,Ae.range,je.range,ie((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Ne=(Ce.range,ie((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Ie=(Ne.range,ie((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Ie.every=e=>isFinite(e=Math.floor(e))&&e>0?ie((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;Ie.range;const Pe=ie((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Pe.every=e=>isFinite(e=Math.floor(e))&&e>0?ie((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;Pe.range;function De(e,t,n,r,i,o){const a=[[ae,1,Y],[ae,5,5e3],[ae,15,15e3],[ae,30,3e4],[o,1,X],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,$],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,J],[r,2,1728e5],[n,1,Z],[t,1,ee],[t,3,7776e6],[e,1,te]];function l(t,n,r){const i=Math.abs(n-t)/r,o=(0,Q.A)((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every((0,s.sG)(t/te,n/te,r));if(0===o)return oe.every(Math.max((0,s.sG)(t,n,r),1));const[l,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return l.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:l(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},l]}const[Me,Re]=De(Pe,Ne,Ee,fe,ue,le),[Le,Fe]=De(Ie,Ce,me,de,ce,se);function Ue(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ze(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Be(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Ve,qe,He,We={"-":"",_:" ",0:"0"},Ge=/^\s*\d+/,Ke=/^%/,Qe=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Xe(e){return e.replace(Qe,"\\$&")}function $e(e){return new RegExp("^(?:"+e.map(Xe).join("|")+")","i")}function Je(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Ze(e,t,n){var r=Ge.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function et(e,t,n){var r=Ge.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tt(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nt(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rt(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function it(e,t,n){var r=Ge.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ot(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function at(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function st(e,t,n){var r=Ge.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function lt(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ct(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ut(e,t,n){var r=Ge.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dt(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ht(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ft(e,t,n){var r=Ge.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pt(e,t,n){var r=Ge.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mt(e,t,n){var r=Ge.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gt(e,t,n){var r=Ke.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yt(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vt(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bt(e,t){return Ye(e.getDate(),t,2)}function wt(e,t){return Ye(e.getHours(),t,2)}function xt(e,t){return Ye(e.getHours()%12||12,t,2)}function St(e,t){return Ye(1+de.count(Ie(e),e),t,3)}function Et(e,t){return Ye(e.getMilliseconds(),t,3)}function _t(e,t){return Et(e,t)+"000"}function kt(e,t){return Ye(e.getMonth()+1,t,2)}function Ot(e,t){return Ye(e.getMinutes(),t,2)}function Tt(e,t){return Ye(e.getSeconds(),t,2)}function At(e){var t=e.getDay();return 0===t?7:t}function jt(e,t){return Ye(me.count(Ie(e)-1,e),t,2)}function Ct(e){var t=e.getDay();return t>=4||0===t?be(e):be.ceil(e)}function Nt(e,t){return e=Ct(e),Ye(be.count(Ie(e),e)+(4===Ie(e).getDay()),t,2)}function It(e){return e.getDay()}function Pt(e,t){return Ye(ge.count(Ie(e)-1,e),t,2)}function Dt(e,t){return Ye(e.getFullYear()%100,t,2)}function Mt(e,t){return Ye((e=Ct(e)).getFullYear()%100,t,2)}function Rt(e,t){return Ye(e.getFullYear()%1e4,t,4)}function Lt(e,t){var n=e.getDay();return Ye((e=n>=4||0===n?be(e):be.ceil(e)).getFullYear()%1e4,t,4)}function Ft(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function Ut(e,t){return Ye(e.getUTCDate(),t,2)}function zt(e,t){return Ye(e.getUTCHours(),t,2)}function Bt(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function Vt(e,t){return Ye(1+he.count(Pe(e),e),t,3)}function qt(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function Ht(e,t){return qt(e,t)+"000"}function Wt(e,t){return Ye(e.getUTCMonth()+1,t,2)}function Gt(e,t){return Ye(e.getUTCMinutes(),t,2)}function Kt(e,t){return Ye(e.getUTCSeconds(),t,2)}function Qt(e){var t=e.getUTCDay();return 0===t?7:t}function Yt(e,t){return Ye(Ee.count(Pe(e)-1,e),t,2)}function Xt(e){var t=e.getUTCDay();return t>=4||0===t?Te(e):Te.ceil(e)}function $t(e,t){return e=Xt(e),Ye(Te.count(Pe(e),e)+(4===Pe(e).getUTCDay()),t,2)}function Jt(e){return e.getUTCDay()}function Zt(e,t){return Ye(_e.count(Pe(e)-1,e),t,2)}function en(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function tn(e,t){return Ye((e=Xt(e)).getUTCFullYear()%100,t,2)}function nn(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function rn(e,t){var n=e.getUTCDay();return Ye((e=n>=4||0===n?Te(e):Te.ceil(e)).getUTCFullYear()%1e4,t,4)}function on(){return"+0000"}function an(){return"%"}function sn(e){return+e}function ln(e){return Math.floor(+e/1e3)}function cn(e){return new Date(e)}function un(e){return e instanceof Date?+e:+new Date(+e)}function dn(e,t,n,r,i,o,a,s,l,c){var h=(0,d.Ay)(),f=h.invert,p=h.domain,m=c(".%L"),g=c(":%S"),y=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),S=c("%Y");function E(e){return(l(e)<e?m:s(e)<e?g:a(e)<e?y:o(e)<e?v:r(e)<e?i(e)<e?b:w:n(e)<e?x:S)(e)}return h.invert=function(e){return new Date(f(e))},h.domain=function(e){return arguments.length?p(Array.from(e,un)):p().map(cn)},h.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},h.tickFormat=function(e,t){return null==t?E:c(t)},h.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(u(n,e)):h},h.copy=function(){return(0,d.C)(h,dn(e,t,n,r,i,o,a,s,l,c))},h}function hn(){return h.C.apply(dn(Le,Fe,Ie,Ce,me,de,ce,se,ae,qe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fn(){return h.C.apply(dn(Me,Re,Pe,Ne,Ee,he,ue,le,ae,He).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}Ve=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=$e(i),u=Je(i),d=$e(o),h=Je(o),f=$e(a),p=Je(a),m=$e(s),g=Je(s),y=$e(l),v=Je(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:bt,e:bt,f:_t,g:Mt,G:Lt,H:wt,I:xt,j:St,L:Et,m:kt,M:Ot,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:sn,s:ln,S:Tt,u:At,U:jt,V:Nt,w:It,W:Pt,x:null,X:null,y:Dt,Y:Rt,Z:Ft,"%":an},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ut,e:Ut,f:Ht,g:tn,G:rn,H:zt,I:Bt,j:Vt,L:qt,m:Wt,M:Gt,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:sn,s:ln,S:Kt,u:Qt,U:Yt,V:$t,w:Jt,W:Zt,x:null,X:null,y:en,Y:nn,Z:on,"%":an},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:ct,e:ct,f:mt,g:ot,G:it,H:dt,I:dt,j:ut,L:pt,m:lt,M:ht,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:st,Q:yt,s:vt,S:ft,u:et,U:tt,V:nt,w:Ze,W:rt,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:ot,Y:it,Z:at,"%":gt};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=We[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=Be(1900,void 0,1);if(_(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ze(Be(o.y,0,1))).getUTCDay(),r=i>4||0===i?_e.ceil(r):_e(r),r=he.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ue(Be(o.y,0,1))).getDay(),r=i>4||0===i?ge.ceil(r):ge(r),r=de.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ze(Be(o.y,0,1)).getUTCDay():Ue(Be(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ze(o)):Ue(o)}}function _(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in We?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),qe=Ve.format,Ve.parse,He=Ve.utcFormat,Ve.utcParse;var pn=n(8086),mn=n(831);function gn(){var e,t,n,r,i,o=0,a=1,s=d.D_,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(pn.A),c.rangeRound=u(mn.A),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function yn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vn(){var e=(0,i.C)(gn()(d.D_));return e.copy=function(){return yn(e,vn())},h.K.apply(e,arguments)}function bn(){var e=b(gn()).domain([1,10]);return e.copy=function(){return yn(e,bn()).base(e.base())},h.K.apply(e,arguments)}function wn(){var e=E(gn());return e.copy=function(){return yn(e,wn()).constant(e.constant())},h.K.apply(e,arguments)}function xn(){var e=j(gn());return e.copy=function(){return yn(e,xn()).exponent(e.exponent())},h.K.apply(e,arguments)}function Sn(){return xn.apply(null,arguments).exponent(.5)}function En(){var e=[],t=d.D_;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,H.Ay)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(R.A),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>V(e,r/t)))},n.copy=function(){return En(t).domain(e)},h.K.apply(n,arguments)}function _n(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=d.D_,f=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),h(f?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=pn.A);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[h(0),h(.5),h(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(h=e,p):h},p.range=m(pn.A),p.rangeRound=m(mn.A),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function kn(){var e=(0,i.C)(_n()(d.D_));return e.copy=function(){return yn(e,kn())},h.K.apply(e,arguments)}function On(){var e=b(_n()).domain([.1,1,10]);return e.copy=function(){return yn(e,On()).base(e.base())},h.K.apply(e,arguments)}function Tn(){var e=E(_n());return e.copy=function(){return yn(e,Tn()).constant(e.constant())},h.K.apply(e,arguments)}function An(){var e=j(_n());return e.copy=function(){return yn(e,An()).exponent(e.exponent())},h.K.apply(e,arguments)}function jn(){return An.apply(null,arguments).exponent(.5)}var Cn=n(3080)},9741:(e,t,n)=>{"use strict";n.d(t,{GP:()=>d,s:()=>h});var r=n(9554);var i=n(276);var o,a=n(2139);function s(e,t){var n=(0,a.f)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a.A,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>s(100*e,t),r:s,s:function(e,t){var n=(0,a.f)(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(o=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,a.f)(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c(e){return e}var u,d,h,f=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function m(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?c:(t=f.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",d=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(f.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",g=void 0===e.minus?"\u2212":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=(0,i.A)(e)).fill,n=e.align,r=e.sign,c=e.symbol,f=e.zero,v=e.width,b=e.comma,w=e.precision,x=e.trim,S=e.type;"n"===S?(b=!0,S="g"):l[S]||(void 0===w&&(w=12),x=!0,S="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var E="$"===c?s:"#"===c&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_="$"===c?u:/[%p]/.test(S)?m:"",k=l[S],O=/[defgprs%]/.test(S);function T(e){var i,s,l,c=E,u=_;if("c"===S)u=k(e)+u,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:k(Math.abs(e),w),x&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),m&&0===+e&&"+"!==r&&(m=!1),c=(m?"("===r?r:g:"-"===r||"("===r?"":r)+c,u=("s"===S?p[8+o/3]:"")+u+(m&&"("===r?")":""),O)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){u=(46===l?d+e.slice(i+1):e.slice(i))+u,e=e.slice(0,i);break}}b&&!f&&(e=a(e,1/0));var T=c.length+e.length+u.length,A=T<v?new Array(v-T+1).join(t):"";switch(b&&f&&(e=a(A+e,A.length?v-u.length:1/0),A=""),n){case"<":e=c+e+u+A;break;case"=":e=c+A+e+u;break;case"^":e=A.slice(0,T=A.length>>1)+c+e+u+A.slice(T);break;default:e=A+c+e+u}return h(e)}return w=void 0===w?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),T.toString=function(){return e+""},T}return{format:v,formatPrefix:function(e,t){var n=v(((e=(0,i.A)(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((0,r.A)(t)/3))),a=Math.pow(10,-o),s=p[8+o/3];return function(e){return n(a*e)+s}}}}u=m({thousands:",",grouping:[3],currency:["$",""]}),d=u.format,h=u.formatPrefix},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9786:(e,t,n)=>{"use strict";n.d(t,{IX:()=>Ue,eJ:()=>rt,hG:()=>ct,xI:()=>On,hg:()=>st,kZ:()=>tt,signInWithEmailAndPassword:()=>it,CI:()=>lt,f3:()=>ot});var r=n(7150),i=n(7700),o=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new o.Vy("@firebase/auth");function h(e){if(d.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw y(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||b(t)}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(S()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class O{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},A=new _(3e4,6e4);function j(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function C(e,t,n,r){return N(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},a={};r&&("GET"===t?a=r:o={body:JSON.stringify(r)});const s=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},o);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),O.fetch()(P(e,e.config.apiHost,n,s),c)}))}async function N(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},T),t);try{const t=new M(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw R(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw R(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw R(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw R(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,s,a);f(e,s)}}catch(o){if(o instanceof i.g)throw o;f(e,"network-request-failed",{message:String(o)})}}async function I(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await C(e,t,n,r,i);return"mfaPendingCredential"in o&&f(e,"multi-factor-auth-required",{_serverResponse:o}),o}function P(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?k(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function D(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),A.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function R(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function L(e){return void 0!==e&&void 0!==e.enterprise}class F{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function U(e,t){return C(e,"GET","/v2/recaptchaConfig",j(e,t))}async function z(e,t){return C(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(o){return h("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function H(e){const t=q(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class K{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Q(e){var t;const n=e.auth,r=await e.getIdToken(),i=await W(e,z(n,{idToken:r}));v(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Y(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new K(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Y(e){return e.map((e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):H(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=H(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await N(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,a=P(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new X;return n&&(v("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(v("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return b("not implemented")}}function $(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class J{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),o=q(r);v(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:B(V(o.auth_time)),issuedAtTime:B(V(o.iat)),expirationTime:B(V(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new J(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return C(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:E}=t;v(b&&E,e,"internal-error");const _=X.fromJSON(this.name,E);v("string"===typeof b,e,"internal-error"),$(u,e.name),$(d,e.name),v("boolean"===typeof w,e,"internal-error"),v("boolean"===typeof x,e,"internal-error"),$(h,e.name),$(f,e.name),$(p,e.name),$(m,e.name),$(g,e.name),$(y,e.name);const k=new J({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(k.providerData=S.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new X;r.updateFromServerResponse(t);const i=new J({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Q(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new X;a.updateFromIdToken(n);const s=new J({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new K(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Z=new Map;function ee(e){w(e instanceof Function,"Expected a class definition");let t=Z.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Z.set(e,t),t)}class te{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}te.type="NONE";const ne=te;function re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=re(this.userKey,r.apiKey,i),this.fullPersistenceKey=re("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?J._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(ee(ne),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ee(ne);const o=re(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=J._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ie(i,e,n)):new ie(i,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(de(t))return"Blackberry";if(he(t))return"Webos";if(se(t))return"Safari";if((t.includes("chrome/")||le(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function se(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return fe(e)||ue(e)||he(e)||de(e)||/windows phone/i.test(e)||ce(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,i.ZQ)());break;case"Worker":t="".concat(oe((0,i.ZQ)()),"-").concat(e);break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(o)}class ge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ye{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ve{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ee(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await z(this,{idToken:e}),n=await J._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Q(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ee(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return C(e,"GET","/v2/passwordPolicy",j(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return C(e,"POST","/v2/accounts:revokeToken",j(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ee(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[ee(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function be(e){return(0,i.Ku)(e)}class we{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xe={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Se(e){return xe.loadJS(e)}function Ee(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class _e{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;L(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new F(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&L(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xe.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Se(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ke(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new _e(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Oe(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ke(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ke(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Te(e,t,n){const r=be(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ae(t),{host:a,port:s}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:je(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:je(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function je(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ce{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Ne(e,t){return C(e,"POST","/v1/accounts:signUp",t)}async function Ie(e,t){return I(e,"POST","/v1/accounts:signInWithPassword",j(e,t))}class Pe extends Ce{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pe(e,t,"password")}static _fromEmailAndCode(e,t){return new Pe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Oe(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ie);case"emailLink":return async function(e,t){return I(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Oe(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ne);case"emailLink":return async function(e,t){return I(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return I(e,"POST","/v1/accounts:signInWithIdp",j(e,t))}class Me extends Ce{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Me(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Me(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const Re={USER_NOT_FOUND:"user-not-found"};class Le extends Ce{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Le({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Le({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return I(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await I(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t));if(n.temporaryProof)throw R(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return I(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Re)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Le({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fe{constructor(e){var t,n,r,o,a,s;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Fe(t)}catch(n){return null}}}class Ue{constructor(){this.providerId=Ue.PROVIDER_ID}static credential(e,t){return Pe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fe.parseLink(t);return v(n,"argument-error"),Pe._fromEmailAndCode(e,n.code,n.tenantId)}}Ue.PROVIDER_ID="password",Ue.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ue.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ze{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Be extends ze{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ve extends Be{constructor(){super("facebook.com")}static credential(e){return Me._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ve.credential(t.oauthAccessToken)}catch(n){return null}}}Ve.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ve.PROVIDER_ID="facebook.com";class qe extends Be{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Me._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qe.credentialFromTaggedObject(e)}static credentialFromError(e){return qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qe.credential(n,r)}catch(i){return null}}}qe.GOOGLE_SIGN_IN_METHOD="google.com",qe.PROVIDER_ID="google.com";class He extends Be{constructor(){super("github.com")}static credential(e){return Me._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return He.credential(t.oauthAccessToken)}catch(n){return null}}}He.GITHUB_SIGN_IN_METHOD="github.com",He.PROVIDER_ID="github.com";class We extends Be{constructor(){super("twitter.com")}static credential(e,t){return Me._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return We.credential(n,r)}catch(i){return null}}}async function Ge(e,t){return I(e,"POST","/v1/accounts:signUp",j(e,t))}We.TWITTER_SIGN_IN_METHOD="twitter.com",We.PROVIDER_ID="twitter.com";class Ke{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await J._fromIdTokenResponse(e,n,r),o=Qe(n);return new Ke({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qe(n);return new Ke({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ye extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ye.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ye(e,t,n,r)}}function Xe(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ye._fromErrorAndOperation(e,n,t,r);throw n}))}async function $e(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ke._forOperation(e,"link",r)}async function Je(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const o="reauthenticate";try{const r=await W(e,Xe(i,o,t,e),n);v(r.idToken,i,"internal-error");const a=q(r.idToken);v(a,i,"internal-error");const{sub:s}=a;return v(e.uid===s,i,"user-mismatch"),Ke._forOperation(e,o,r)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&f(i,"user-mismatch"),a}}async function Ze(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",o=await Xe(e,i,t),a=await Ke._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(a.user),a}async function et(e,t){return Ze(be(e),t)}async function tt(e,t){return Je((0,i.Ku)(e),t)}async function nt(e){const t=be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=be(e),o=Oe(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ge),a=await o.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nt(e),t})),s=await Ke._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(s.user),s}function it(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):et((0,i.Ku)(e),Ue.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nt(e),t}))}function ot(e,t){return at((0,i.Ku)(e),null,t)}async function at(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await W(e,async function(e,t){return C(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}function st(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function lt(e){return(0,i.Ku)(e).signOut()}async function ct(e){return(0,i.Ku)(e).delete()}new WeakMap;const ut="__sak";class dt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ut,"1"),this.storage.removeItem(ut),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ht extends dt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ht.type="LOCAL";const ft=ht;class pt extends dt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pt.type="SESSION";const mt=pt;class gt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gt.receivers=[];class vt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=yt("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function bt(){return window}function wt(){return"undefined"!==typeof bt().WorkerGlobalScope&&"function"===typeof bt().importScripts}const xt="firebaseLocalStorageDb",St="firebaseLocalStorage",Et="fbase_key";class _t{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function kt(e,t){return e.transaction([St],t?"readwrite":"readonly").objectStore(St)}function Ot(){const e=indexedDB.open(xt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(St,{keyPath:Et})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(St)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xt);return new _t(e).toPromise()}(),t(await Ot()))}))}))}async function Tt(e,t,n){const r=kt(e,!0).put({[Et]:t,value:n});return new _t(r).toPromise()}function At(e,t){const n=kt(e,!0).delete(t);return new _t(n).toPromise()}class jt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ot()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gt._getInstance(wt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ot();return await Tt(e,ut,"1"),await At(e,ut),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Tt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=kt(e,!1).get(t),r=await new _t(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>At(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=kt(e,!1).getAll();return new _t(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}jt.type="LOCAL";const Ct=jt;Ee("rcb"),new _(3e4,6e4);const Nt="recaptcha";async function It(e,t,n){var r;const i=await n.verify();try{let o;if(v("string"===typeof i,e,"argument-error"),v(n.type===Nt,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){v("enroll"===t.type,e,"internal-error");const n=await function(e,t){return C(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;v(n,e,"missing-multi-factor-info");const a=await function(e,t){return C(e,"POST","/v2/accounts/mfaSignIn:start",j(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return C(e,"POST","/v1/accounts:sendVerificationCode",j(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Pt{constructor(e){this.providerId=Pt.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return It(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Le._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pt.credentialFromTaggedObject(t)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Le._fromTokenResponse(n,r):null}}function Dt(e,t){return t?ee(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pt.PROVIDER_ID="phone",Pt.PHONE_SIGN_IN_METHOD="phone";class Mt extends Ce{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rt(e){return Ze(e.auth,new Mt(e),e.bypassAuthState)}function Lt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Je(n,new Mt(e),e.bypassAuthState)}async function Ft(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),$e(n,new Mt(e),e.bypassAuthState)}class Ut{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rt;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return Lt;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zt=new _(2e3,1e4);class Bt extends Ut{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bt.currentPopupAction&&Bt.currentPopupAction.cancel(),Bt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=yt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,zt.get())};e()}}Bt.currentPopupAction=null;const Vt=new Map;class qt extends Ut{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Vt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Gt(t),r=Wt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Vt.set(this.auth._key(),e)}return this.bypassAuthState||Vt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ht(e,t){Vt.set(e._key(),t)}function Wt(e){return ee(e._redirectPersistence)}function Gt(e){return re("pendingRedirect",e.config.apiKey,e.name)}async function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=be(e),o=Dt(i,t),a=new qt(i,o,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class Qt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yt(e))}saveEventToCache(e){this.cachedEventUids.add(Yt(e)),this.lastProcessedEventTime=Date.now()}}function Yt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xt(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jt=/^https?/;async function Zt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return C(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(en(r))return}catch(n){}f(e,"unauthorized-domain")}function en(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Jt.test(n))return!1;if($t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tn=new _(3e4,6e4);function nn(){const e=bt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function rn(e){return new Promise(((t,n)=>{var r,i,o;function a(){nn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nn(),n(p(e,"network-request-failed"))},timeout:tn.get()})}if(null===(i=null===(r=bt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=bt().gapi)||void 0===o?void 0:o.load)){const t=Ee("iframefcb");return bt()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},Se("".concat(xe.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw on=null,e}))}let on=null;const an=new _(5e3,15e3),sn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ln=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),o={apiKey:t.apiKey,appName:e.name,v:r.MF},a=ln.get(e.config.apiHost);a&&(o.eid=a);const s=e._getFrameworks();return s.length&&(o.fw=s.join(",")),"".concat(n,"?").concat((0,i.Am)(o).slice(1))}async function un(e){const t=await function(e){return on=on||rn(e),on}(e),n=bt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:cn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),o=bt().setTimeout((()=>{r(i)}),an.get());function a(){bt().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const dn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function fn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},dn),{width:r.toString(),height:o.toString(),top:a,left:s}),u=(0,i.ZQ)().toLowerCase();n&&(l=le(u)?"_blank":n),ae(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new hn(null);const h=window.open(t||"",l,d);v(h,e,"popup-blocked");try{h.focus()}catch(f){}return new hn(h)}const pn="__/auth/handler",mn="emulator/auth/handler",gn=encodeURIComponent("fac");async function yn(e,t,n,o,a,s){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r.MF,eventId:a};if(t instanceof ze){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof Be){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?"#".concat(gn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pn);return k(t,mn)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(d)}const vn="webStorageSupport";const bn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mt,this._completeRedirectFn=Kt,this._overrideRedirectResult=Ht}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return fn(e,await yn(e,t,n,x(),r),yt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bt().location.href=e}(await yn(e,t,n,x(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await un(e),n=new Qt(e);return t.register("authEvent",(t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vn,{type:vn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[vn];void 0!==i&&t(!!i),f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zt(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||se()||fe()}};var wn="@firebase/auth",xn="1.7.9";class Sn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const En=(0,i.XA)("authIdTokenMaxAge")||300;let _n=null;const kn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>En)return;const i=null===n||void 0===n?void 0:n.token;_n!==i&&(_n=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function On(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:bn,persistence:[Ct,ft,mt]}),o=(0,i.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=kn(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const a=(0,i.Tj)("auth");return a&&Te(n,"http://".concat(a)),n}var Tn;xe={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Tn="Browser",(0,r.om)(new s.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;v(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Tn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(Tn)},c=new ve(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ee);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new s.uA("auth-internal",(e=>(e=>new Sn(e))(be(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(wn,xn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Tn)),(0,r.KO)(wn,xn,"esm2017")},9793:(e,t,n)=>{"use strict";n.d(t,{C:()=>f,Ay:()=>m,D_:()=>c,Gu:()=>p});var r=n(9511),i=n(8086),o=n(10),a=n(831);var s=n(4521),l=[0,1];function c(e){return e}function u(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function d(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=u(i,r),o=n(a,o)):(r=u(r,i),o=n(o,a)),function(e){return o(r(e))}}function h(e,t,n){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=u(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=(0,r.Ay)(e,t,1,i)-1;return a[n](o[n](t))}}function f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function p(){var e,t,n,r,u,f,p=l,m=l,g=i.A,y=c;function v(){var e=Math.min(p.length,m.length);return y!==c&&(y=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(p[0],p[e-1])),r=e>2?h:d,u=f=null,b}function b(t){return null==t||isNaN(t=+t)?n:(u||(u=r(p.map(e),m,g)))(e(y(t)))}return b.invert=function(n){return y(t((f||(f=r(m,p.map(e),o.A)))(n)))},b.domain=function(e){return arguments.length?(p=Array.from(e,s.A),v()):p.slice()},b.range=function(e){return arguments.length?(m=Array.from(e),v()):m.slice()},b.rangeRound=function(e){return m=Array.from(e),g=a.A,v()},b.clamp=function(e){return arguments.length?(y=!!e||c,v()):y!==c},b.interpolate=function(e){return arguments.length?(g=e,v()):g},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,v()}}function m(){return p()(c,c)}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{488:"182a440e",523:"7288c5a0",924:"71f2e5b6"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+".7241076f.chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="energy_balance:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/energy_balance/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var i=n.miniCssF(e),o=n.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}})(i,o))return t();((e,t,r,i,o)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc),a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)i();else{var r=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=s,a.parentNode&&a.parentNode.removeChild(a),o(l)}},a.href=t,r?r.parentNode.insertBefore(a,r.nextSibling):document.head.appendChild(a)})(e,o,null,t,r)})),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{924:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkenergy_balance=self.webpackChunkenergy_balance||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Wo.WH,scaleDiverging:()=>Wo.Mb,scaleDivergingLog:()=>Wo.Cr,scaleDivergingPow:()=>Wo.yj,scaleDivergingSqrt:()=>Wo.q9,scaleDivergingSymlog:()=>Wo.xh,scaleIdentity:()=>Wo.jo,scaleImplicit:()=>Wo.U4,scaleLinear:()=>Wo.m4,scaleLog:()=>Wo.ZE,scaleOrdinal:()=>Wo.UM,scalePoint:()=>Wo.hq,scalePow:()=>Wo.RW,scaleQuantile:()=>Wo.QL,scaleQuantize:()=>Wo.WT,scaleRadial:()=>Wo.af,scaleSequential:()=>Wo.ex,scaleSequentialLog:()=>Wo.M3,scaleSequentialPow:()=>Wo.ui,scaleSequentialQuantile:()=>Wo.T,scaleSequentialSqrt:()=>Wo.ye,scaleSequentialSymlog:()=>Wo.nV,scaleSqrt:()=>Wo.Bv,scaleSymlog:()=>Wo.aX,scaleThreshold:()=>Wo.c3,scaleTime:()=>Wo.w7,scaleUtc:()=>Wo.Pp,tickFormat:()=>Wo.Vr});var t=n(5043),r=n.t(t,2),i=n(4391),o=n(3216),a=n(7950),s=n.t(a,2),l=n(1387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Tp){}new Map;const h=r.startTransition;s.flushSync,r.useId;function f(e){let{basename:n,children:r,future:i,window:a}=e,s=t.useRef();null==s.current&&(s.current=(0,l.zR)({window:a,v5Compat:!0}));let c=s.current,[u,d]=t.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},p=t.useCallback((e=>{f&&h?h((()=>d(e))):d(e)}),[d,f]);return t.useLayoutEffect((()=>c.listen(p)),[c,p]),t.useEffect((()=>(0,o.V8)(i)),[i]),t.createElement(o.Ix,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:c,future:i})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=t.forwardRef((function(e,n){let r,{onClick:i,relative:a,reloadDocument:s,replace:h,state:f,target:g,to:y,preventScrollReset:v,viewTransition:b}=e,w=u(e,d),{basename:x}=t.useContext(o.jb),S=!1;if("string"===typeof y&&m.test(y)&&(r=y,p))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=(0,l.pb)(t.pathname,x);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:S=!0}catch(Tp){}let E=(0,o.$P)(y,{relative:a}),_=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:s,relative:c,viewTransition:u}=void 0===n?{}:n,d=(0,o.Zp)(),h=(0,o.zy)(),f=(0,o.x$)(e,{relative:c});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:(0,l.AO)(h)===(0,l.AO)(f);d(e,{replace:n,state:a,preventScrollReset:s,relative:c,viewTransition:u})}}),[h,d,f,i,a,r,e,s,c,u])}(y,{replace:h,state:f,target:g,preventScrollReset:v,relative:a,viewTransition:b});return t.createElement("a",c({},w,{href:r||E,onClick:S||s?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:g}))}));var y,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y||(y={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}));var b=n(2555);var w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x=["color","size","strokeWidth","absoluteStrokeWidth","children"];var S=(e,n)=>{const r=(0,t.forwardRef)(((r,i)=>{let{color:o="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:c}=r,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,x);return(0,t.createElement)("svg",(0,b.A)((0,b.A)({ref:i},w),{},{width:a,height:a,stroke:o,strokeWidth:l?24*Number(s)/Number(a):s,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...n.map((e=>{let[n,r]=e;return(0,t.createElement)(n,r)})),...(Array.isArray(c)?c:[c])||[]]);var d}));return r.displayName="".concat(e),r};const E=S("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),_=S("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]),k=S("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),O=S("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),T=S("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),A=S("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),j=S("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),C=S("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),N=S("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),I=S("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),P=S("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),D=S("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),M=S("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),R=S("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);n(1775);var L=n(9786),F=n(303),U=n(5472),z=n(579);const B=e=>{let{step:t,formData:n}=e;const r=[{id:"personal",label:"Personal Information",completed:t>1,active:1===t},{id:"device",label:"Device Connection",completed:t>2,active:2===t},{id:"authorization",label:"Authorization",completed:n.authorizationGiven&&t>=3,active:3===t&&!n.authorizationGiven}];return(0,z.jsxs)("div",{className:"progress-summary fade-in-up",children:[(0,z.jsx)("h3",{className:"progress-title",children:"Registration Progress"}),(0,z.jsx)("div",{className:"progress-items",children:r.map(((e,t)=>(0,z.jsxs)("div",{className:"progress-item ".concat(e.completed?"completed":e.active?"active":""),children:[(0,z.jsx)("div",{className:"progress-item-status ".concat(e.completed?"completed":""),children:e.completed?(0,z.jsx)(E,{className:"progress-icon completed"}):(0,z.jsx)("div",{className:"progress-circle ".concat(e.active?"active":"inactive"),children:!e.active&&(0,z.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600"},children:t+1})})}),(0,z.jsx)("span",{className:"progress-item-label",children:e.label})]},e.id)))})]})},V=e=>{let{title:t,children:n,icon:r}=e;return(0,z.jsx)("div",{className:"info-box",children:(0,z.jsxs)("div",{className:"info-box-content",children:[r&&(0,z.jsx)(r,{className:"info-box-icon"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"info-box-title",children:t}),(0,z.jsx)("p",{className:"info-box-text",children:n})]})]})})},q=[{id:"apple-watch",name:"Apple Watch",description:"Connect via Apple Health",icon:_,color:"bg-gray-900 text-white",features:["Heart Rate","HRV","Activity","Sleep"],connectionType:"oauth",setupInstructions:"We'll redirect you to Apple Health to authorize data sharing."},{id:"fitbit",name:"Fitbit",description:"Connect via Fitbit API",icon:k,color:"bg-green-600 text-white",features:["Heart Rate","Steps","Sleep","Stress"],connectionType:"oauth",setupInstructions:"You'll be redirected to Fitbit to sign in and authorize access."},{id:"garmin",name:"Garmin",description:"Connect via Garmin Connect",icon:_,color:"bg-blue-600 text-white",features:["Heart Rate","HRV","Training Load","Recovery"],connectionType:"oauth",setupInstructions:"Sign in to Garmin Connect to enable data synchronization."},{id:"samsung-health",name:"Samsung Health",description:"Connect via Samsung Health",icon:O,color:"bg-blue-800 text-white",features:["Heart Rate","Steps","Sleep","Stress"],connectionType:"oauth",setupInstructions:"Authorize Samsung Health to share your fitness data."},{id:"google-fit",name:"Google Fit",description:"Connect via Google Fit API",icon:O,color:"bg-red-500 text-white",features:["Activity","Heart Rate","Sleep","Location"],connectionType:"oauth",setupInstructions:"Sign in with Google to connect your Fit data."},{id:"manual",name:"Manual Entry",description:"Record data manually",icon:T,color:"bg-purple-600 text-white",features:["Custom Input","Flexible Tracking","No Device Required"],connectionType:"manual",setupInstructions:"No setup required. You'll enter data manually in the app."}],H=["Fatigue","Post-exertional malaise","Brain fog","Headaches","Shortness of breath","Heart palpitations","Dizziness","Joint/muscle pain","Sleep disturbances","Temperature regulation issues","Digestive issues"];const W=function(){const e=(0,o.Zp)(),[n,r]=(0,t.useState)(1),[i,a]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",age:"",gender:"",weight:"",height:"",covidDate:"",covidDuration:"",severity:"",symptoms:[],medicalConditions:"",selectedDevice:"",deviceConnected:!1,authorizationGiven:!1}),[s,l]=(0,t.useState)({}),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)("");t.useEffect((()=>{const e=document.querySelectorAll("input, select, textarea"),t=document.querySelectorAll(".device-card"),n=[];e.forEach((e=>{try{const t=(e=>{const t=e.closest(".form-group"),n=null===t||void 0===t?void 0:t.querySelector(".form-label");if(!n||!t)return{handleFocus:()=>{},handleBlur:()=>{},handleInput:()=>{},updateLabelState:()=>{}};const r=()=>{const r=e.value&&e.value.length>0,i=document.activeElement===e;r||i?(n.classList.add("floating"),t.classList.add("has-content")):(n.classList.remove("floating"),t.classList.remove("has-content"))};return r(),{handleFocus:()=>{try{e.closest(".form-group")&&(e.closest(".form-group").style.transform="scale(1.02)"),n.classList.add("floating"),t.classList.add("focused"),r()}catch(i){console.warn("Error in handleFocus:",i)}},handleBlur:()=>{try{e.closest(".form-group")&&(e.closest(".form-group").style.transform="scale(1)"),t.classList.remove("focused"),r()}catch(n){console.warn("Error in handleBlur:",n)}},handleInput:()=>{try{r()}catch(e){console.warn("Error in handleInput:",e)}},updateLabelState:r}})(e);t&&t.handleFocus&&(e.addEventListener("focus",t.handleFocus),e.addEventListener("blur",t.handleBlur),e.addEventListener("input",t.handleInput),n.push({input:e,handlers:t}))}catch(t){console.warn("Error setting up input handlers:",t)}}));const r=[];return t.forEach((e=>{try{const t=()=>{e.style.transform="translateY(-4px) scale(1.05)"},n=()=>{e.style.transform="translateY(0) scale(1)"};e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),r.push({item:e,handleMouseEnter:t,handleMouseLeave:n})}catch(t){console.warn("Error setting up device handlers:",t)}})),()=>{n.forEach((e=>{let{input:t,handlers:n}=e;try{t&&n&&(t.removeEventListener("focus",n.handleFocus),t.removeEventListener("blur",n.handleBlur),t.removeEventListener("input",n.handleInput))}catch(r){console.warn("Error cleaning up input handlers:",r)}})),r.forEach((e=>{let{item:t,handleMouseEnter:n,handleMouseLeave:r}=e;try{t&&(t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",r))}catch(i){console.warn("Error cleaning up device handlers:",i)}}))}}),[]),t.useEffect((()=>{document.querySelectorAll("input, select, textarea").forEach((e=>{try{const t=e.closest(".form-group"),n=null===t||void 0===t?void 0:t.querySelector(".form-label");if(n&&t){e.value&&e.value.length>0?(n.classList.add("floating"),t.classList.add("has-content")):(n.classList.remove("floating"),t.classList.remove("has-content"))}}catch(t){console.warn("Error updating floating labels:",t)}}))}),[i]);const f=e=>{const{name:t,value:n,type:r,checked:i}=e.target;a("symptoms"===t?e=>(0,b.A)((0,b.A)({},e),{},{symptoms:i?[...e.symptoms,n]:e.symptoms.filter((e=>e!==n))}):e=>(0,b.A)((0,b.A)({},e),{},{[t]:"checkbox"===r?i:n})),s[t]&&l((e=>(0,b.A)((0,b.A)({},e),{},{[t]:""})))},p=async()=>{u(!0),h("Connecting...");const e=q.find((e=>e.id===i.selectedDevice));try{if("oauth"===e.connectionType){if("fitbit"===i.selectedDevice){const e={name:i.name,email:i.email,password:i.password,age:i.age,gender:i.gender,weight:i.weight,height:i.height,covidDate:i.covidDate,covidDuration:i.covidDuration,severity:i.severity,symptoms:i.symptoms,medicalConditions:i.medicalConditions,selectedDevice:i.selectedDevice};sessionStorage.setItem("registrationData",JSON.stringify(e));const t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("fitbitOAuthState",t),sessionStorage.setItem("fitbitAuthStartTime",Date.now().toString());const n="23Q9SZ",r=(()=>{const e=window.location.hostname,t=window.location.port,n=window.location.origin,r=window.location.pathname;console.log("=== REDIRECT URI DEBUG ==="),console.log("Hostname:",e),console.log("Port:",t),console.log("Origin:",n),console.log("Pathname:",r),console.log("Full location:",window.location.href);const i="localhost"===e||"127.0.0.1"===e,o=e.includes("github.io");let a;return console.log("Is localhost:",i),console.log("Is GitHub Pages:",o),a=i?t?"http://localhost:".concat(t,"/energy_balance/fitbit-dashboard"):"http://localhost:64556/energy_balance/fitbit-dashboard":o?"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback":"".concat(n,"/fitbit-dashboard/callback"),console.log("Generated redirect URI:",a),console.log("=== END REDIRECT URI DEBUG ==="),a})();if(console.log("=== FITBIT OAUTH FULL DEBUG ==="),console.log("Current window location:",window.location.href),console.log("Current hostname:",window.location.hostname),console.log("Current port:",window.location.port),console.log("Current origin:",window.location.origin),console.log("Current pathname:",window.location.pathname),console.log("Redirect URI being used:",r),console.log("Fitbit Client ID:",n?n.substring(0,6)+"...":"MISSING"),console.log("YOUR REGISTERED FITBIT URLs SHOULD BE:"),console.log("1. For localhost:","http://localhost:".concat(window.location.port||"64556","/energy_balance/fitbit-dashboard")),console.log("2. For GitHub Pages: https://obuchel.github.io/energy_balance/fitbit-dashboard/callback"),!n)throw new Error("Fitbit Client ID missing. Please check environment variables.");const o=new URL("https://www.fitbit.com/oauth2/authorize");o.searchParams.append("response_type","code"),o.searchParams.append("client_id",n),o.searchParams.append("redirect_uri",r),o.searchParams.append("scope","activity heartrate location nutrition profile settings sleep social weight"),o.searchParams.append("state",t),console.log("Full Fitbit OAuth URL:",o.toString()),console.log("=== END FULL DEBUG ===");return window.confirm("FITBIT OAUTH DEBUG INFO:\n\n"+"Current URL: ".concat(window.location.href,"\n")+"Detected Port: ".concat(window.location.port||"none (probably 64556)","\n")+"Redirect URI: ".concat(r,"\n\n")+"YOUR FITBIT APP SHOULD HAVE THESE EXACT URLs REGISTERED:\n"+"1. http://localhost:".concat(window.location.port||"64556","/energy_balance/fitbit-dashboard\n")+"2. https://obuchel.github.io/energy_balance/fitbit-dashboard/callback\n\n"+"Client ID: ".concat(n?n.substring(0,6)+"...":"MISSING","\n\n")+"If the redirect URI above doesn't EXACTLY match one of your registered URLs in dev.fitbit.com, you'll get the \"Invalid redirect_uri\" error.\n\nContinue to Fitbit?")?(h("Redirecting to Fitbit..."),void setTimeout((()=>{window.location.href=o.toString()}),1e3)):(u(!1),void h("Connection cancelled by user."))}await new Promise((e=>setTimeout(e,2e3))),h("Device ready for authorization"),a((e=>(0,b.A)((0,b.A)({},e),{},{deviceConnected:!0}))),r(3)}else a((e=>(0,b.A)((0,b.A)({},e),{},{deviceConnected:!0}))),h("Manual entry selected"),r(3)}catch(t){console.error("Device connection error:",t),h("Connection failed: ".concat(t.message))}finally{u(!1)}},m=async e=>{try{const t=(0,U.rJ)(F.db,"users"),n=(0,U.P)(t,(0,U._M)("email","==",e.toLowerCase()));return!(await(0,U.GG)(n)).empty}catch(t){return console.error("Error checking email existence:",t),!1}},g=async()=>{if(1===n&&(()=>{const e={};i.name.trim()||(e.name="Name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required";return i.password?i.password.length<6?e.password="Password must be at least 6 characters (Firebase requirement)":i.password.length<8&&(e.password="Password should be at least 8 characters for better security"):e.password="Password is required",i.password!==i.confirmPassword&&(e.confirmPassword="Passwords do not match"),i.age?i.age<13&&(e.age="Age must be at least 13 (Firebase requirement)"):e.age="Age is required",i.gender||(e.gender="Gender is required"),l(e),0===Object.keys(e).length})()){u(!0);try{if(await m(i.email))return l({email:"This email address is already registered. Please use a different email or try signing in."}),void u(!1);u(!1),r(2)}catch(e){u(!1),console.error("Error checking email:",e),r(2)}}else 2===n&&(i.selectedDevice?(l({}),1):(l({device:"Please select a device or manual entry option"}),0))&&p()},y=()=>{n>1&&r(n-1)},v=q.find((e=>e.id===i.selectedDevice));return(0,z.jsx)("div",{className:"registration-page",children:(0,z.jsxs)("div",{className:"registration-container",children:[(0,z.jsxs)("div",{className:"registration-header",children:[(0,z.jsx)("h1",{className:"registration-title",children:"Join Energy Balance"}),(0,z.jsx)("p",{className:"registration-subtitle",children:"Set up your personalized energy management system"})]}),(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"})]}),(0,z.jsxs)("div",{className:"registration-card fade-in-up",children:[1===n&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"step-title",children:"Tell us about yourself"}),(0,z.jsx)(V,{title:"Why we need this information",icon:A,children:"Your personal details help our system calculate your energy baseline, recovery capacity, and create a customized energy envelope specifically for your condition. All information is stored securely and processed locally on your device."}),(0,z.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g()},className:"space-y-6",children:[(0,z.jsxs)("div",{className:"form-grid two-cols",children:[(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(T,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"text",name:"name",value:i.name,onChange:f,className:"form-input ".concat(s.name?"error":""),placeholder:"Enter your full name"}),(0,z.jsx)("label",{className:"form-label",children:"Full Name *"}),s.name&&(0,z.jsx)("p",{className:"error-message",children:s.name})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(j,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"email",name:"email",value:i.email,onChange:f,className:"form-input ".concat(s.email?"error":""),placeholder:"Enter your email"}),(0,z.jsx)("label",{className:"form-label",children:"Email Address *"}),s.email&&(0,z.jsx)("p",{className:"error-message",children:s.email})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(C,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"password",name:"password",value:i.password,onChange:f,className:"form-input ".concat(s.password?"error":""),placeholder:"Minimum 6 characters (Firebase requirement)"}),(0,z.jsx)("label",{className:"form-label",children:"Create Password *"}),s.password&&(0,z.jsx)("p",{className:"error-message",children:s.password})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(C,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:f,className:"form-input ".concat(s.confirmPassword?"error":""),placeholder:"Repeat your password"}),(0,z.jsx)("label",{className:"form-label",children:"Confirm Password *"}),s.confirmPassword&&(0,z.jsx)("p",{className:"error-message",children:s.confirmPassword})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)("input",{type:"number",name:"age",value:i.age,onChange:f,className:"form-input ".concat(s.age?"error":""),placeholder:"Your age",min:"18",max:"100"}),(0,z.jsx)("label",{className:"form-label",children:"Age *"}),s.age&&(0,z.jsx)("p",{className:"error-message",children:s.age})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("select",{name:"gender",value:i.gender,onChange:f,className:"form-select ".concat(s.gender?"error":""),children:[(0,z.jsx)("option",{value:"",children:"Select gender"}),(0,z.jsx)("option",{value:"male",children:"Male"}),(0,z.jsx)("option",{value:"female",children:"Female"}),(0,z.jsx)("option",{value:"other",children:"Other"}),(0,z.jsx)("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}),s.gender&&(0,z.jsx)("p",{className:"error-message",children:s.gender})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(N,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"number",name:"weight",value:i.weight,onChange:f,className:"form-input",placeholder:"Optional"}),(0,z.jsx)("label",{className:"form-label",children:"Weight (kg)"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(I,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"number",name:"height",value:i.height,onChange:f,className:"form-input",placeholder:"Optional"}),(0,z.jsx)("label",{className:"form-label",children:"Height (cm)"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(P,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"date",name:"covidDate",value:i.covidDate,onChange:f,className:"form-input"}),(0,z.jsx)("label",{className:"form-label",children:"When did you first get COVID?"})]}),(0,z.jsx)("div",{className:"form-group",children:(0,z.jsxs)("select",{name:"covidDuration",value:i.covidDuration,onChange:f,className:"form-select",children:[(0,z.jsx)("option",{value:"",children:"Select duration"}),(0,z.jsx)("option",{value:"less-than-1-month",children:"Less than 1 month"}),(0,z.jsx)("option",{value:"1-3-months",children:"1-3 months"}),(0,z.jsx)("option",{value:"3-6-months",children:"3-6 months"}),(0,z.jsx)("option",{value:"6-12-months",children:"6-12 months"}),(0,z.jsx)("option",{value:"1-2-years",children:"1-2 years"}),(0,z.jsx)("option",{value:"more-than-2-years",children:"More than 2 years"})]})})]}),(0,z.jsx)("div",{className:"form-group",children:(0,z.jsxs)("select",{name:"severity",value:i.severity,onChange:f,className:"form-select",children:[(0,z.jsx)("option",{value:"",children:"Select severity"}),(0,z.jsx)("option",{value:"mild",children:"Mild"}),(0,z.jsx)("option",{value:"moderate",children:"Moderate"}),(0,z.jsx)("option",{value:"severe",children:"Severe"}),(0,z.jsx)("option",{value:"very-severe",children:"Very Severe"})]})}),(0,z.jsxs)("div",{className:"symptoms-section",children:[(0,z.jsx)("label",{className:"form-label",children:"What symptoms do you experience? (Select all that apply)"}),(0,z.jsx)("div",{className:"symptoms-grid",children:H.map((e=>(0,z.jsxs)("label",{className:"symptom-checkbox ".concat(i.symptoms.includes(e)?"selected":""),children:[(0,z.jsx)("input",{type:"checkbox",name:"symptoms",value:e,checked:i.symptoms.includes(e),onChange:f,className:"symptom-checkbox-input"}),(0,z.jsx)("span",{className:"symptom-checkbox-text",children:e})]},e)))})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)("label",{className:"form-label",children:"Pre-existing medical conditions"}),(0,z.jsx)("textarea",{name:"medicalConditions",value:i.medicalConditions,onChange:f,className:"form-textarea",rows:"3",placeholder:"Please list any medical conditions you had before COVID (e.g., diabetes, hypertension, autoimmune conditions)"})]}),(0,z.jsxs)("div",{className:"form-navigation",children:[(0,z.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>window.history.back(),children:"Cancel"}),(0,z.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"loading-spinner"}),"Checking..."]}):(0,z.jsxs)(z.Fragment,{children:["Next",(0,z.jsx)(D,{className:"btn-icon"})]})})]})]})]}),2===n&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"step-title",children:"Connect your wearable device"}),(0,z.jsx)(V,{title:"Why connect a wearable device?",icon:M,children:"Energy Balance uses data from your wearable device to monitor heart rate, heart rate variability (HRV), and activity levels. This provides objective measurements of your energy expenditure and physiological stress, helping to prevent overexertion and PEM."}),(0,z.jsx)("div",{className:"device-grid",children:q.map((e=>{const t=e.icon;return(0,z.jsxs)("div",{className:"device-card ".concat(i.selectedDevice===e.id?"selected":""),onClick:()=>{return t=e.id,a((e=>(0,b.A)((0,b.A)({},e),{},{selectedDevice:t}))),void l((e=>(0,b.A)((0,b.A)({},e),{},{device:""})));var t},children:[(0,z.jsx)("div",{className:"device-icon-wrapper ".concat(e.color),children:(0,z.jsx)(t,{className:"device-icon"})}),(0,z.jsx)("h3",{className:"device-name",children:e.name}),(0,z.jsx)("p",{className:"device-description",children:e.description}),(0,z.jsx)("div",{className:"device-features",children:e.features.map((e=>(0,z.jsxs)("div",{className:"device-feature",children:[(0,z.jsx)(E,{className:"device-feature-icon"}),e]},e)))})]},e.id)}))}),s.device&&(0,z.jsx)("div",{className:"error-message text-center",children:s.device}),(0,z.jsxs)("div",{className:"form-navigation",children:[(0,z.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:y,children:[(0,z.jsx)(R,{className:"btn-icon"}),"Back"]}),(0,z.jsx)("button",{type:"button",className:"btn btn-primary",onClick:g,disabled:!i.selectedDevice||c,children:c?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"loading-spinner"}),"Connecting..."]}):(0,z.jsxs)(z.Fragment,{children:["Connect Device",(0,z.jsx)(D,{className:"btn-icon"})]})})]})]}),3===n&&v&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"step-title",children:"Authorize Data Access"}),(0,z.jsxs)("div",{className:"auth-device-info",children:[(0,z.jsx)("div",{className:"auth-device-icon ".concat(v.color),children:(0,z.jsx)(v.icon,{className:"device-icon"})}),(0,z.jsx)("h3",{className:"auth-device-name",children:v.name}),(0,z.jsx)("p",{className:"auth-device-instructions",children:v.setupInstructions}),d&&(0,z.jsx)("div",{className:"connection-status ".concat(d.includes("success")?"success":"info"),children:d})]}),(0,z.jsx)(V,{title:"Data Privacy & Security",icon:A,children:"Your health data is encrypted and stored securely. We only access the specific metrics needed for energy management (heart rate, activity levels, sleep). You can revoke access at any time through your device settings or our app."}),(0,z.jsxs)("div",{className:"data-permissions",children:[(0,z.jsx)("h4",{className:"permissions-title",children:"Data Access Permissions"}),(0,z.jsx)("div",{className:"permissions-list",children:v.features.map((e=>(0,z.jsxs)("div",{className:"permission-item",children:[(0,z.jsx)(E,{className:"permission-icon"}),e," data"]},e)))})]}),(0,z.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i.authorizationGiven){u(!0),l({});try{const t=i.email.trim().toLowerCase(),n=i.password.trim();if(console.log("Starting registration process..."),console.log("Email:",t),console.log("Password length:",n.length),n.length<6)throw new Error("Password must be at least 6 characters long");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Please enter a valid email address");console.log("Checking email availability...");if(await m(t))throw new Error("This email address is already registered. Please use a different email or try signing in.");console.log("Creating Firebase Auth user...");const r=(await(0,L.eJ)(F.j,t,n)).user;console.log("Firebase Auth user created successfully:",r.uid);const o=(0,b.A)((0,b.A)({},i),{},{email:t});console.log("Saving user data to Firestore..."),await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;try{const n={uid:e.uid,name:t.name.trim(),email:t.email.toLowerCase().trim(),age:parseInt(t.age),gender:t.gender,weight:t.weight?parseFloat(t.weight):null,height:t.height?parseFloat(t.height):null,covidDate:t.covidDate||null,covidDuration:t.covidDuration||null,severity:t.severity||null,symptoms:t.symptoms||[],medicalConditions:t.medicalConditions||null,selectedDevice:t.selectedDevice,deviceConnected:t.deviceConnected,authorizationGiven:t.authorizationGiven,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),energyProfile:{baselineCalculated:!1,currentEnergyLevel:50,energyEnvelope:null,dailyEnergyBudget:null},preferences:{notifications:!0,reminderFrequency:"daily",dataRetention:"1year"}};return await(0,U.BN)((0,U.H9)(F.db,"users",e.uid),n),console.log("User data saved successfully to Firestore"),n}catch(n){throw console.error("Error saving user data to Firestore:",n),new Error("Failed to save user profile. Please try again.")}}(r,o),console.log("Registration completed successfully"),alert("Registration successful! Welcome to Energy Balance."),e("/login",{state:{message:"Registration successful! Please sign in with your new account.",email:t}})}catch(n){console.error("Registration error:",n),console.error("Error code:",n.code),console.error("Error message:",n.message);let e="Registration failed. Please try again.";"auth/email-already-in-use"===n.code?e="This email address is already registered. Please use a different email or try signing in.":"auth/weak-password"===n.code?e="Password is too weak. Please choose a stronger password with at least 6 characters.":"auth/invalid-email"===n.code?e="Invalid email address format. Please check your email and try again.":"auth/operation-not-allowed"===n.code?e="Email/password accounts are not enabled. Please contact support.":"auth/too-many-requests"===n.code?e="Too many failed attempts. Please wait a few minutes and try again.":n.message.includes("Failed to save user profile")?e="Account created but profile setup failed. Please contact support.":(n.message.includes("already registered")||n.message.includes("Password must be")||n.message.includes("valid email"))&&(e=n.message),l({submit:e})}finally{u(!1)}}else l({authorization:"Please authorize data access to continue"})},children:[(0,z.jsxs)("div",{className:"auth-checkbox-wrapper",children:[(0,z.jsx)("input",{type:"checkbox",name:"authorizationGiven",checked:i.authorizationGiven,onChange:f,className:"auth-checkbox"}),(0,z.jsxs)("label",{className:"auth-checkbox-label",children:["I authorize Energy Balance to access my fitness and health data from ",v.name,"for the purpose of energy monitoring and management. I understand that I can revoke this authorization at any time through my device settings or the Energy Balance app."]})]}),s.authorization&&(0,z.jsx)("div",{className:"error-message",children:s.authorization}),s.submit&&(0,z.jsx)("div",{className:"error-message text-center",children:s.submit}),(0,z.jsxs)("div",{className:"form-navigation",children:[(0,z.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:y,children:[(0,z.jsx)(R,{className:"btn-icon"}),"Back"]}),(0,z.jsx)("button",{type:"submit",className:"btn btn-success",disabled:!i.authorizationGiven||c,children:c?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"loading-spinner"}),"Creating Account..."]}):(0,z.jsxs)(z.Fragment,{children:["Complete Registration",(0,z.jsx)(E,{className:"btn-icon"})]})})]})]}),i.deviceConnected&&"manual"!==i.selectedDevice&&(0,z.jsxs)("div",{className:"connection-test slide-in-right",children:[(0,z.jsxs)("h4",{className:"connection-test-title",children:[(0,z.jsx)(E,{className:"btn-icon"}),"Connection Test"]}),(0,z.jsxs)("div",{className:"test-results",children:[(0,z.jsxs)("div",{className:"test-result-item",children:[(0,z.jsx)("span",{className:"test-result-label",children:"Device Status:"}),(0,z.jsx)("span",{className:"test-result-value",children:"Connected"})]}),(0,z.jsxs)("div",{className:"test-result-item",children:[(0,z.jsx)("span",{className:"test-result-label",children:"Last Sync:"}),(0,z.jsx)("span",{className:"test-result-value",children:"Just now"})]}),(0,z.jsxs)("div",{className:"test-result-item",children:[(0,z.jsx)("span",{className:"test-result-label",children:"Data Available:"}),(0,z.jsx)("span",{className:"test-result-value",children:v.features.join(", ")})]})]})]})]})]}),(0,z.jsx)(B,{step:n,formData:i}),(0,z.jsx)("div",{className:"help-section",children:(0,z.jsxs)("p",{className:"help-text",children:["Need help? ",(0,z.jsx)("button",{className:"help-link",children:"Contact Support"})]})})]})})},G=()=>{const e=window.location.hostname,t=window.location.port;console.log("=== REDIRECT URI DEBUG ==="),console.log("Hostname:",e),console.log("Port:",t),console.log("Full URL:",window.location.href);const n="localhost"===e||"127.0.0.1"===e,r=e.includes("github.io");let i;if(n){i="http://localhost:".concat(t||"64556","/energy_balance/fitbit-dashboard/callback")}else i=r?"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback":"".concat(window.location.origin,"/energy_balance/fitbit-dashboard/callback");return console.log("Generated redirect URI:",i),console.log("This should match your Fitbit app registration EXACTLY"),console.log("=== END DEBUG ==="),i},K=()=>{const[e,r]=(0,t.useState)("processing"),[i,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),c=(0,o.Zp)(),u=(0,o.zy)();(0,t.useEffect)((()=>{const e=async(e,t)=>{try{console.log("Creating Firebase user...");const i=(0,U.rJ)(F.db,"users"),s=(0,U.P)(i,(0,U._M)("email","==",e.email.toLowerCase()));if(!(await(0,U.GG)(s)).empty)throw new Error("This email already exists in our database. Please use a different email or sign in.");let l;try{console.log("\ud83d\udd10 Attempting to create new Firebase Auth user...");l=(await(0,L.eJ)(F.j,e.email.toLowerCase().trim(),e.password)).user,console.log("\u2705 New Firebase Auth user created:",l.uid)}catch(o){if("auth/email-already-in-use"!==o.code)throw o;{console.log("\ud83d\udd04 Email exists in Firebase Auth, but not in Firestore. Completing registration...");const{signInWithEmailAndPassword:t}=await Promise.resolve().then(n.bind(n,9786));try{l=(await t(F.j,e.email.toLowerCase().trim(),e.password)).user,console.log("\u2705 Signed in to existing Firebase Auth user:",l.uid),r("Completing your profile setup...")}catch(a){throw new Error("Email exists in Firebase Auth but password doesn't match. Please use the correct password or try password reset.")}}}r("Saving your profile...");const c={uid:l.uid,name:e.name.trim(),email:e.email.toLowerCase().trim(),age:parseInt(e.age),gender:e.gender,weight:e.weight?parseFloat(e.weight):null,height:e.height?parseFloat(e.height):null,covidDate:e.covidDate||null,covidDuration:e.covidDuration||null,severity:e.severity||null,symptoms:e.symptoms||[],medicalConditions:e.medicalConditions||"",selectedDevice:"fitbit",deviceConnected:!0,authorizationGiven:!0,fitbitData:{authCode:t,redirectUri:G(),authCodeReceivedAt:(new Date).toISOString(),tokensExchanged:!1},latestFitbitData:{date:null,heartRate:null,steps:null,calories:null,distance:null,activeMinutes:null,lastSync:null,needsInitialSync:!0},energyProfile:{baselineCalculated:!1,currentEnergyLevel:50,energyEnvelope:null,dailyEnergyBudget:null},preferences:{notifications:!0,reminderFrequency:"daily",dataRetention:"1year"},createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),registrationComplete:!0,accountStatus:"active"};await(0,U.BN)((0,U.H9)(F.db,"users",l.uid),c),console.log("\u2705 User data saved to Firestore"),sessionStorage.removeItem("registrationData"),sessionStorage.removeItem("fitbitOAuthState"),sessionStorage.removeItem("fitbitAuthStartTime"),console.log("\u2705 Registration completed successfully")}catch(i){throw console.error("\u274c Registration error:",i),"auth/weak-password"===i.code?new Error("Password is too weak. Please choose a stronger password."):"auth/invalid-email"===i.code?new Error("Invalid email address format."):new Error("Registration failed: ".concat(i.message))}};(async()=>{try{console.log("=== Fitbit Callback Started ==="),console.log("Full URL:",window.location.href),console.log("Search params:",u.search);const t=new URLSearchParams(u.search),n=t.get("code"),i=t.get("state"),o=t.get("error"),s=t.get("error_description");if(console.log("Callback params:",{code:n?n.substring(0,10)+"...":null,state:i?i.substring(0,10)+"...":null,error:o,errorDescription:s}),l("Code: ".concat(n?"Present":"Missing",", State: ").concat(i?"Present":"Missing")),o){let e="Fitbit authorization failed";return e="access_denied"===o?"You denied access to Fitbit. Please try again and authorize access.":"Fitbit error: ".concat(s||o),a(e),void r("error")}if(!n)return a("No authorization code received from Fitbit. Please try the registration process again."),void r("error");if(!i)return a("No state parameter received from Fitbit. Please try the registration process again."),void r("error");const d=sessionStorage.getItem("fitbitOAuthState");if(console.log("State verification:",{received:i.substring(0,10)+"...",stored:d?d.substring(0,10)+"...":null}),i!==d)return a("Security validation failed. Please start the registration process again."),void r("error");const h=sessionStorage.getItem("fitbitAuthStartTime");if(h){if(Date.now()-parseInt(h)>6e5)return a("Session expired. Please start the registration process again."),void r("error")}const f=sessionStorage.getItem("registrationData");if(!f)return a("Registration data not found. Please start the registration process again."),void r("error");const p=JSON.parse(f);console.log("Registration data found for:",p.email),r("Creating your account..."),await e(p,n),r("success"),setTimeout((()=>{c("/login",{state:{message:"Registration successful! Your Fitbit has been connected. Sign in to start using the app.",email:p.email}})}),3e3)}catch(i){console.error("Fitbit callback error:",i),a("Failed to complete registration: ".concat(i.message)),r("error")}})()}),[u.search,c]);return(0,z.jsxs)("div",{className:"fitbit-callback-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif",backgroundColor:"#f8f9fa"},children:[(0,z.jsxs)("div",{className:"callback-content",style:{textAlign:"center",maxWidth:"500px",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",backgroundColor:"white"},children:[("processing"===e||"Creating your account..."===e||"Saving your profile..."===e)&&(0,z.jsxs)("div",{children:[(0,z.jsxs)("h2",{style:{color:"#495057",marginBottom:"20px"},children:["\ud83d\udd17 ","processing"===e?"Processing your Fitbit connection...":e]}),(0,z.jsx)("div",{className:"spinner",style:{border:"4px solid #e9ecef",borderTop:"4px solid #007bff",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"20px auto"}}),(0,z.jsxs)("p",{style:{color:"#6c757d"},children:["processing"===e&&"Please wait while we complete your registration...","Creating your account..."===e&&"Setting up your Firebase account...","Saving your profile..."===e&&"Saving your profile and Fitbit connection..."]}),s&&"processing"===e&&(0,z.jsxs)("p",{style:{fontSize:"14px",color:"#6c757d",marginTop:"10px"},children:["Debug: ",s]})]}),"success"===e&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{style:{color:"#28a745",marginBottom:"20px"},children:"\u2705 Registration Completed Successfully!"}),(0,z.jsx)("p",{style:{color:"#495057",marginBottom:"10px"},children:"Your account has been created and your Fitbit has been connected."}),(0,z.jsx)("p",{style:{color:"#6c757d",fontSize:"14px"},children:"Redirecting to sign in page..."}),(0,z.jsx)("div",{className:"success-animation",style:{width:"60px",height:"60px",margin:"20px auto",borderRadius:"50%",backgroundColor:"#28a745",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",animation:"pulse 2s infinite"},children:"\u2713"}),(0,z.jsxs)("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"8px",padding:"12px",marginTop:"20px",fontSize:"14px",color:"#155724"},children:[(0,z.jsx)("strong",{children:"Note:"})," Your Fitbit data will be synced when you first access your dashboard."]})]}),"error"===e&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{style:{color:"#dc3545",marginBottom:"20px"},children:"\u274c Registration Failed"}),(0,z.jsx)("div",{style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:(0,z.jsx)("p",{style:{color:"#721c24",margin:"0",fontSize:"14px"},children:i})}),(0,z.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"},children:[(0,z.jsx)("button",{onClick:()=>{sessionStorage.removeItem("registrationData"),sessionStorage.removeItem("fitbitOAuthState"),sessionStorage.removeItem("fitbitAuthStartTime"),c("/register")},style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Try Registration Again"}),(0,z.jsx)("button",{onClick:()=>{c("/login")},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Go to Login"})]})]})]}),(0,z.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { transform: scale(1); opacity: 1; }\n          50% { transform: scale(1.1); opacity: 0.8; }\n        }\n      "})]})};const Q=function(){const e=(0,o.Zp)(),[n,r]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0),s=(0,t.useCallback)((async()=>{try{const t=localStorage.getItem("userData");if(!t)return void e("/login");const n=JSON.parse(t);if(n.id){const e=(0,U.H9)(F.db,"users",n.id),t=await(0,U.x7)(e);t.exists()?r((0,b.A)({id:n.id},t.data())):r(n)}else r(n)}catch(t){console.error("Error checking authentication:",t),e("/login")}finally{a(!1)}}),[e]);(0,t.useEffect)((()=>{s()}),[s]);const l="fitbit"===(null===n||void 0===n?void 0:n.selectedDevice)&&!0===(null===n||void 0===n?void 0:n.deviceConnected);return i?(0,z.jsxs)("div",{className:"loading-container",children:[(0,z.jsx)("div",{className:"loading-spinner"}),(0,z.jsx)("p",{children:"Loading your dashboard..."})]}):(console.log("=== DASHBOARD DEBUG INFO ==="),console.log("userData:",n),console.log("selectedDevice:",null===n||void 0===n?void 0:n.selectedDevice),console.log("deviceConnected:",null===n||void 0===n?void 0:n.deviceConnected),console.log("isFitbitConnected:",l),console.log("=== END DEBUG INFO ==="),(0,z.jsxs)("div",{className:"dashboard-container",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"}),(0,z.jsx)("div",{className:"floating-shape shape-4"}),(0,z.jsx)("div",{className:"floating-shape shape-5"})]}),(0,z.jsxs)("div",{className:"header",children:[(0,z.jsx)("h1",{children:"Energy Management Dashboard"}),(0,z.jsxs)("div",{className:"user-info",children:[(0,z.jsxs)("span",{children:["Welcome, ",(null===n||void 0===n?void 0:n.name)||"User","!"]}),(0,z.jsxs)("div",{className:"user-actions",children:[(0,z.jsx)("button",{onClick:()=>{e("/personal-settings")},className:"settings-btn",children:"\u2699\ufe0f Settings"}),(0,z.jsx)("button",{onClick:async()=>{console.log("Logout clicked - starting complete logout process");try{F.j.currentUser?(console.log("Signing out Firebase user:",F.j.currentUser.email),await(0,L.CI)(F.j),console.log("Firebase signOut successful")):console.log("No Firebase user to sign out"),console.log("Clearing localStorage userData"),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("Cleared sessionStorage"),r(null),a(!1),console.log("Complete logout finished, navigating to login..."),e("/login",{replace:!0})}catch(t){console.error("Error during logout:",t),localStorage.removeItem("userData"),sessionStorage.clear(),r(null),e("/login",{replace:!0})}},className:"logout-btn",children:"Logout"})]})]}),(0,z.jsx)("div",{className:"date",id:"current-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,z.jsx)("div",{className:"dashboard",children:(0,z.jsxs)("div",{className:"card status-summary-container quick-actions-card",children:[(0,z.jsx)("div",{className:"card-glow"}),(0,z.jsxs)("div",{className:"card-content",children:[(0,z.jsxs)("h3",{className:"card-title",children:["Quick Actions",(0,z.jsx)("span",{className:"info-icon",title:"One-tap access to common activities for logging your day and managing your condition.",children:"\u24d8"})]}),(0,z.jsxs)("div",{className:"quick-actions",children:[(0,z.jsx)("button",{className:"action-button meal",onClick:()=>{console.log("CLICKED: Track Meal button"),e("/food-tracker")},children:"\ud83d\udcdd Track Meal"}),(0,z.jsx)("button",{className:"action-button symptom",onClick:()=>{console.log("CLICKED: Track Symptoms button"),e("/symptom-tracker")},children:"\ud83e\ude7a Track Symptoms"}),l?(0,z.jsx)("button",{className:"action-button activity",onClick:()=>{console.log("handleViewActivityData called - navigating to /fitbit-dashboard"),e("/fitbit-dashboard")},children:"\ud83d\udcca View Activity Data"}):(0,z.jsx)("div",{className:"action-button",style:{background:"rgba(245, 158, 11, 0.1)",borderColor:"rgba(245, 158, 11, 0.3)",color:"var(--warning-color)",cursor:"not-allowed",opacity:.7},children:"\ud83d\udcca Connect Device First"})]})]})]})})]}))};const Y=function(){var e,n;const[r,i]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),h=(0,o.Zp)(),f=(0,o.zy)(),p=null===(e=f.state)||void 0===e?void 0:e.message,m=null===(n=f.state)||void 0===n?void 0:n.email;return t.useEffect((()=>{m&&i(m)}),[m]),t.useEffect((()=>{const e=document.querySelectorAll("input"),t=document.querySelectorAll(".device-item");e.forEach((e=>{const t=()=>{e.parentElement&&(e.parentElement.style.transform="scale(1.02)")},n=()=>{e.parentElement&&(e.parentElement.style.transform="scale(1)")};return e.addEventListener("focus",t),e.addEventListener("blur",n),()=>{e.removeEventListener("focus",t),e.removeEventListener("blur",n)}})),t.forEach((e=>{const t=()=>{e.style.transform="translateY(-4px) scale(1.05)"},n=()=>{e.style.transform="translateY(0) scale(1)"};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}))}),[]),(0,z.jsxs)("div",{className:"signin-container animated-page-container",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"})]}),(0,z.jsx)("div",{className:"signin-card glass-card",children:(0,z.jsxs)("div",{className:"glass-card-content",children:[(0,z.jsxs)("div",{className:"signin-header",children:[(0,z.jsx)("div",{className:"logo-container",children:(0,z.jsx)("div",{className:"logo"})}),(0,z.jsx)("h1",{children:"Welcome"}),(0,z.jsx)("p",{children:"Sign in to your Energy Balance account"})]}),p&&(0,z.jsx)("div",{className:"success-message",children:p}),l&&(0,z.jsx)("div",{className:"error-message",children:l}),(0,z.jsxs)("form",{className:"signin-form",onSubmit:async e=>{e.preventDefault(),c(""),d(!0);try{var t,n,i;const e=r.toLowerCase().trim(),s=a.trim();if(!e||!s)throw new Error("Please enter both email and password");if(s.length<6)throw new Error("Password must be at least 6 characters long");if(!F.j)throw new Error("Firebase Auth not properly configured");console.log("Attempting Firebase Auth login for:",e),console.log("Password length:",s.length),console.log("Firebase Auth config:",{apiKey:null!==(t=F.j.config)&&void 0!==t&&t.apiKey?"Present":"Missing",authDomain:null===(n=F.j.config)||void 0===n?void 0:n.authDomain,projectId:null===(i=F.j.config)||void 0===i?void 0:i.projectId}),F.j.currentUser&&(console.log("Clearing previous auth state for:",F.j.currentUser.email),await(0,L.CI)(F.j)),localStorage.removeItem("userData"),console.log("Cleared localStorage userData"),console.log("Calling signInWithEmailAndPassword...");const l=(await(0,L.signInWithEmailAndPassword)(F.j,e,s)).user;if(console.log("Firebase Auth successful for:",l.email),console.log("New user UID:",l.uid),console.log("Email verified:",l.emailVerified),l.email.toLowerCase()!==e)throw console.error("Email mismatch!"),console.error("Requested:",e),console.error("Authenticated:",l.email),new Error("Authentication error - email mismatch");console.log("Looking for Firestore document with UID:",l.uid);const u=(0,U.H9)(F.db,"users",l.uid),f=await(0,U.x7)(u);if(!f.exists())return console.error("User document not found in Firestore for UID:",l.uid),console.error("Firebase Auth email:",l.email),console.error("Firebase Auth UID:",l.uid),c("User profile not found. Please contact support or try registering again."),await(0,L.CI)(F.j),void d(!1);const p=f.data();console.log("User profile loaded from Firestore"),console.log("Firestore email:",p.email),console.log("Auth email match:",p.email===l.email),p.email&&p.email.toLowerCase()!==l.email.toLowerCase()&&(console.warn("Email mismatch between Firebase Auth and Firestore"),console.warn("Firebase Auth:",l.email),console.warn("Firestore:",p.email));const m={id:l.uid,uid:l.uid,email:l.email,emailVerified:l.emailVerified,name:p.name,age:p.age,gender:p.gender,selectedDevice:p.selectedDevice,deviceConnected:p.deviceConnected,authorizationGiven:p.authorizationGiven,energyProfile:p.energyProfile,preferences:p.preferences,createdAt:p.createdAt,lastLoginAt:(new Date).toISOString(),device:p.selectedDevice,devicePermission:p.authorizationGiven,registrationComplete:!0,accountStatus:"active"};console.log("Setting localStorage with secure session data"),console.log("Session data being stored:",{id:m.id,uid:m.uid,email:m.email,name:m.name}),localStorage.setItem("userData",JSON.stringify(m));const g=JSON.parse(localStorage.getItem("userData"));console.log("Verification - data actually stored in localStorage:",{id:g.id,uid:g.uid,email:g.email,name:g.name});try{await(0,U.mZ)((0,U.H9)(F.db,"users",l.uid),{lastLoginAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()})}catch(o){console.warn("Could not update last login time:",o)}console.log("Login successful, navigating to dashboard"),h("/dashboard",{replace:!0})}catch(l){console.error("Firebase Auth error:",l),console.error("Error code:",l.code),console.error("Error message:",l.message),console.error("Full error object:",JSON.stringify(l,null,2));try{F.j.currentUser&&await(0,L.CI)(F.j),localStorage.removeItem("userData")}catch(s){console.warn("Error during cleanup:",s)}let t="An error occurred during sign in. Please try again.";switch(l.code){case"auth/user-not-found":t="No account found with this email address. Please check your email or register first.";break;case"auth/wrong-password":t="Incorrect password. Please try again.";break;case"auth/invalid-email":t="Invalid email address format.";break;case"auth/user-disabled":t="This account has been disabled. Please contact support.";break;case"auth/too-many-requests":t="Too many failed login attempts. Please wait a few minutes and try again.";break;case"auth/network-request-failed":t="Network error. Please check your internet connection and try again.";break;case"auth/invalid-credential":t="Invalid login credentials. Please check your email and password.";break;case"auth/operation-not-allowed":t="Email/password authentication is not enabled. Please contact support.";break;case"auth/weak-password":t="Password is too weak. Please choose a stronger password.";break;default:l.message.includes("User profile not found")?t=l.message:l.message.includes("email mismatch")?t="Authentication error. Please try again.":l.code&&(t="Authentication failed: ".concat(l.code,". Please try again or contact support."))}console.error("Final error message shown to user:",t),c(t)}finally{d(!1)}},children:[(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your email",required:!0,autoComplete:"email",className:"form-input"}),(0,z.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>s(e.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",minLength:"6",className:"form-input"}),(0,z.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,z.jsx)("div",{className:"forgot-password",children:(0,z.jsx)("a",{href:"#forgot",children:"Forgot your password?"})})]}),(0,z.jsxs)("button",{type:"submit",className:"signin-button btn btn-primary",disabled:u,children:[u&&(0,z.jsx)("span",{className:"loading-spinner-small"}),(0,z.jsx)("span",{children:u?"Signing in...":"Sign In"})]})]}),(0,z.jsx)("div",{className:"divider"}),(0,z.jsxs)("div",{className:"signup-link",children:["Don't have an account? ",(0,z.jsx)(g,{to:"/register",children:"Sign up here"})]}),(0,z.jsxs)("div",{className:"about-section",children:[(0,z.jsx)("h3",{children:"About Energy Balance"}),(0,z.jsx)("p",{children:"Energy Balance is a comprehensive health management system designed to help individuals recovering from Long COVID. Our platform helps you track and manage your energy levels, physical activity, and overall well-being through seamless integration with your wearable devices."}),(0,z.jsx)("p",{children:"By monitoring your daily activities and energy expenditure, we help you maintain a healthy balance and prevent post-exertional malaise (PEM) episodes."}),(0,z.jsxs)("div",{className:"supported-devices",children:[(0,z.jsx)("h4",{children:"Supported Devices"}),(0,z.jsxs)("div",{className:"device-icons",children:[(0,z.jsxs)("div",{className:"device-item",children:[(0,z.jsx)("span",{className:"device-icon",children:"\u231a"}),(0,z.jsx)("span",{children:"Apple Watch"})]}),(0,z.jsxs)("div",{className:"device-item",children:[(0,z.jsx)("span",{className:"device-icon",children:"\ud83d\udcf1"}),(0,z.jsx)("span",{children:"Fitbit"})]}),(0,z.jsxs)("div",{className:"device-item",children:[(0,z.jsx)("span",{className:"device-icon",children:"\u231a"}),(0,z.jsx)("span",{children:"Garmin"})]}),(0,z.jsxs)("div",{className:"device-item",children:[(0,z.jsx)("span",{className:"device-icon",children:"\ud83d\udcf1"}),(0,z.jsx)("span",{children:"Samsung Health"})]}),(0,z.jsxs)("div",{className:"device-item",children:[(0,z.jsx)("span",{className:"device-icon",children:"\ud83d\udcca"}),(0,z.jsx)("span",{children:"Manual Entry"})]})]})]})]}),!1]})})]})};function X(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=X(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const $=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=X(e))&&(r&&(r+=" "),r+=t);return r};var J=n(9889),Z=n.n(J),ee=n(620),te=n.n(ee),ne=n(5268),re=n.n(ne),ie=n(3097),oe=n.n(ie),ae=n(9160),se=n.n(ae),le=function(e){return 0===e?0:e>0?1:-1},ce=function(e){return te()(e)&&e.indexOf("%")===e.length-1},ue=function(e){return se()(e)&&!re()(e)},de=function(e){return ue(e)||te()(e)},he=0,fe=function(e){var t=++he;return"".concat(e||"").concat(t)},pe=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ue(e)&&!te()(e))return r;if(ce(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return re()(n)&&(n=r),i&&n>t&&(n=t),n},me=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ge=function(e,t){return ue(e)&&ue(t)?function(n){return e+n*(t-e)}:function(){return t}};function ye(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):oe()(e,t))===n})):null}var ve=function(e,t){return ue(e)&&ue(t)?e-t:te()(e)&&te()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},be=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},we=n(9686),xe=n.n(we),Se=n(1629),Ee=n.n(Se),_e=n(6686),ke=n.n(_e),Oe=n(9062);function Te(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}var je=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ce=["points","pathLength"],Ne={svg:["viewBox","children"],polygon:Ce,polyline:Ce},Ie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pe=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!ke()(r))return null;var i={};return Object.keys(r).forEach((function(e){Ie.includes(e)&&(i[e]=n||function(t){return r[e](r,t)})})),i},De=function(e,t,n){if(!ke()(e)||"object"!==Ae(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Ie.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},Me=["children"],Re=["children"];function Le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var Ue={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ze=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Be=null,Ve=null,qe=function e(n){if(n===Be&&Array.isArray(Ve))return Ve;var r=[];return t.Children.forEach(n,(function(t){xe()(t)||((0,Oe.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),Ve=r,Be=n,r};function He(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return ze(e)})):[ze(t)],qe(e).forEach((function(e){var t=oe()(e,"type.displayName")||oe()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function We(e,t){var n=He(e,t);return n&&n[0]}var Ge=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!ue(n)||n<=0||!ue(r)||r<=0)},Ke=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qe=function(e){return e&&e.type&&te()(e.type)&&Ke.indexOf(e.type)>=0},Ye=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,t.isValidElement)(e)&&(i=e.props),!ke()(i))return null;var o={};return Object.keys(i).forEach((function(e){var t;(function(e,t,n,r){var i,o=null!==(i=null===Ne||void 0===Ne?void 0:Ne[r])&&void 0!==i?i:[];return t.startsWith("data-")||!Ee()(e)&&(r&&o.includes(t)||je.includes(t))||n&&Ie.includes(t)})(null===(t=i)||void 0===t?void 0:t[e],e,n,r)&&(o[e]=i[e])})),o},Xe=function e(n,r){if(n===r)return!0;var i=t.Children.count(n);if(i!==t.Children.count(r))return!1;if(0===i)return!0;if(1===i)return $e(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var o=0;o<i;o++){var a=n[o],s=r[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!$e(a,s))return!1}return!0},$e=function(e,t){if(xe()(e)&&xe()(t))return!0;if(!xe()(e)&&!xe()(t)){var n=e.props||{},r=n.children,i=Le(n,Me),o=t.props||{},a=o.children,s=Le(o,Re);return r&&a?Te(i,s)&&Xe(r,a):!r&&!a&&Te(i,s)}return!1},Je=function(e,t){var n=[],r={};return qe(e).forEach((function(e,i){if(Qe(e))n.push(e);else if(e){var o=ze(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n};function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot=(0,t.forwardRef)((function(e,n){var r=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,t.useRef)(null),E=(0,t.useRef)();E.current=b,(0,t.useImperativeHandle)(n,(function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})}));var _=rt((0,t.useState)({containerWidth:o.width,containerHeight:o.height}),2),k=_[0],O=_[1],T=(0,t.useCallback)((function(e,t){O((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,t.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;T(r,i),null===(t=E.current)||void 0===t||t.call(E,r,i)};g>0&&(e=Z()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),t.observe(S.current),function(){t.disconnect()}}),[T,g]);var A=(0,t.useMemo)((function(){var e=k.containerWidth,n=k.containerHeight;if(e<0||n<0)return null;be(ce(s)||ce(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),be(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=ce(s)?e:s,o=ce(c)?n:c;r&&r>0&&(i?o=i/r:o&&(i=o*r),f&&o>f&&(o=f)),be(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,d,h,r);var a=!Array.isArray(p)&&ze(p.type).endsWith("Chart");return t.Children.map(p,(function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,tt({width:i,height:o},a?{style:tt({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e}))}),[r,p,c,f,h,d,k,s]);return t.createElement("div",{id:y?"".concat(y):void 0,className:$("recharts-responsive-container",v),style:tt(tt({},x),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},A)})),at=n(6604),st=n.n(at),lt=n(7424),ct=n.n(lt),ut="Invariant failed";function dt(e,t){if(!e)throw new Error(ut)}var ht=["children","width","height","viewBox","className","style","title","desc"];function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}function pt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mt(e){var n=e.children,r=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=pt(e,ht),d=o||{width:r,height:i,x:0,y:0},h=$("recharts-surface",a);return t.createElement("svg",ft({},Ye(u,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}var gt=["children","className"];function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bt=t.forwardRef((function(e,n){var r=e.children,i=e.className,o=vt(e,gt),a=$("recharts-layer",i);return t.createElement("g",yt({className:a},Ye(o,!0),{ref:n}),r)}));function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){return Array.isArray(e)&&de(e[0])&&de(e[1])?e.join(" ~ "):e}var At=function(e){var n=e.separator,r=void 0===n?" : ":n,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=kt({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=kt({margin:0},c),x=!xe()(m),S=x?m:"",E=$("recharts-default-tooltip",f),_=$("recharts-tooltip-label",p);x&&g&&void 0!==u&&null!==u&&(S=g(m,u));var k=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",xt({className:E,style:b},k),t.createElement("p",{className:_,style:w},t.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?ct()(u,h):u).map((function(e,n){if("none"===e.type)return null;var i=kt({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||Tt,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var f=o(a,l,e,n,u);if(Array.isArray(f)){var p=St(f,2);c=p[0],h=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:i},de(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,de(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ct(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nt="recharts-tooltip-wrapper",It={visibility:"hidden"};function Pt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return $(Nt,Ct(Ct(Ct(Ct({},"".concat(Nt,"-right"),ue(n)&&t&&ue(t.x)&&n>=t.x),"".concat(Nt,"-left"),ue(n)&&t&&ue(t.x)&&n<t.x),"".concat(Nt,"-bottom"),ue(r)&&t&&ue(t.y)&&r>=t.y),"".concat(Nt,"-top"),ue(r)&&t&&ue(t.y)&&r<t.y))}function Dt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ue(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ht(r.key),r)}}function Ut(e,t,n){return t=Bt(t),function(e,t){if(t&&("object"===Mt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zt()?Reflect.construct(t,n||[],Bt(e).constructor):t.apply(e,n))}function zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zt=function(){return!!e})()}function Bt(e){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bt(e)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function qt(e,t,n){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){var t=function(e,t){if("object"!=Mt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mt(t)?t:t+""}var Wt=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return qt(e=Ut(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qt(e,"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}(n,e),r=n,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.children,l=n.coordinate,c=n.hasPayload,u=n.isAnimationActive,d=n.offset,h=n.position,f=n.reverseDirection,p=n.useTranslate3d,m=n.viewBox,g=n.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Dt({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Dt({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):It,cssClasses:Pt({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,w=Lt(Lt({transition:u&&r?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}])&&Ft(r.prototype,i),o&&Ft(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent),Gt={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Gt[e]},set:function(e,t){if("string"===typeof e)Gt[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){Gt[t]=e[t]}))}}},Kt=n(977),Qt=n.n(Kt);function Yt(e,t,n){return!0===t?Qt()(e,n):Ee()(t)?Qt()(e,t):e}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,an(r.key),r)}}function en(e,t,n){return t=nn(t),function(e,t){if(t&&("object"===Xt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tn()?Reflect.construct(t,n||[],nn(e).constructor):t.apply(e,n))}function tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tn=function(){return!!e})()}function nn(e){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nn(e)}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}function on(e,t,n){return(t=an(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){var t=function(e,t){if("object"!=Xt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xt(t)?t:t+""}function sn(e){return e.dataKey}var ln=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),en(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,a=n.animationEasing,s=n.content,l=n.coordinate,c=n.filterNull,u=n.isAnimationActive,d=n.offset,h=n.payload,f=n.payloadUniqBy,p=n.position,m=n.reverseDirection,g=n.useTranslate3d,y=n.viewBox,v=n.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=Yt(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,sn));var w=b.length>0;return t.createElement(Wt,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:r,coordinate:l,hasPayload:w,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(At,n)}(s,Jt(Jt({},this.props),{},{payload:b})))}}])&&Zt(r.prototype,i),o&&Zt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);on(ln,"displayName","Tooltip"),on(ln,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cn=n(643),un=n.n(cn);Math.abs,Math.atan2;const dn=Math.cos,hn=(Math.max,Math.min,Math.sin),fn=Math.sqrt,pn=Math.PI,mn=2*pn;const gn={draw(e,t){const n=fn(t/pn);e.moveTo(n,0),e.arc(0,0,n,0,mn)}},yn={draw(e,t){const n=fn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vn=fn(1/3),bn=2*vn,wn={draw(e,t){const n=fn(t/bn),r=n*vn;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xn={draw(e,t){const n=fn(t),r=-n/2;e.rect(r,r,n,n)}},Sn=hn(pn/10)/hn(7*pn/10),En=hn(mn/10)*Sn,_n=-dn(mn/10)*Sn,kn={draw(e,t){const n=fn(.8908130915292852*t),r=En*n,i=_n*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=mn*o/5,a=dn(t),s=hn(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},On=fn(3),Tn={draw(e,t){const n=-fn(t/(3*On));e.moveTo(0,2*n),e.lineTo(-On*n,-n),e.lineTo(On*n,-n),e.closePath()}},An=-.5,jn=fn(3)/2,Cn=1/fn(12),Nn=3*(Cn/2+1),In={draw(e,t){const n=fn(t/Nn),r=n/2,i=n*Cn,o=r,a=n*Cn+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(An*r-jn*i,jn*r+An*i),e.lineTo(An*o-jn*a,jn*o+An*a),e.lineTo(An*s-jn*l,jn*s+An*l),e.lineTo(An*r+jn*i,An*i-jn*r),e.lineTo(An*o+jn*a,An*a-jn*o),e.lineTo(An*s+jn*l,An*l-jn*s),e.closePath()}};var Pn=n(3809),Dn=n(5722);fn(3),fn(3);function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}var Rn=["type","size","sizeType"];function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Mn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mn(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Vn={symbolCircle:gn,symbolCross:yn,symbolDiamond:wn,symbolSquare:xn,symbolStar:kn,symbolTriangle:Tn,symbolWye:In},qn=Math.PI/180,Hn=function(e){var n=e.type,r=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,l=Un(Un({},Bn(e,Rn)),{},{type:r,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Ye(l,!0);return u===+u&&d===+d&&o===+o?t.createElement("path",Ln({},h,{className:$("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(un()(e));return Vn[t]||gn}(r),t=function(e,t){let n=null,r=(0,Dn.i)(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:(0,Pn.A)(e||gn),t="function"===typeof t?t:(0,Pn.A)(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,Pn.A)(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,Pn.A)(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*qn;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,r));return t()}()})):null};function Wn(e){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(e)}function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(this,arguments)}function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function Yn(e,t,n){return t=$n(t),function(e,t){if(t&&("object"===Wn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xn()?Reflect.construct(t,n||[],$n(e).constructor):t.apply(e,n))}function Xn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xn=function(){return!!e})()}function $n(e){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$n(e)}function Jn(e,t){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jn(e,t)}function Zn(e,t,n){return(t=er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){var t=function(e,t){if("object"!=Wn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wn(t)?t:t+""}Hn.registerSymbol=function(e,t){Vn["symbol".concat(un()(e))]=t};var tr=32,nr=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Yn(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}(n,e),r=n,i=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,i=tr/6,o=tr/3,a=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:tr,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(tr,"M").concat(2*o,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(tr,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,t.cloneElement(e.legendIcon,s)}return t.createElement(Hn,{fill:a,cx:r,cy:r,size:tr,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,i=n.iconSize,o=n.layout,a=n.formatter,s=n.inactiveColor,l={x:0,y:0,width:tr,height:tr},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(n,r){var o=n.formatter||a,d=$(Zn(Zn({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var h=Ee()(n.value)?null:n.value;be(!Ee()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=n.inactive?s:n.color;return t.createElement("li",Gn({className:d,style:c,key:"legend-item-".concat(r)},De(e.props,n,r)),t.createElement(mt,{width:i,height:i,viewBox:l,style:u},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,n,r):h))}))}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,i=e.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?i:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&Qn(r.prototype,i),o&&Qn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}Zn(nr,"displayName","Legend"),Zn(nr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ir=["ref"];function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fr(r.key),r)}}function lr(e,t,n){return t=ur(t),function(e,t){if(t&&("object"===rr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cr()?Reflect.construct(t,n||[],ur(e).constructor):t.apply(e,n))}function cr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cr=function(){return!!e})()}function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ur(e)}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function hr(e,t,n){return(t=fr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rr(t)?t:t+""}function pr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mr(e){return e.value}var gr=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return hr(e=lr(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(n,e),r=n,o=[{key:"getWithHeight",value:function(e,t){var n=ar(ar({},this.defaultProps),e.props).layout;return"vertical"===n&&ue(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ar({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),ar(ar({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,i=n.width,o=n.height,a=n.wrapperStyle,s=n.payloadUniqBy,l=n.payload,c=ar(ar({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=pr(n,ir);return t.createElement(nr,r)}(r,ar(ar({},this.props),{},{payload:Yt(l,s,mr)})))}}])&&sr(r.prototype,i),o&&sr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yr.apply(this,arguments)}hr(gr,"displayName","Legend"),hr(gr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vr=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=$("recharts-dot",o);return n===+n&&r===+r&&i===+i?t.createElement("circle",yr({},Ye(e,!1),Pe(e),{className:a,cx:n,cy:r,r:i})):null},br=n(5173),wr=n.n(br),xr=Object.getOwnPropertyNames,Sr=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty;function _r(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function kr(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Or(e){return xr(e).concat(Sr(e))}var Tr=Object.hasOwn||function(e,t){return Er.call(e,t)};function Ar(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var jr=Object.getOwnPropertyDescriptor,Cr=Object.keys;function Nr(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Ir(e,t){return Ar(e.getTime(),t.getTime())}function Pr(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Dr(e,t){return e===t}function Mr(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Rr=Ar;function Lr(e,t,n){var r=Cr(e),i=r.length;if(Cr(t).length!==i)return!1;for(;i-- >0;)if(!Hr(e,t,n,r[i]))return!1;return!0}function Fr(e,t,n){var r,i,o,a=Or(e),s=a.length;if(Or(t).length!==s)return!1;for(;s-- >0;){if(!Hr(e,t,n,r=a[s]))return!1;if(i=jr(e,r),o=jr(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function Ur(e,t){return Ar(e.valueOf(),t.valueOf())}function zr(e,t){return e.source===t.source&&e.flags===t.flags}function Br(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function Vr(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function qr(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Hr(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Tr(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Wr=Array.isArray,Gr="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Kr=Object.assign,Qr=Object.prototype.toString.call.bind(Object.prototype.toString);var Yr=Xr();Xr({strict:!0}),Xr({circular:!0}),Xr({circular:!0,strict:!0}),Xr({createInternalComparator:function(){return Ar}}),Xr({strict:!0,createInternalComparator:function(){return Ar}}),Xr({circular:!0,createInternalComparator:function(){return Ar}}),Xr({circular:!0,createInternalComparator:function(){return Ar},strict:!0});function Xr(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Fr:Nr,areDatesEqual:Ir,areErrorsEqual:Pr,areFunctionsEqual:Dr,areMapsEqual:r?_r(Mr,Fr):Mr,areNumbersEqual:Rr,areObjectsEqual:r?Fr:Lr,arePrimitiveWrappersEqual:Ur,areRegExpsEqual:zr,areSetsEqual:r?_r(Br,Fr):Br,areTypedArraysEqual:r?Fr:Vr,areUrlsEqual:qr};if(n&&(i=Kr({},i,n(i))),t){var o=kr(i.areArraysEqual),a=kr(i.areMapsEqual),s=kr(i.areObjectsEqual),l=kr(i.areSetsEqual);i=Kr({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(Wr(e))return t(e,f,p);if(null!=Gr&&Gr(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return o(e,f,p);if(g===Set)return u(e,f,p);var y=Qr(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?o(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function $r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}function Zr(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Zr(r),o=i[0],a=i.slice(1);return"number"===typeof o?void $r(n.bind(null,a),o):(n(o),void $r(n.bind(null,a)))}"object"===Jr(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function ni(e){return ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(e)}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ni(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai=function(e){return e},si=function(e,t){return Object.keys(t).reduce((function(n,r){return ii(ii({},n),{},oi({},r,e(r,t[r])))}),{})},li=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||di(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||di(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){if(e){if("string"===typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fi=1e-4,pi=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},mi=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},gi=function(e,t){return function(n){var r=pi(e,t);return mi(r,n)}},yi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=ci(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],i=l[1],o=l[2],a=l[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,u,d=gi(r,o),h=gi(i,a),f=(c=r,u=o,function(e){var t=pi(c,u),n=[].concat(ui(t.map((function(e,t){return e*t})).slice(1)),[0]);return mi(n,e)}),p=function(e){for(var t,n=e>1?1:e,r=n,i=0;i<8;++i){var o=d(r)-n,a=f(r);if(Math.abs(o-n)<fi||a<fi)return h(r);r=(t=r-o/a)>1?1:t<0?0:t}return h(r)};return p.isStepper=!1,p},vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yi(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<fi&&Math.abs(o)<fi?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return yi(r)}return"function"===typeof r?r:null};function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function wi(e){return function(e){if(Array.isArray(e))return Oi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ki(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ei(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||ki(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){if(e){if("string"===typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ti=function(e,t,n){return e+(t-e)*n},Ai=function(e){return e.from!==e.to},ji=function e(t,n,r){var i=si((function(e,n){if(Ai(n)){var r=_i(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return Si(Si({},n),{},{from:i,velocity:o})}return n}),n);return r<1?si((function(e,t){return Ai(t)?Si(Si({},t),{},{velocity:Ti(t.velocity,i[e].velocity,r),from:Ti(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const Ci=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return Si(Si({},n),{},Ei({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return Si(Si({},n),{},Ei({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=ji(n,d,o),i(Si(Si(Si({},e),t),si((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(Ai).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=si((function(e,t){return Ti.apply(void 0,wi(t).concat([n(a)]))}),u);if(i(Si(Si(Si({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=si((function(e,t){return Ti.apply(void 0,wi(t).concat([n(1)]))}),u);i(Si(Si(Si({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}var Ii=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Di(e){return function(e){if(Array.isArray(e))return Mi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return(t=zi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zi(r.key),r)}}function zi(e){var t=function(e,t){if("object"!==Ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ni(t)?t:String(t)}function Bi(e,t){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bi(e,t)}function Vi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Tp){return!1}}();return function(){var n,r=Wi(e);if(t){var i=Wi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qi(this,n)}}function qi(e,t){if(t&&("object"===Ni(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hi(e)}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wi(e)}var Gi=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bi(e,t)}(a,e);var n,r,i,o=Vi(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Hi(n)),n.changeStyle=n.changeStyle.bind(Hi(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),qi(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},qi(n);n.state={style:s?Fi({},s,l):l}}else n.state={style:{}};return n}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(Yr(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?Fi({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(Li(Li({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?Fi({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=Ci(n,r,vi(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(Di(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Di(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=li(h,o,s),p=Li(Li(Li({},d.style),l),{},{transition:f});return[].concat(Di(e),[p,o,u]).filter(ai)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ti());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?Fi({},r,i):i,h=li(Object.keys(d),n,o);u.start([a,t,Li(Li({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Pi(e,Ii)),a=t.Children.count(n),s=this.state.style;if("function"===typeof n)return n(s);if(!i||0===a||r<=0)return n;var l=function(e){var n=e.props,r=n.style,i=void 0===r?{}:r,a=n.className;return(0,t.cloneElement)(e,Li(Li({},o),{},{style:Li(Li({},i),s),className:a}))};return 1===a?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,(function(e){return l(e)})))}}])&&Ui(n.prototype,r),i&&Ui(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent);Gi.displayName="Animate",Gi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Gi.propTypes={from:wr().oneOfType([wr().object,wr().string]),to:wr().oneOfType([wr().object,wr().string]),attributeName:wr().string,duration:wr().number,begin:wr().number,easing:wr().oneOfType([wr().string,wr().func]),steps:wr().arrayOf(wr().shape({duration:wr().number.isRequired,style:wr().object.isRequired,easing:wr().oneOfType([wr().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wr().func]),properties:wr().arrayOf("string"),onAnimationEnd:wr().func})),children:wr().oneOfType([wr().node,wr().func]),isActive:wr().bool,canBegin:wr().bool,onAnimationEnd:wr().func,shouldReAnimate:wr().bool,onAnimationStart:wr().func,onAnimationReStart:wr().func};const Ki=Gi;function Qi(e){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(e)}function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yi.apply(this,arguments)}function Xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},no=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},ro={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},io=function(e){var n=Zi(Zi({},ro),e),r=(0,t.useRef)(),i=Xi((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=n.x,l=n.y,c=n.width,u=n.height,d=n.radius,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=$("recharts-rectangle",h);return y?t.createElement(Ki,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var i=e.width,a=e.height,s=e.x,l=e.y;return t.createElement(Ki,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},t.createElement("path",Yi({},Ye(n,!0),{className:v,d:to(s,l,i,a,d),ref:r})))})):t.createElement("path",Yi({},Ye(n,!0),{className:v,d:to(s,l,c,u,d)}))},oo=n(2099);function ao(e){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function co(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ao(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ao(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ao(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uo={widthCache:{},cacheCount:0},ho={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fo="recharts_measurement_span";var po=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Gt.isSsr)return{width:0,height:0};var n=function(e){var t=lo({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(uo.widthCache[r])return uo.widthCache[r];try{var i=document.getElementById(fo);i||((i=document.createElement("span")).setAttribute("id",fo),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=lo(lo({},ho),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return uo.widthCache[r]=s,++uo.cacheCount>2e3&&(uo.cacheCount=0,uo.widthCache={}),s}catch(Tp){return{width:0,height:0}}};function mo(e){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(e)}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bo(r.key),r)}}function bo(e){var t=function(e,t){if("object"!=mo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mo(t)?t:t+""}var wo=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xo=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,So=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eo=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_o={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ko=Object.keys(_o),Oo="NaN";var To=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||So.test(n)||(this.num=NaN,this.unit=""),ko.includes(n)&&(this.num=function(e,t){return e*_o[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=go(null!==(n=Eo.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&vo(t.prototype,n),r&&vo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Ao(e){if(e.includes(Oo))return Oo;for(var t=e;t.includes("*")||t.includes("/");){var n,r=go(null!==(n=wo.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=To.parse(null!==i&&void 0!==i?i:""),l=To.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return Oo;t=t.replace(wo,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=go(null!==(u=xo.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=To.parse(null!==h&&void 0!==h?h:""),g=To.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Oo;t=t.replace(xo,y.toString())}return t}var jo=/\(([^()]*)\)/;function Co(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=go(jo.exec(t),2)[1];t=t.replace(jo,Ao(n))}return t}(t),t=Ao(t)}function No(e){var t=function(e){try{return Co(e)}catch(Tp){return Oo}}(e.slice(5,-1));return t===Oo?"":t}var Io=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Po=["dx","dy","angle","className","breakAll"];function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}function Mo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fo=/[ \f\n\r\t\v\u2028\u2029]+/,Uo=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return xe()(t)||(i=n?t.toString().split(""):t.toString().split(Fo)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:po(e,r).width}})),spaceWidth:n?0:po("\xa0",r).width}}catch(Tp){return null}},zo=function(e){return[{words:xe()(e)?[]:e.toString().split(Fo)}]},Bo=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!Gt.isSsr){var s=Uo({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=ue(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=Uo({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=Ro(p(v-1),2),w=b[0],x=b[1],S=Ro(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(g=v-1),!w&&S){f=x;break}y++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):zo(r)}return zo(r)},Vo="#808080",qo=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?Vo:g,v=Mo(e,Io),b=(0,t.useMemo)((function(){return Bo({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),w=v.dx,x=v.dy,S=v.angle,E=v.className,_=v.breakAll,k=Mo(v,Po);if(!de(r)||!de(o))return null;var O,T=r+(ue(w)?w:0),A=o+(ue(x)?x:0);switch(m){case"start":O=No("calc(".concat(c,")"));break;case"middle":O=No("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=No("calc(".concat(b.length-1," * -").concat(s,")"))}var j=[];if(d){var C=b[0].width,N=v.width;j.push("scale(".concat((ue(N)?N/C:1)/C,")"))}return S&&j.push("rotate(".concat(S,", ").concat(T,", ").concat(A,")")),j.length&&(k.transform=j.join(" ")),t.createElement("text",Do({},Ye(k,!0),{x:T,y:A,className:$("recharts-text",E),textAnchor:f,fill:y.includes("url")?Vo:y}),b.map((function(e,n){var r=e.words.join(_?"":" ");return t.createElement("tspan",{x:T,dy:0===n?O:s,key:"".concat(r,"-").concat(n)},r)})))},Ho=n(1645),Wo=n(9712);function Go(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}var Ko=n(9236);function Qo(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Yo(e,t){return e[t]}function Xo(e){const t=[];return t.key=e,t}var $o=n(539),Jo=n.n($o),Zo=n(6745),ea=n.n(Zo),ta=n(3538),na=n.n(ta),ra=n(9853),ia=n.n(ra),oa=n(8210),aa=n.n(oa);function sa(e){return function(e){if(Array.isArray(e))return la(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return la(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ca=function(e){return e},ua={"@@functional/placeholder":!0},da=function(e){return e===ua},ha=function(e){return function t(){return 0===arguments.length||1===arguments.length&&da(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},fa=function e(t,n){return 1===t?n:ha((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==ua})).length;return a>=t?n.apply(void 0,i):e(t-a,ha((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return da(e)?t.shift():e}));return n.apply(void 0,sa(o).concat(t))})))}))},pa=function(e){return fa(e.length,e)},ma=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ga=pa((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),ya=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return ca;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},va=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ba=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var wa=pa((function(e,t,n){var r=+e;return r+n*(+t-r)})),xa=pa((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),Sa=pa((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const Ea={rangeStep:function(e,t,n){for(var r=new(aa())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(aa())(e).abs().log(10).toNumber())+1},interpolateNumber:wa,uninterpolateNumber:xa,uninterpolateTruncation:Sa};function _a(e){return function(e){if(Array.isArray(e))return Ta(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Oa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Oa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){if(e){if("string"===typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ta(e,t):void 0}}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aa(e){var t=ka(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function ja(e,t,n){if(e.lte(0))return new(aa())(0);var r=Ea.getDigitCount(e.toNumber()),i=new(aa())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(aa())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(aa())(Math.ceil(s))}function Ca(e,t,n){var r=1,i=new(aa())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(aa())(10).pow(Ea.getDigitCount(e)-1),i=new(aa())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(aa())(Math.floor(e)))}else 0===e?i=new(aa())(Math.floor((t-1)/2)):n||(i=new(aa())(Math.floor(e)));var a=Math.floor((t-1)/2);return ya(ga((function(e){return i.add(new(aa())(e-a).mul(r)).toNumber()})),ma)(0,t)}function Na(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(aa())(0),tickMin:new(aa())(0),tickMax:new(aa())(0)};var o,a=ja(new(aa())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(aa())(0):(o=new(aa())(e).add(t).div(2)).sub(new(aa())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(aa())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?Na(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(aa())(s).mul(a)),tickMax:o.add(new(aa())(l).mul(a))})}var Ia=ba((function(e){var t=ka(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=ka(Aa([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(_a(ma(0,i-1).map((function(){return 1/0})))):[].concat(_a(ma(0,i-1).map((function(){return-1/0}))),[c]);return n>r?va(u):u}if(l===c)return Ca(l,i,o);var d=Na(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=Ea.rangeStep(f,p.add(new(aa())(.1).mul(h)),h);return n>r?va(m):m})),Pa=(ba((function(e){var t=ka(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=ka(Aa([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return Ca(l,i,o);var u=ja(new(aa())(c).sub(l).div(a-1),o,0),d=ya(ga((function(e){return new(aa())(l).add(new(aa())(e).mul(u)).toNumber()})),ma)(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?va(d):d})),ba((function(e,t){var n=ka(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=ka(Aa([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=ja(new(aa())(l).sub(s).div(c-1),o,0),d=[].concat(_a(Ea.rangeStep(new(aa())(s),new(aa())(l).sub(new(aa())(.99).mul(u)),u)),[l]);return r>i?va(d):d}))),Da=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ma(e){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ua(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ga(r.key),r)}}function Ba(e,t,n){return t=qa(t),function(e,t){if(t&&("object"===Ma(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Va()?Reflect.construct(t,n||[],qa(e).constructor):t.apply(e,n))}function Va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Va=function(){return!!e})()}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(e)}function Ha(e,t){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ha(e,t)}function Wa(e,t,n){return(t=Ga(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e){var t=function(e,t){if("object"!=Ma(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ma(t)?t:t+""}var Ka=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ba(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Ua(e,Da),d=Ye(u,!1);"x"===this.props.direction&&"number"!==l.type&&dt(!1);var h=a.map((function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=La(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===r){var b=l.scale,w=h+n,x=w+i,S=w-i,E=b(f-m),_=b(f+g);y.push({x1:_,y1:x,x2:_,y2:S}),y.push({x1:E,y1:w,x2:_,y2:w}),y.push({x1:E,y1:x,x2:E,y2:S})}else if("horizontal"===r){var k=c.scale,O=u+n,T=O-i,A=O+i,j=k(f-m),C=k(f+g);y.push({x1:T,y1:C,x2:A,y2:C}),y.push({x1:O,y1:j,x2:O,y2:C}),y.push({x1:T,y1:j,x2:A,y2:j})}return t.createElement(bt,Ra({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),y.map((function(e){return t.createElement("line",Ra({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return t.createElement(bt,{className:"recharts-errorBars"},h)}}],i&&za(r.prototype,i),o&&za(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qa(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Wa(Ka,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Wa(Ka,"displayName","ErrorBar");var Ja=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=We(t,gr);if(!o)return null;var a,s=gr.defaultProps,l=void 0!==s?Xa(Xa({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?Xa(Xa({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:ss(t),value:o||i,payload:r}})),Xa(Xa(Xa({},l),gr.getWithHeight(o,r)),{},{payload:a,item:o})};function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function es(e){return function(e){if(Array.isArray(e))return ts(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ts(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Za(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Za(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function os(e,t,n){return xe()(e)||xe()(t)?n:de(t)?oe()(e,t,n):Ee()(t)?t(e):n}function as(e,t,n,r){var i=na()(e,(function(e){return os(e,t)}));if("number"===n){var o=i.filter((function(e){return ue(e)||parseFloat(e)}));return o.length?[ea()(o),Jo()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!xe()(e)})):i).map((function(e){return de(e)||e instanceof Date?e:""}))}var ss=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?rs(rs({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},ls=function(e,t,n,r,i){var o=He(t.props.children,Ka).filter((function(e){return function(e,t,n){return!!xe()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=os(t,n);if(xe()(r))return e;var i=Array.isArray(r)?[ea()(r),Jo()(r)]:[r,r],o=a.reduce((function(e,n){var r=os(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},cs=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&ls(e,t,o,r)||as(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},us=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},ds=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},hs=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*le(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!re()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},fs=new WeakMap,ps=function(e,t){if("function"!==typeof t)return e;fs.has(e)||fs.set(e,new WeakMap);var n=fs.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},ms=1e-4,gs={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=re()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Go(e,t)}},none:Go,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Go(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Go(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=re()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},ys=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=gs[n],o=function(){var e=(0,Pn.A)([]),t=Qo,n=Go,r=Yo;function i(i){var o,a,s=Array.from(e.apply(this,arguments),Xo),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=(0,Ko.A)(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,Pn.A)(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:(0,Pn.A)(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Qo:"function"===typeof e?e:(0,Pn.A)(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Go:e,i):n},i}().keys(r).value((function(e,t){return+os(e,t,0)})).order(Qo).offset(i);return o(e)};function vs(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!xe()(i[t.dataKey])){var s=ye(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=os(i,xe()(a)?t.dataKey:a);return xe()(l)?null:t.scale(l)}var bs=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=os(o,t.dataKey,t.domain[a]);return xe()(s)?null:t.scale(s)-i/2+r},ws=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[ea()(t.concat([e[0]]).filter(ue)),Jo()(t.concat([e[1]]).filter(ue))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},xs=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ss=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Es=function(e,t,n){if(Ee()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(ue(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(xs.test(e[0])){var i=+xs.exec(e[0])[1];r[0]=t[0]-i}else Ee()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(ue(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Ss.test(e[1])){var o=+Ss.exec(e[1])[1];r[1]=t[1]+o}else Ee()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},_s=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ct()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ks=function(e,t,n){return e&&e.length?ia()(e,oe()(n,"type.defaultProps.domain"))?t:e:t},Os=function(e,t){var n=e.type.defaultProps?rs(rs({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return rs(rs({},Ye(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:ss(e),value:os(t,r),type:s,payload:t,chartType:l,hide:c})};function Ts(e){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(e)}function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){Cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ts(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ts(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ns=["Webkit","Moz","O","ms"];function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(this,arguments)}function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach((function(t){Bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vs(r.key),r)}}function Ls(e,t,n){return t=Us(t),function(e,t){if(t&&("object"===Is(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fs()?Reflect.construct(t,n||[],Us(e).constructor):t.apply(e,n))}function Fs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fs=function(){return!!e})()}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}function zs(e,t){return zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zs(e,t)}function Bs(e,t,n){return(t=Vs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){var t=function(e,t){if("object"!=Is(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Is(t)?t:t+""}var qs=function(e){return e.changedTouches&&!!e.changedTouches.length},Hs=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Bs(t=Ls(this,n,[e]),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),Bs(t,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),Bs(t,"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:i})})),t.detachDragEndListener()})),Bs(t,"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),Bs(t,"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),Bs(t,"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),Bs(t,"handleSlideDragStart",(function(e){var n=qs(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zs(e,t)}(n,e),r=n,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(t,r),c=Math.max(t,r),u=n.getIndexInRange(i,l),d=n.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=os(n[e],i,e);return Ee()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=qs(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(Bs(Bs({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?y%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:y%h===0)||i>o&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(Bs({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return t.createElement("rect",{stroke:s,fill:a,x:n,y:r,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=t.Children.only(s);return c?t.cloneElement(c,{x:n,y:r,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,r){var i,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=Ms(Ms({},Ye(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return t.createElement(bt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,n){var r=this.props,i=r.y,o=r.height,a=r.stroke,s=r.travellerWidth,l=Math.min(e,n)+s,c=Math.max(Math.abs(n-e)-s,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return t.createElement(bt,{className:"recharts-brush-texts"},t.createElement(qo,Ps({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},d),this.getTextOfTick(n)),t.createElement(qo,Ps({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+o/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!n||!n.length||!ue(o)||!ue(a)||!ue(s)||!ue(l)||s<=0||l<=0)return null;var y=$("recharts-brush",r),v=1===t.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=Ns.reduce((function(e,r){return js(js({},e),{},Cs({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return t.createElement(bt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(r+o/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:i,height:o,fill:a,stroke:"none"}),t.createElement("line",{x1:n+1,y1:s,x2:n+i-1,y2:s,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:s+2,x2:n+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):Ee()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return Ms({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=(0,oo.z)().domain(st()(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&Rs(r.prototype,i),o&&Rs(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function Ws(e){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(e)}function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){Qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ws(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ws(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ws(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Bs(Hs,"displayName","Brush"),Bs(Hs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ys=Math.PI/180,Xs=function(e){return 180*e/Math.PI},$s=function(e,t,n,r){return{x:e+Math.cos(-Ys*r)*n,y:t+Math.sin(-Ys*r)*n}},Js=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Xs(l),angleInRadian:l}},Zs=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},el=function(e,t){var n=e.x,r=e.y,i=Js({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?Ks(Ks({},t),{},{radius:o,angle:Zs(f,t)}):null};function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}var nl=["offset"];function rl(e){return function(e){if(Array.isArray(e))return il(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return il(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ol(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}var ul=function(e,n,r){var i,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return le(t-e)*Math.min(Math.abs(t-e),360)}(m,g),w=b>=0?1:-1;"insideStart"===a?(i=m+w*l,o=y):"insideEnd"===a?(i=g-w*l,o=!y):"end"===a&&(i=g+w*l,o=y),o=b<=0?o:!o;var x=$s(d,h,v,i),S=$s(d,h,v,i+359*(o?1:-1)),E="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),_=xe()(e.id)?fe("recharts-radial-line-"):e.id;return t.createElement("text",cl({},r,{dominantBaseline:"central",className:$("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:_,d:E})),t.createElement("textPath",{xlinkHref:"#".concat(_)},n))};function dl(e){var n,r=e.offset,i=sl({offset:void 0===r?5:r},ol(e,nl)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!o||xe()(s)&&xe()(l)&&!(0,t.isValidElement)(c)&&!Ee()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,i);if(Ee()(c)){if(n=(0,t.createElement)(c,i),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=xe()(e.children)?t:e.children;return Ee()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&ue(e.cx)}(o),p=Ye(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return ul(i,n,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=$s(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=$s(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return sl(sl({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return sl(sl({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return sl(sl({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return sl(sl({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===i?sl({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?sl({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?sl({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?sl({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?sl({x:a+m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?sl({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?sl({x:a+m,y:s+c-d,textAnchor:y,verticalAnchor:h},w):"insideBottomRight"===i?sl({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},w):ke()(i)&&(ue(i.x)||ce(i.x))&&(ue(i.y)||ce(i.y))?sl({x:a+pe(i.x,l),y:s+pe(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):sl({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(i);return t.createElement(qo,cl({className:$("recharts-label",d)},p,m,{breakAll:h}),n)}dl.displayName="Label";var hl=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(ue(p)&&ue(m)){if(ue(u)&&ue(d))return{x:u,y:d,width:p,height:m};if(ue(h)&&ue(f))return{x:h,y:f,width:p,height:m}}return ue(u)&&ue(d)?{x:u,y:d,width:0,height:0}:ue(t)&&ue(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};dl.parseViewBox=hl,dl.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=hl(e),a=He(i,dl).map((function(e,r){return(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)})}));if(!r)return a;var s=function(e,n){return e?!0===e?t.createElement(dl,{key:"label-implicit",viewBox:n}):de(e)?t.createElement(dl,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===dl?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(dl,{key:"label-implicit",content:e,viewBox:n}):Ee()(e)?t.createElement(dl,{key:"label-implicit",content:e,viewBox:n}):ke()(e)?t.createElement(dl,cl({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||o);return[s].concat(rl(a))};var fl=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},pl=n(1733),ml=n.n(pl),gl=n(7002),yl=n.n(gl),vl=function(e){return null};vl.displayName="Cell";var bl=n(4065),wl=n.n(bl);function xl(e){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(e)}var Sl=["valueAccessor"],El=["data","dataKey","clockWise","id","textBreakAll"];function _l(e){return function(e){if(Array.isArray(e))return kl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(n),!0).forEach((function(t){jl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Nl=function(e){return Array.isArray(e.value)?wl()(e.value):e.value};function Il(e){var n=e.valueAccessor,r=void 0===n?Nl:n,i=Cl(e,Sl),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=Cl(i,El);return o&&o.length?t.createElement(bt,{className:"recharts-label-list"},o.map((function(e,n){var i=xe()(a)?r(e,n):os(e&&e.payload,a),o=xe()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(dl,Ol({},Ye(e,!0),u,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:dl.parseViewBox(xe()(s)?e:Al(Al({},e),{},{clockWise:s})),key:"label-".concat(n),index:n}))}))):null}Il.displayName="LabelList",Il.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=He(e.children,Il).map((function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})}));return r?[function(e,n){return e?!0===e?t.createElement(Il,{key:"labelList-implicit",data:n}):t.isValidElement(e)||Ee()(e)?t.createElement(Il,{key:"labelList-implicit",data:n,content:e}):ke()(e)?t.createElement(Il,Ol({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(_l(i)):i};var Pl=n(2322),Dl=n.n(Pl),Ml=n(6361),Rl=n.n(Ml);function Ll(e){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fl.apply(this,arguments)}function Ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ll(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ll(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hl=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},Wl={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gl=function(e){var n=Vl(Vl({},Wl),e),r=(0,t.useRef)(),i=Ul((0,t.useState)(-1),2),o=i[0],a=i[1];(0,t.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=n.x,l=n.y,c=n.upperWidth,u=n.lowerWidth,d=n.height,h=n.className,f=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=$("recharts-trapezoid",h);return g?t.createElement(Ki,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return t.createElement(Ki,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},t.createElement("path",Fl({},Ye(n,!0),{className:y,d:Hl(l,c,i,a,s),ref:r})))})):t.createElement("g",null,t.createElement("path",Fl({},Ye(n,!0),{className:y,d:Hl(s,l,c,u,d)})))};function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){$l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $l(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Kl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jl=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Ys,d=l?i:i+o*u,h=l?i-o*u:i;return{center:$s(t,n,c,d),circleTangency:$s(t,n,r,d),lineTangency:$s(t,n,c*Math.cos(u*Ys),h),theta:u}},Zl=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return le(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=$s(t,n,i,o),c=$s(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=$s(t,n,r,o),h=$s(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},ec={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tc=function(e){var n=Xl(Xl({},ec),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(a<o||u===d)return null;var f,p=$("recharts-sector",h),m=a-o,g=pe(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=le(c-l),d=Jl({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=Jl({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Zl({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=Jl({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=x.circleTangency,E=x.lineTangency,_=x.theta,k=Jl({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=k.circleTangency,T=k.lineTangency,A=k.theta,j=s?Math.abs(l-c):Math.abs(l-c)-_-A;if(j<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Zl({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),t.createElement("path",Ql({},Ye(n,!0),{className:p,d:f,role:"img"}))},nc=["option","shapeType","propTransformer","activeClassName","isActive"];function rc(e){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(e)}function ic(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e,t){return ac(ac({},t),e)}function cc(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(io,r);case"trapezoid":return t.createElement(Gl,r);case"sector":return t.createElement(tc,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(Hn,r);break;default:return null}}function uc(e){var n,r=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?lc:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=ic(e,nc);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,ac(ac({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(Ee()(r))n=r(u);else if(Dl()(r)&&!Rl()(r)){var d=a(r,u);n=t.createElement(cc,{shapeType:i,elementProps:d})}else{var h=u;n=t.createElement(cc,{shapeType:i,elementProps:h})}return c?t.createElement(bt,{className:l},n):n}function dc(e,t){return null!=t&&"trapezoids"in e.props}function hc(e,t){return null!=t&&"sectors"in e.props}function fc(e,t){return null!=t&&"points"in e.props}function pc(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function mc(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function gc(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function yc(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return dc(e,t)?n="trapezoids":hc(e,t)?n="sectors":fc(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return dc(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:hc(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:fc(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=ia()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return dc(e,t)?n=pc:hc(e,t)?n=mc:fc(e,t)&&(n=gc),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var vc=["x","y"];function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(this,arguments)}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){Ec(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ec(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kc(e,t){var n=e.x,r=e.y,i=_c(e,vc),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Sc(Sc(Sc(Sc(Sc({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Oc(e){return t.createElement(uc,wc({shapeType:"rectangle",propTransformer:kc,activeClassName:"recharts-active-bar"},e))}var Tc,Ac=["value","background"];function jc(e){return jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(e)}function Cc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc.apply(this,arguments)}function Ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(n),!0).forEach((function(t){Uc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zc(r.key),r)}}function Mc(e,t,n){return t=Lc(t),function(e,t){if(t&&("object"===jc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rc()?Reflect.construct(t,n||[],Lc(e).constructor):t.apply(e,n))}function Rc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rc=function(){return!!e})()}function Lc(e){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lc(e)}function Fc(e,t){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fc(e,t)}function Uc(e,t,n){return(t=zc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zc(e){var t=function(e,t){if("object"!=jc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jc(t)?t:t+""}var Bc=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Uc(e=Mc(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),Uc(e,"id",fe("recharts-bar-")),Uc(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),Uc(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fc(e,t)}(n,e),r=n,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(i=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,i=r.shape,o=r.dataKey,a=r.activeIndex,s=r.activeBar,l=Ye(this.props,!1);return e&&e.map((function(e,r){var c=r===a,u=c?s:i,d=Pc(Pc(Pc({},l),e),{},{isActive:c,option:u,index:r,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(bt,Nc({className:"recharts-bar-rectangle"},De(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),t.createElement(Oc,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,i=n.layout,o=n.isAnimationActive,a=n.animationBegin,s=n.animationDuration,l=n.animationEasing,c=n.animationId,u=this.state.prevData;return t.createElement(Ki,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var o=n.t,a=r.map((function(e,t){var n=u&&u[t];if(n){var r=ge(n.x,e.x),a=ge(n.y,e.y),s=ge(n.width,e.width),l=ge(n.height,e.height);return Pc(Pc({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=ge(0,e.height)(o);return Pc(Pc({},e),{},{y:e.y+e.height-c,height:c})}var d=ge(0,e.width)(o);return Pc(Pc({},e),{},{width:d})}));return t.createElement(bt,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&ia()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,i=n.dataKey,o=n.activeIndex,a=Ye(this.props.background,!1);return r.map((function(n,r){n.value;var s=n.background,l=Cc(n,Ac);if(!s)return null;var c=Pc(Pc(Pc(Pc(Pc({},l),{},{fill:"#eee"},s),a),De(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(Oc,Nc({key:"background-bar-".concat(r),option:e.props.background,isActive:r===o},c))}))}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.data,o=r.xAxis,a=r.yAxis,s=r.layout,l=He(r.children,Ka);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:os(e,t)}},d={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(bt,d,l.map((function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=$("recharts-bar",i),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=xe()(f)?this.id:f;return t.createElement(bt,{className:m},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(b)},t.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(bt,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&Il.renderCallByParent(this.props,r))}}])&&Dc(r.prototype,i),o&&Dc(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function Vc(e){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kc(r.key),r)}}function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){Gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gc(e,t,n){return(t=Kc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kc(e){var t=function(e,t){if("object"!=Vc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vc(t)?t:t+""}Tc=Bc,Uc(Bc,"displayName","Bar"),Uc(Bc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Uc(Bc,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?Pc(Pc({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,w="horizontal"===p?a:o,x=c?w.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),E=He(v,vl),_=d.map((function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!ue(t[0])||!ue(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(i[0]=n),(!ue(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],x):(r=os(e,y),Array.isArray(r)||(r=[S,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||dt(!1),t)}}(b,Tc.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var _,k=[a.scale(r[0]),a.scale(r[1])],O=k[0],T=k[1];d=bs({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(_=null!==T&&void 0!==T?T:O)&&void 0!==_?_:void 0,m=f.size;var A=O-T;if(g=Number.isNaN(A)?0:A,v={x:d,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(g)<Math.abs(w)){var j=le(g||w)*(Math.abs(w)-Math.abs(g));h-=j,g+=j}}else{var C=[o.scale(r[0]),o.scale(r[1])],N=C[0],I=C[1];if(d=N,h=bs({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=I-N,g=f.size,v={x:o.x,y:h,width:o.width,height:g},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=le(m||w)*(Math.abs(w)-Math.abs(m))}return Pc(Pc(Pc({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},E&&E[t]&&E[t].props),{},{tooltipPayload:[Os(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return Pc({data:_,layout:p},h)}));var Qc=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Yc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&qc(t.prototype,n),r&&qc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Gc(Yc,"EPS",1e-4);var Xc=function(e){var t=Object.keys(e).reduce((function(t,n){return Wc(Wc({},t),{},Gc({},n,Yc.create(e[n])))}),{});return Wc(Wc({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return ml()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return yl()(e,(function(e,n){return t[n].isInRange(e)}))}})};function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$c.apply(this,arguments)}function Jc(e){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,su(r.key),r)}}function nu(e,t,n){return t=iu(t),function(e,t){if(t&&("object"===Jc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ru()?Reflect.construct(t,n||[],iu(e).constructor):t.apply(e,n))}function ru(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ru=function(){return!!e})()}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iu(e)}function ou(e,t){return ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ou(e,t)}function au(e,t,n){return(t=su(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function su(e){var t=function(e,t){if("object"!=Jc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jc(t)?t:t+""}var lu=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),nu(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ou(e,t)}(n,e),r=n,i=[{key:"render",value:function(){var e=this.props,r=e.x,i=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=de(r),c=de(i);if(be(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Xc({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return fl(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=eu(eu({clipPath:fl(this.props,"hidden")?"url(#".concat(s,")"):void 0},Ye(this.props,!0)),{},{cx:d,cy:h});return t.createElement(bt,{className:$("recharts-reference-dot",m)},n.renderDot(p,g),dl.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],i&&tu(r.prototype,i),o&&tu(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);au(lu,"displayName","ReferenceDot"),au(lu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),au(lu,"renderDot",(function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Ee()(e)?e(n):t.createElement(vr,$c({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))}));var cu=n(4597),uu=n.n(cu),du=n(8990),hu=n.n(du),fu=n(5797),pu=n.n(fu)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var mu=(0,t.createContext)(void 0),gu=(0,t.createContext)(void 0),yu=(0,t.createContext)(void 0),vu=(0,t.createContext)({}),bu=(0,t.createContext)(void 0),wu=(0,t.createContext)(0),xu=(0,t.createContext)(0),Su=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=pu(o);return t.createElement(mu.Provider,{value:r},t.createElement(gu.Provider,{value:i},t.createElement(vu.Provider,{value:o},t.createElement(yu.Provider,{value:u},t.createElement(bu.Provider,{value:a},t.createElement(wu.Provider,{value:c},t.createElement(xu.Provider,{value:l},s)))))))};var Eu=function(e){var n=(0,t.useContext)(mu);null==n&&dt(!1);var r=n[e];return null==r&&dt(!1),r},_u=function(e){var n=(0,t.useContext)(gu);null==n&&dt(!1);var r=n[e];return null==r&&dt(!1),r},ku=function(){return(0,t.useContext)(xu)},Ou=function(){return(0,t.useContext)(wu)};function Tu(e){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(e)}function Au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ru(r.key),r)}}function ju(e,t,n){return t=Nu(t),function(e,t){if(t&&("object"===Tu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cu()?Reflect.construct(t,n||[],Nu(e).constructor):t.apply(e,n))}function Cu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cu=function(){return!!e})()}function Nu(e){return Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nu(e)}function Iu(e,t){return Iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Iu(e,t)}function Pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(n),!0).forEach((function(t){Mu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mu(e,t,n){return(t=Ru(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ru(e){var t=function(e,t){if("object"!=Tu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tu(t)?t:t+""}function Lu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}function zu(e){var n=e.x,r=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(bu),d=Eu(o),h=_u(a),f=(0,t.useContext)(yu);if(!u||!f)return null;be(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(fl(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(fl(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return fl(l,"discard")&&uu()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Xc({x:d.scale,y:h.scale}),de(n),de(r),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=Lu(p,2),g=m[0],y=g.x,v=g.y,b=m[1],w=b.x,x=b.y,S=Du(Du({clipPath:fl(e,"hidden")?"url(#".concat(u,")"):void 0},Ye(e,!0)),{},{x1:y,y1:v,x2:w,y2:x});return t.createElement(bt,{className:$("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Ee()(e)?e(n):t.createElement("line",Uu({},n,{className:"recharts-reference-line-line"}))}(s,S),dl.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Qc({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:w,y2:x})))}var Bu=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),ju(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iu(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(zu,this.props)}}])&&Au(r.prototype,i),o&&Au(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}function qu(e){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(e)}function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){$u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ju(r.key),r)}}function Ku(e,t,n){return t=Yu(t),function(e,t){if(t&&("object"===qu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qu()?Reflect.construct(t,n||[],Yu(e).constructor):t.apply(e,n))}function Qu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qu=function(){return!!e})()}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yu(e)}function Xu(e,t){return Xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xu(e,t)}function $u(e,t,n){return(t=Ju(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ju(e){var t=function(e,t){if("object"!=qu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qu(t)?t:t+""}Mu(Bu,"displayName","ReferenceLine"),Mu(Bu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Zu=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ku(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xu(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){var e=this.props,r=e.x1,i=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;be(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=de(r),d=de(i),h=de(o),f=de(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Xc({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!fl(i,"discard")||d.isInRange(h)&&d.isInRange(f)?Qc(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=fl(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(bt,{className:$("recharts-reference-area",s)},n.renderRect(p,Wu(Wu({clipPath:g},Ye(this.props,!0)),m)),dl.renderCallByParent(this.props,m))}}])&&Gu(r.prototype,i),o&&Gu(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function ed(e){return function(e){if(Array.isArray(e))return td(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return td(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return td(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$u(Zu,"displayName","ReferenceArea"),$u(Zu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),$u(Zu,"renderRect",(function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):Ee()(e)?e(n):t.createElement(io,Vu({},n,{className:"recharts-reference-area-rect"}))}));var nd=function(e,t,n,r,i){var o=He(e,Bu),a=He(e,lu),s=[].concat(ed(o),ed(a)),l=He(e,Zu),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&fl(t.props,"extendDomain")&&ue(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&fl(t.props,"extendDomain")&&ue(t.props[h])&&ue(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return ue(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},rd=n(7283),id=new(n.n(rd)()),od="recharts.syncMouseEvents";function ad(e){return ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(e)}function sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cd(r.key),r)}}function ld(e,t,n){return(t=cd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cd(e){var t=function(e,t){if("object"!=ad(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ad(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ad(t)?t:t+""}var ud=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ld(this,"activeIndex",0),ld(this,"coordinateList",[]),ld(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])&&sd(e.prototype,t),n&&sd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function dd(){}function hd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fd(e){this._context=e}function pd(e){this._context=e}function md(e){this._context=e}fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hd(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pd.prototype={areaStart:dd,areaEnd:dd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hd(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hd(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class gd{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function yd(e){this._context=e}yd.prototype={areaStart:dd,areaEnd:dd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var vd=n(5248),bd=n(8330);function wd(e){this._context=e}function xd(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Sd(e,t){this._context=e,this._t=t}wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=xd(e),i=xd(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ed=n(8907),_d=n(5527);function kd(e,t,n){var r=null,i=(0,Pn.A)(!0),o=null,a=vd.A,s=null,l=(0,Dn.i)(c);function c(c){var u,d,h,f,p,m=(c=(0,Ko.A)(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return(0,Ed.A)().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?_d.x:(0,Pn.A)(+e),t="function"===typeof t?t:void 0===t?(0,Pn.A)(0):(0,Pn.A)(+t),n="function"===typeof n?n:void 0===n?_d.y:(0,Pn.A)(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,Pn.A)(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,Pn.A)(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:(0,Pn.A)(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,Pn.A)(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:(0,Pn.A)(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:(0,Pn.A)(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:(0,Pn.A)(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function Od(e){return Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Td.apply(this,arguments)}function Ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(n),!0).forEach((function(t){Cd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Od(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Od(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Od(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nd={curveBasisClosed:function(e){return new pd(e)},curveBasisOpen:function(e){return new md(e)},curveBasis:function(e){return new fd(e)},curveBumpX:function(e){return new gd(e,!0)},curveBumpY:function(e){return new gd(e,!1)},curveLinearClosed:function(e){return new yd(e)},curveLinear:vd.A,curveMonotoneX:bd.G,curveMonotoneY:bd.N,curveNatural:function(e){return new wd(e)},curveStep:function(e){return new Sd(e,.5)},curveStepAfter:function(e){return new Sd(e,1)},curveStepBefore:function(e){return new Sd(e,0)}},Id=function(e){return e.x===+e.x&&e.y===+e.y},Pd=function(e){return e.x},Dd=function(e){return e.y},Md=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Ee()(e))return e;var n="curve".concat(un()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Nd[n]||vd.A:Nd["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter((function(e){return Id(e)})):o;if(Array.isArray(a)){var h=c?a.filter((function(e){return Id(e)})):a,f=d.map((function(e,t){return jd(jd({},e),{},{base:h[t]})}));return(t="vertical"===s?kd().y(Dd).x1(Pd).x0((function(e){return e.base.x})):kd().x(Pd).y1(Dd).y0((function(e){return e.base.y}))).defined(Id).curve(u),t(f)}return(t="vertical"===s&&ue(a)?kd().y(Dd).x1(Pd).x0(a):ue(a)?kd().x(Pd).y1(Dd).y0(a):(0,Ed.A)().x(Pd).y(Dd)).defined(Id).curve(u),t(d)},Rd=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Md(e):i;return t.createElement("path",Td({},Ye(e,!1),Pe(e),{className:$("recharts-curve",n),d:a,ref:o}))};function Ld(e){return Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(e)}var Fd=["x","y","top","left","width","height","className"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(this,arguments)}function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ld(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ld(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ld(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var qd=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},Hd=function(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){Bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:r,y:o,top:s,left:c,width:d,height:f},Vd(e,Fd));return ue(r)&&ue(o)&&ue(d)&&ue(f)&&ue(s)&&ue(c)?t.createElement("path",Ud({},Ye(m,!0),{className:$("recharts-cross",p),d:qd(r,o,d,f,s,c)})):null};function Wd(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[$s(t,n,r,i),$s(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Gd(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Wd(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=$s(s,l,c,d),f=$s(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function Kd(e){return Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(e)}function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach((function(t){Xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Kd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e){var n,r,i,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(n=o.props.cursor)&&void 0!==n?n:null===(r=o.type.defaultProps)||void 0===r?void 0:r.cursor;if(!o||!m||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=Rd;if("ScatterChart"===p)i=l,g=Hd;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=io;else if("radial"===f){var y=Wd(l),v=y.cx,b=y.cy,w=y.radius;i={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:w,outerRadius:w},g=tc}else i={points:Gd(f,l,u)},g=Rd;var x=Yd(Yd(Yd(Yd({stroke:"#ccc",pointerEvents:"none"},u),i),Ye(m,!1)),{},{payload:c,payloadIndex:d,className:$("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,x):(0,t.createElement)(g,x)}var Jd=["item"],Zd=["children","className","width","height","style","compact","title","desc"];function eh(e){return eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(this,arguments)}function nh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||uh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mh(r.key),r)}}function oh(e,t,n){return t=sh(t),function(e,t){if(t&&("object"===eh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ah()?Reflect.construct(t,n||[],sh(e).constructor):t.apply(e,n))}function ah(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ah=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(e)}function lh(e,t){return lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lh(e,t)}function ch(e){return function(e){if(Array.isArray(e))return dh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uh(e,t){if(e){if("string"===typeof e)return dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dh(e,t):void 0}}function dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hh(Object(n),!0).forEach((function(t){ph(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ph(e,t,n){return(t=mh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mh(e){var t=function(e,t){if("object"!=eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eh(t)?t:t+""}var gh={xAxis:["bottom","top"],yAxis:["left","right"]},yh={width:"100%",height:"100%"},vh={x:0,y:0};function bh(e){return e}var wh=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(ch(e),ch(n)):e}),[]);return o.length>0?o:e&&e.length&&ue(r)&&ue(i)?e.slice(r,i+1):[]};function xh(e){return"number"===e?[0,"auto"]:void 0}var Sh=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=wh(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=ye(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(ch(i),[Os(s,c)]):i}),[])},Eh=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(le(u-c)!==le(d-u)){var f=[];if(le(d-u)===le(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=Sh(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return fh(fh(fh({},r),$s(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return fh(fh(fh({},r),$s(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return vh}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},_h=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=us(c,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?fh(fh({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,S=p[o];if(t[S])return t;var E,_,k,O=wh(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S})),dataStartIndex:s,dataEndIndex:l}),T=O.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&ue(r)&&ue(i))return!0}return!1})(p.domain,y,m)&&(E=Es(p.domain,null,y),!h||"number"!==m&&"auto"===b||(k=as(O,g,"category")));var A=xh(m);if(!E||0===E.length){var j,C=null!==(j=p.domain)&&void 0!==j?j:A;if(g){if(E=as(O,g,m),"category"===m&&h){var N=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(E);v&&N?(_=E,E=st()(0,T)):v||(E=ks(C,E,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(ch(e),[t])}),[]))}else if("category"===m)E=v?E.filter((function(e){return""!==e&&!xe()(e)})):ks(C,E,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||xe()(t)?e:[].concat(ch(e),[t])}),[]);else if("number"===m){var I=function(e,t,n,r,i){var o=t.map((function(t){return ls(e,t,n,i,r)})).filter((function(e){return!xe()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(O,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(x||!i)})),g,i,c);I&&(E=I)}!h||"number"!==m&&"auto"===b||(k=as(O,g,"category"))}else E=h?st()(0,T):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===d?[0,1]:ws(a[S].stackGroups,s,l):cs(O,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(x||!n)})),m,c,!0);if("number"===m)E=nd(u,E,S,i,w),C&&(E=Es(C,E,y));else if("category"===m&&C){var P=C;E.every((function(e){return P.indexOf(e)>=0}))&&(E=P)}}return fh(fh({},t),{},ph({},S,fh(fh({},p),{},{axisType:i,domain:E,categoricalDomain:k,duplicateDomain:_,originalDomain:null!==(f=p.domain)&&void 0!==f?f:A,isCategorical:h,layout:c})))}),{})},kh=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=He(c,i),h={};return d&&d.length?h=_h(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=wh(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=us(c,i),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?fh(fh({},t.type.defaultProps),t.props):t.props)[o],y=xh("number");return e[g]?e:(p++,f?m=st()(0,h):a&&a[g]&&a[g].hasStack?(m=ws(a[g].stackGroups,s,l),m=nd(u,m,g,i)):(m=Es(y,cs(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=nd(u,m,g,i)),fh(fh({},e),{},ph({},g,fh(fh({axisType:i},r.defaultProps),{},{hide:!0,orientation:oe()(gh,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},Oh=function(e){var t=e.children,n=e.defaultShowTooltip,r=We(t,Hs),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},Th=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ah=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=We(c,Hs),h=We(c,gr),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:fh(fh({},e),{},ph({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:fh(fh({},e),{},ph({},r,oe()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=fh(fh({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||Hs.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=Ja({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&ue(e[h]))return rs(rs({},e),{},is({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&ue(e[f]))return rs(rs({},e),{},is({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return fh(fh({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},jh=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Ch=["type","layout","connectNulls","ref"],Nh=["key"];function Ih(e){return Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(e)}function Ph(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(this,arguments)}function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mh(Object(n),!0).forEach((function(t){Hh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lh(e){return function(e){if(Array.isArray(e))return Fh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wh(r.key),r)}}function zh(e,t,n){return t=Vh(t),function(e,t){if(t&&("object"===Ih(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bh()?Reflect.construct(t,n||[],Vh(e).constructor):t.apply(e,n))}function Bh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bh=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vh(e)}function qh(e,t){return qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qh(e,t)}function Hh(e,t,n){return(t=Wh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wh(e){var t=function(e,t){if("object"!=Ih(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ih(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ih(t)?t:t+""}var Gh=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Hh(e=zh(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Hh(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),Hh(e,"getStrokeDasharray",(function(t,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,t);for(var a=Math.floor(t/o),s=t%o,l=r-t,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(Lh(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(Lh(n.repeat(i,a)),Lh(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),Hh(e,"id",fe("recharts-line-")),Hh(e,"pathRef",(function(t){e.mainCurve=t})),Hh(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Hh(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qh(e,t)}(n,e),r=n,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.points,o=r.xAxis,a=r.yAxis,s=r.layout,l=He(r.children,Ka);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:os(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(bt,u,l.map((function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,l=o.dataKey,c=Ye(this.props,!1),u=Ye(a,!0),d=s.map((function(e,t){var r=Rh(Rh(Rh({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return n.renderDotItem(a,r)})),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(i,")"):null};return t.createElement(bt,Dh({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,n,r,i){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,Ph(o,Ch)),u=Rh(Rh(Rh({},Ye(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:e},i),{},{type:a,layout:s,connectNulls:l});return t.createElement(Rd,Dh({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var r=this,i=this.props,o=i.points,a=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,m=this.state,g=m.prevPoints,y=m.totalLength;return t.createElement(Ki,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t;if(g){var s=g.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=ge(r.x,e.x),a=ge(r.y,e.y);return Rh(Rh({},e),{},{x:o(i),y:a(i)})}if(h){var l=ge(2*f,e.x),c=ge(p/2,e.y);return Rh(Rh({},e),{},{x:l(i),y:c(i)})}return Rh(Rh({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,e,n)}var c,u=ge(0,y)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(o,e,n,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!ia()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,n=this.props,r=n.hide,i=n.dot,o=n.points,a=n.className,s=n.xAxis,l=n.yAxis,c=n.top,u=n.left,d=n.width,h=n.height,f=n.isAnimationActive,p=n.id;if(r||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=$("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=v||b,x=xe()(p)?this.id:p,S=null!==(e=Ye(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},E=S.r,_=void 0===E?3:E,k=S.strokeWidth,O=void 0===k?2:k,T=(function(e){return e&&"object"===Fe(e)&&"clipDot"in e}(i)?i:{}).clipDot,A=void 0===T||T,j=2*_+O;return t.createElement(bt,{className:y},v||b?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!A&&t.createElement("clipPath",{id:"clipPath-dots-".concat(x)},t.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:h+j}))):null,!g&&this.renderCurve(w,x),this.renderErrorBar(w,x),(g||i)&&this.renderDots(w,A,x),(!f||m)&&Il.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(Lh(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(Lh(r),Lh(n));return r}},{key:"renderDotItem",value:function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(Ee()(e))r=e(n);else{var i=n.key,o=Ph(n,Nh),a=$("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(vr,Dh({key:i},o,{className:a}))}return r}}],i&&Uh(r.prototype,i),o&&Uh(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.PureComponent);function Kh(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function Qh(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function Yh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Xh(e){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(e)}function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(n),!0).forEach((function(t){Zh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zh(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Xh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(ue(l)||Gt.isSsr)return function(e,t){return Kh(e,t+1)}(i,"number"===typeof l&&ue(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?po(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=Ee()(c)?c(e.value,r):e.value;return"width"===f?Qh(po(i,{fontSize:t,letterSpacing:n}),p,d):po(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?le(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:Kh(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||Yh(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=Jh(Jh({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Yh(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=Jh(Jh({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=Jh(Jh({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=Jh(Jh({},o),{},{tickCoord:o.coordinate});Yh(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=Jh(Jh({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=Jh(Jh({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=Jh(Jh({},c),{},{tickCoord:c.coordinate});Yh(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=Jh(Jh({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),h.filter((function(e){return e.isShow})))}Hh(Gh,"displayName","Line"),Hh(Gh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Hh(Gh,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return Rh({points:l.map((function(e,t){var l=os(e,a);return"horizontal"===u?{x:vs({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:xe()(l)?null:r.scale(l),value:l,payload:e}:{x:xe()(l)?null:n.scale(l),y:vs({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}})),layout:u},c)}));var tf=["viewBox"],nf=["viewBox"],rf=["ticks"];function of(e){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(this,arguments)}function sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sf(Object(n),!0).forEach((function(t){mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gf(r.key),r)}}function df(e,t,n){return t=ff(t),function(e,t){if(t&&("object"===of(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hf()?Reflect.construct(t,n||[],ff(e).constructor):t.apply(e,n))}function hf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hf=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ff(e)}function pf(e,t){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pf(e,t)}function mf(e,t,n){return(t=gf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gf(e){var t=function(e,t){if("object"!=of(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=of(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==of(t)?t:t+""}var yf=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=df(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pf(e,t)}(n,e),r=n,o=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):Ee()(e)?e(n):t.createElement(qo,af({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=cf(e,tf),i=this.props,o=i.viewBox,a=cf(i,nf);return!Te(n,o)||!Te(r,a)||!Te(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=lf(lf(lf({},Ye(this.props,!1)),Ye(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=lf(lf({},c),{},{x1:n,y1:r+u*o,x2:n+i,y2:r+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);c=lf(lf({},c),{},{x1:n+d*i,y1:r,x2:n+d*i,y2:r+o})}return t.createElement("line",af({},c,{className:$("recharts-cartesian-axis-line",oe()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=ef(lf(lf({},this.props),{},{ticks:e}),r,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Ye(this.props,!1),g=Ye(c,!1),y=lf(lf({},m),{},{fill:"none"},Ye(s,!1)),v=h.map((function(e,r){var i=o.getTickLineCoord(e),a=i.line,v=i.tick,b=lf(lf(lf(lf({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(bt,af({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},De(o.props,e,r)),s&&t.createElement("line",af({},y,a,{className:$("recharts-cartesian-axis-tick-line",oe()(s,"className"))})),c&&n.renderTickItem(c,b,"".concat(Ee()(u)?u(e.value,r):e.value).concat(d||"")))}));return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,i=n.width,o=n.height,a=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,u=cf(l,rf),d=c;return Ee()(a)&&(d=c&&c.length>0?a(this.props):a(u)),i<=0||o<=0||!d||!d.length?null:t.createElement(bt,{className:$("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),dl.renderCallByParent(this.props))}}])&&uf(r.prototype,i),o&&uf(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kf(r.key),r)}}function wf(e,t,n){return t=Sf(t),function(e,t){if(t&&("object"===vf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xf()?Reflect.construct(t,n||[],Sf(e).constructor):t.apply(e,n))}function xf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xf=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sf(e)}function Ef(e,t){return Ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ef(e,t)}function _f(e,t,n){return(t=kf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kf(e){var t=function(e,t){if("object"!=vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vf(t)?t:t+""}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(this,arguments)}function Tf(e){var n=e.xAxisId,r=ku(),i=Ou(),o=Eu(n);return null==o?null:t.createElement(yf,Of({},o,{className:$("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return hs(e,!0)}}))}mf(yf,"displayName","CartesianAxis"),mf(yf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Af=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),wf(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ef(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(Tf,this.props)}}])&&bf(r.prototype,i),o&&bf(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);function jf(e){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(e)}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rf(r.key),r)}}function Nf(e,t,n){return t=Pf(t),function(e,t){if(t&&("object"===jf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,If()?Reflect.construct(t,n||[],Pf(e).constructor):t.apply(e,n))}function If(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(If=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pf(e)}function Df(e,t){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Df(e,t)}function Mf(e,t,n){return(t=Rf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rf(e){var t=function(e,t){if("object"!=jf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jf(t)?t:t+""}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(this,arguments)}_f(Af,"displayName","XAxis"),_f(Af,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var Ff=function(e){var n=e.yAxisId,r=ku(),i=Ou(),o=_u(n);return null==o?null:t.createElement(yf,Lf({},o,{className:$("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(e){return hs(e,!0)}}))},Uf=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Nf(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Df(e,t)}(n,e),r=n,(i=[{key:"render",value:function(){return t.createElement(Ff,this.props)}}])&&Cf(r.prototype,i),o&&Cf(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t.Component);Mf(Uf,"displayName","YAxis"),Mf(Uf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var zf=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=Th(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=ze(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=wh(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=void 0!==n.type.defaultProps?fh(fh({},n.type.defaultProps),n.props):n.props,x=w.dataKey,S=w.maxBarSize,E=w["".concat(m,"Id")],_=w["".concat(g,"Id")],k=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||dt(!1);var o=r[i];return fh(fh({},e),{},ph(ph({},n.axisType,o),"".concat(n.axisType,"Ticks"),hs(o)))}),{}),O=k[g],T=k["".concat(g,"Ticks")],A=r&&r[E]&&r[E].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?rs(rs({},e.type.defaultProps),e.props):e.props).stackId;if(de(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[E].stackGroups),j=ze(n.type).indexOf("Bar")>=0,C=_s(O,T),N=[],I=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return ze(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?rs(rs({},y),g[0].props):g[0].props,b=v.barSize,w=v[m];o[w]||(o[w]=[]);var x=xe()(b)?t:b;o[w].push({item:g[0],stackList:g.slice(1),barSize:xe()(x)?void 0:pe(x,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:jh(k,g)});if(j){var P,D,M=xe()(S)?f:S,R=null!==(P=null!==(D=_s(O,T,!0))&&void 0!==D?D:M)&&void 0!==P?P:0;N=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=pe(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(es(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=pe(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce((function(e,t,n){var r=[].concat(es(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==C?R:C,sizeList:I[_],maxBarSize:M}),R!==C&&(N=N.map((function(e){return fh(fh({},e),{},{position:fh(fh({},e.position),{},{offset:e.position.offset-R/2})})})))}var L,F,U=n&&n.type&&n.type.getComposedData;U&&v.push({props:fh(fh({},U(fh(fh({},k),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:C,barPosition:N,offset:i,stackedData:A,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},ph(ph(ph({key:n.key||"item-".concat(p)},m,k[m]),g,k[g]),"animationId",o)),childIndex:(L=n,F=e.children,qe(F).indexOf(L)),item:n})})),v},f=function(e,t){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!Ge({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=Th(d),y=g.numericAxisName,v=g.cateAxisName,b=He(c,r),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?rs(rs({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(de(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[fe("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return rs(rs({},e),{},is({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return rs(rs({},t),{},is({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:ys(e,a.items,i)}))}),{})),rs(rs({},t),{},is({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),x=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return fh(fh({},e),{},ph({},n,kh(i,fh(fh({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),S=Ah(fh(fh({},x),{},{props:i,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(x).forEach((function(e){x[e]=u(i,x[e],S,e.replace("Map",""),n)}));var E=function(e){var t=me(e),n=hs(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ct()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:_s(t,n)}}(x["".concat(v,"Map")]),_=h(i,fh(fh({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return fh(fh({formattedGraphicalItems:_,graphicalItems:b,offset:S,stackGroups:w},E),x)},p=function(e){function r(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ph(a=oh(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ph(a,"accessibilityManager",new ud),ph(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(fh({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},fh(fh({},a.state),{},{legendBBox:e}))))}})),ph(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),ph(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return fh({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),ph(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=fh(fh({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;Ee()(r)&&r(n,e)}})),ph(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?fh(fh({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;Ee()(r)&&r(n,e)})),ph(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),ph(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),ph(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),ph(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;Ee()(n)&&n(t,e)})),ph(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&Ue[t]?Ue[t]:null}(e),r=oe()(a.props,"".concat(n));n&&Ee()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),ph(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=fh(fh({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;Ee()(r)&&r(n,e)}})),ph(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;Ee()(t)&&t(a.getMouseInfo(e),e)})),ph(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;Ee()(t)&&t(a.getMouseInfo(e),e)})),ph(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),ph(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),ph(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),ph(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;Ee()(t)&&t(a.getMouseInfo(e),e)})),ph(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;Ee()(t)&&t(a.getMouseInfo(e),e)})),ph(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&id.emit(od,a.props.syncId,e,a.eventEmitterSymbol)})),ph(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(fh({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=fh(fh({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,w=Sh(a.state,a.props.data,u),x=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:vh;a.setState(fh(fh({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else a.setState(e)})),ph(a,"renderCursor",(function(e){var r,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:o,p=a.props.layout,m=e.key||"_recharts-cursor";return t.createElement($d,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),ph(a,"renderPolarAxis",(function(e,n,r){var i=oe()(e,"type.axisType"),o=oe()(a.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?fh(fh({},s),e.props):e.props,c=o&&o[l["".concat(i,"Id")]];return(0,t.cloneElement)(e,fh(fh({},c),{},{className:$(i,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:hs(c,!0)}))})),ph(a,"renderPolarGrid",(function(e){var n=e.props,r=n.radialLines,i=n.polarAngles,o=n.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=me(l),d=me(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(i)?i:hs(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:hs(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),ph(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,n=a.props,r=n.children,i=n.width,o=n.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),u=Ja({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=rh(u,Jd);return(0,t.cloneElement)(d,fh(fh({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),ph(a,"renderTooltip",(function(){var e,n=a.props,r=n.children,i=n.accessibilityLayer,o=We(r,ln);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(o,{viewBox:fh(fh({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})})),ph(a,"renderBrush",(function(e){var n=a.props,r=n.margin,i=n.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:ps(a.handleBrushChange,e.props.onChange),data:i,x:ue(e.props.x)?e.props.x:s.left,y:ue(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:ue(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),ph(a,"renderReferenceElement",(function(e,n,r){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),ph(a,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?fh(fh({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=fh(fh({index:o,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:ss(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Ye(u,!1)),Pe(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(r.renderActiveDot(u,fh(fh({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),ph(a,"renderGraphicChild",(function(e,n,r){var i=a.filterFormatItem(e,n,r);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=We(a.props.children,ln),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==i.item.type.defaultProps?fh(fh({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,b=y.hide,w=y.activeBar,x=y.activeShape,S=Boolean(!b&&l&&h&&(v||w||x)),E={};"axis"!==o&&h&&"click"===h.props.trigger?E={onClick:ps(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(E={onMouseLeave:ps(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:ps(a.handleItemMouseEnter,e.props.onMouseEnter)});var _=(0,t.cloneElement)(e,fh(fh({},i.props),E));if(S){if(!(u>=0)){var k,O=(null!==(k=a.getItemByXY(a.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:_}).graphicalItem,T=O.item,A=void 0===T?e:T,j=O.childIndex,C=fh(fh(fh({},i.props),E),{},{activeIndex:j});return[(0,t.cloneElement)(A,C),null,null]}var N,I;if(c.dataKey&&!c.allowDuplicatedCategory){var P="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());N=ye(p,P,d),I=m&&g&&ye(g,P,d)}else N=null===p||void 0===p?void 0:p[u],I=m&&g&&g[u];if(x||w){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,fh(fh(fh({},i.props),E),{},{activeIndex:D})),null,null]}if(!xe()(N))return[_].concat(ch(a.renderActivePoints({item:i,activePoint:N,basePoint:I,childIndex:u,isRange:m})))}return m?[_,null,null]:[_,null]})),ph(a,"renderCustomized",(function(e,n,r){return(0,t.cloneElement)(e,fh(fh({key:"recharts-customized-".concat(r)},a.props),a.state))})),ph(a,"renderMap",{CartesianGrid:{handler:bh,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:bh},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:bh},YAxis:{handler:bh},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:fe("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=Z()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}(r,e),i=r,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=We(t,ln);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=Sh(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=fh(fh({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Xe([We(e.children,ln)],[We(this.props.children,ln)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=We(this.props.children,ln);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=Eh(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=me(c).scale,p=me(u).scale,m=f&&f.invert?f.invert(o.chartX):null,g=p&&p.invert?p.invert(o.chartY):null;return fh(fh({},o),{},{xValue:m,yValue:g},h)}return h?fh(fh({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=me(l);return el({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=We(e,ln),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),fh(fh({},Pe(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){id.on(od,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){id.removeListener(od,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===ze(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,i=n.top,o=n.height,a=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=nh(t,2),r=n[0],i=n[1];return fh(fh({},e),{},ph({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=nh(t,2),r=n[0],i=n[1];return fh(fh({},e),{},ph({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?fh(fh({},l.type.defaultProps),l.props):l.props,u=ze(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return no(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return el(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(dc(a,r)||hc(a,r)||fc(a,r)){var f=yc({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:fh(fh({},a),{},{childIndex:p}),payload:fc(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Ge(this))return null;var n,r,i=this.props,o=i.children,a=i.className,s=i.width,l=i.height,c=i.style,u=i.compact,d=i.title,h=i.desc,f=rh(i,Zd),p=Ye(f,!1);if(u)return t.createElement(Su,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(mt,th({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Je(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(Su,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",th({className:$("recharts-wrapper",a),style:fh({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(mt,th({},p,{width:s,height:l,title:d,desc:h,style:yh}),this.renderClipPath(),Je(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&ih(i.prototype,a),l&&ih(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(t.Component);ph(p,"displayName",n),ph(p,"defaultProps",fh({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ph(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=Oh(e);return fh(fh(fh({},h),{},{updateId:0},f(fh(fh({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Te(c,t.prevMargin)){var p=Oh(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=fh(fh({},Eh(t,r,s)),{},{updateId:t.updateId+1}),y=fh(fh(fh({},p),m),g);return fh(fh(fh({},y),f(fh({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!Xe(i,t.prevChildren)){var v,b,w,x,S=We(i,Hs),E=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,_=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,k=E!==u||_!==d,O=!xe()(r)&&!k?t.updateId:t.updateId+1;return fh(fh({updateId:O},f(fh(fh({props:e},t),{},{updateId:O,dataStartIndex:E,dataEndIndex:_}),t)),{},{prevChildren:i,dataStartIndex:E,dataEndIndex:_})}return null})),ph(p,"renderActiveDot",(function(e,n,r){var i;return i=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):Ee()(e)?e(n):t.createElement(vr,n),t.createElement(bt,{className:"recharts-active-dot",key:r},i)}));var m=(0,t.forwardRef)((function(e,n){return t.createElement(p,th({},e,{ref:n}))}));return m.displayName=p.displayName,m}({chartName:"LineChart",GraphicalChild:Gh,axisComponents:[{axisType:"xAxis",AxisComp:Af},{axisType:"yAxis",AxisComp:Uf}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!We(c,Bc);return u.reduce((function(a,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,w=void 0===b?{}:b,x=g.mirror,S=g.reversed,E="".concat(y).concat(x?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var _=v[1]-v[0],k=1/0,O=g.categoricalDomain.sort(ve);if(O.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(O[t-1]||0),k))})),Number.isFinite(k)){var T=k/_,A="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=T*A/2),"no-gap"===g.padding){var j=pe(t.barCategoryGap,T*A),C=T*A/2;c=C-j-(C-j)/A*j}}}u="xAxis"===i?[r.left+(w.left||0)+(c||0),r.left+r.width-(w.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(c||0),r.top+r.height-(w.bottom||0)-(c||0)]:g.range,S&&(u=[u[1],u[0]]);var N=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:oo.A(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:Ho.A(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:oo.z(),realScaleType:"point"}:"category"===o?{scale:oo.A(),realScaleType:"band"}:{scale:Ho.A(),realScaleType:"linear"};if(te()(i)){var l="scale".concat(un()(i));return{scale:(e[l]||oo.z)(),realScaleType:e[l]?l:"point"}}return Ee()(i)?{scale:i}:{scale:oo.z(),realScaleType:"point"}}(g,o,h),I=N.scale,P=N.realScaleType;I.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ms,o=Math.max(r[0],r[1])+ms,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(I);var D=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=Ia(l,i,a);return e.domain([ea()(c),Jo()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:Pa(u,i,a)}}return null}(I,Wc(Wc({},g),{},{realScaleType:P}));"xAxis"===i?(m="top"===y&&!x||"bottom"===y&&x,f=r.left,p=d[E]-m*g.height):"yAxis"===i&&(m="left"===y&&!x||"right"===y&&x,f=d[E]-m*g.width,p=r.top);var M=Wc(Wc(Wc({},g),D),{},{realScaleType:P,x:f,y:p,scale:I,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return M.bandSize=_s(M,D),g.hide||"xAxis"!==i?g.hide||(d[E]+=(m?-1:1)*M.width):d[E]+=(m?-1:1)*M.height,Wc(Wc({},a),{},Gc({},s,M))}),{})}}),Bf=["x1","y1","x2","y2","key"],Vf=["offset"];function qf(e){return qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(e)}function Hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(n),!0).forEach((function(t){Gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(this,arguments)}function Qf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Yf=function(e){var n=e.fill;if(!n||"none"===n)return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return t.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Xf(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if(Ee()(e))r=e(n);else{var i=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.key,c=Qf(n,Bf),u=Ye(c,!1),d=(u.offset,Qf(u,Vf));r=t.createElement("line",Kf({},d,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:l}))}return r}function $f(e){var n=e.x,r=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(t,i){var a=Wf(Wf({},e),{},{x1:n,y1:t,x2:n+r,y2:t,key:"line-".concat(i),index:i});return Xf(o,a)}));return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Jf(e){var n=e.y,r=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(t,i){var a=Wf(Wf({},e),{},{x1:t,y1:n,x2:t,y2:n+r,key:"line-".concat(i),index:i});return Xf(o,a)}));return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Zf(e){var n=e.horizontalFill,r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var u=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:a,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ep(e){var n=e.vertical,r=void 0===n||n,i=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!i||!i.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var h=d.map((function(e,n){var r=!d[n+1]?a+l-e:d[n+1]-e;if(r<=0)return null;var u=n%i.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:s,width:r,height:c,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var tp=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return ds(ef(Wf(Wf(Wf({},yf.defaultProps),n),{},{ticks:hs(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},np=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return ds(ef(Wf(Wf(Wf({},yf.defaultProps),n),{},{ticks:hs(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},rp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ip(e){var n,r,i,o,a,s,l=ku(),c=Ou(),u=(0,t.useContext)(vu),d=Wf(Wf({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:rp.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:rp.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:rp.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:rp.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:rp.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:rp.verticalFill,x:ue(e.x)?e.x:u.left,y:ue(e.y)?e.y:u.top,width:ue(e.width)?e.width:u.width,height:ue(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,t.useContext)(mu);return me(e)}(),w=function(){var e=(0,t.useContext)(gu);return hu()(e,(function(e){return yl()(e.domain,Number.isFinite)}))||me(e)}();if(!ue(p)||p<=0||!ue(m)||m<=0||!ue(h)||h!==+h||!ue(f)||f!==+f)return null;var x=d.verticalCoordinatesGenerator||tp,S=d.horizontalCoordinatesGenerator||np,E=d.horizontalPoints,_=d.verticalPoints;if((!E||!E.length)&&Ee()(S)){var k=y&&y.length,O=S({yAxis:w?Wf(Wf({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:u},!!k||g);be(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qf(O),"]")),Array.isArray(O)&&(E=O)}if((!_||!_.length)&&Ee()(x)){var T=v&&v.length,A=x({xAxis:b?Wf(Wf({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:u},!!T||g);be(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qf(A),"]")),Array.isArray(A)&&(_=A)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(Yf,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement($f,Kf({},d,{offset:u,horizontalPoints:E,xAxis:b,yAxis:w})),t.createElement(Jf,Kf({},d,{offset:u,verticalPoints:_,xAxis:b,yAxis:w})),t.createElement(Zf,Kf({},d,{horizontalPoints:E})),t.createElement(ep,Kf({},d,{verticalPoints:_})))}ip.displayName="CartesianGrid";const op=()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=new Date,n=t.toLocaleDateString("en-CA",{timeZone:e});return console.log("\ud83c\udf0d Timezone debug:",{userTimezone:e,utcTime:t.toISOString(),localDateString:n}),n},ap=async e=>{try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone;await(0,U.BN)((0,U.H9)(F.db,"users",e),{timezone:t,timezoneUpdatedAt:(new Date).toISOString()},{merge:!0}),console.log("\u2705 User timezone saved:",t)}catch(t){console.error("\u274c Error saving user timezone:",t)}},sp=()=>{var e,n,r,i,a,s;const[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[x,S]=(0,t.useState)("checking"),[E,_]=(0,t.useState)([]),[k,O]=(0,t.useState)(null),[T,A]=(0,t.useState)((()=>op())),[j,C]=(0,t.useState)(!1),N=(0,o.Zp)(),I=(0,o.zy)(),P="https://6zfuwxqp01.execute-api.us-east-1.amazonaws.com/dev",D=(0,t.useCallback)((async(e,t)=>{if(t)try{C(!0),console.log("\ud83d\udcca Fetching timeseries data for date:",e);let r=Intl.DateTimeFormat().resolvedOptions().timeZone;try{const e=await(0,U.x7)((0,U.H9)(F.db,"users",t));e.exists()&&e.data().timezone?(r=e.data().timezone,console.log("\u2705 Using stored user timezone:",r)):(console.log("\u26a0\ufe0f No stored timezone, using browser detection:",r),await ap(t))}catch(n){console.warn("\u26a0\ufe0f Could not fetch user timezone, using browser default:",n)}const i=new Date(e+"T00:00:00"),o=[];for(let e=-1;e<=1;e++){const t=new Date(i);t.setDate(t.getDate()+e);const n=t.toISOString().slice(0,10).replace(/-/g,"");o.push(n)}console.log("\ud83d\udd0d Searching date strings for",r,":",o);const a=(0,U.rJ)(F.db,"fitbit_timeseries"),s=await(0,U.GG)(a),l=[];s.forEach((e=>{const n=e.id,a=e.data();if(o.some((e=>n.startsWith("".concat(t,"_").concat(e,"_"))))){console.log("\ud83d\udcca Found matching document:",n);let e=0,t=0,o=0,s=0;a.metrics?(e=a.metrics.calories||0,t=a.metrics.steps||0,o=a.metrics.distance||0,s=a.metrics.activeMinutes||0):(e=a.calories||0,t=a.steps||0,o=a.distance||0,s=a.activeMinutes||0);let c=null;if(a.timestamp||a.syncedAt)c=new Date(a.timestamp||a.syncedAt);else{const e=n.split("_");if(e.length>=3){const t=e[1],n=e[2];if(8===t.length&&n.length>=6){const e=t.substring(0,4),r=t.substring(4,6),i=t.substring(6,8),o=n.substring(0,2),a=n.substring(2,4),s=n.substring(4,6);c=new Date("".concat(e,"-").concat(r,"-").concat(i,"T").concat(o,":").concat(a,":").concat(s,"Z"))}}}if(c){const a=new Date(c.toLocaleString("en-US",{timeZone:r})),u=a.toDateString(),d=i.toDateString();if(console.log("\ud83c\udf0d Timezone conversion:",{docId:n,utcTime:c.toISOString(),userLocalTime:a.toISOString(),pointDate:u,targetDate:d,matches:u===d,userTimezone:r}),u===d){const i=c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:r}),u=a.getTime();l.push({time:i,calories:e,steps:t,distance:o,activeMinutes:s,timestamp:c.toISOString(),sortableTime:u,docId:n,actualTimestamp:c,userLocalTime:a,userTimezone:r})}}}})),l.sort(((e,t)=>e.sortableTime-t.sortableTime));const c={steps:0,calories:0,distance:0,activeMinutes:0,dataPoints:l.length};l.forEach((e=>{c.calories=Math.max(c.calories,e.calories||0),c.steps=Math.max(c.steps,e.steps||0),c.distance=Math.max(c.distance,e.distance||0),c.activeMinutes=Math.max(c.activeMinutes,e.activeMinutes||0)})),console.log("\ud83d\udcca Found ".concat(l.length," data points for ").concat(e," (").concat(r,"):"),l),console.log("\ud83d\udcca Daily totals for selected date:",c),_(l),O(c)}catch(r){console.error("\u274c Error fetching timeseries data:",r),_([]),O(null)}finally{C(!1)}}),[]);(0,t.useEffect)((()=>{(async()=>{if(null!==l&&void 0!==l&&l.uid){console.log("\ud83d\udc64 User logged in, checking timezone...");try{const e=(await(0,U.x7)((0,U.H9)(F.db,"users",l.uid))).data();!(null!==e&&void 0!==e&&e.timezone)||!(null!==e&&void 0!==e&&e.timezoneUpdatedAt)||new Date-new Date(e.timezoneUpdatedAt)>2592e6?await ap(l.uid):console.log("\u2705 User timezone already up to date:",e.timezone)}catch(v){console.error("\u274c Error checking user timezone:",v)}}})()}),[l]);const M=(0,t.useCallback)((async(e,t)=>{if(!t)return!1;try{const n=e.replace(/-/g,""),r=(0,U.rJ)(F.db,"fitbit_timeseries"),i=await(0,U.GG)(r);let o=!1;return i.forEach((e=>{e.id.startsWith("".concat(t,"_").concat(n,"_"))&&(o=!0)})),o}catch(n){return console.error("\u274c Error checking date data:",n),!1}}),[]),R=(0,t.useCallback)((async e=>{if(null===l||void 0===l||!l.uid)return;const t=new Date(T);let n=new Date(t);for(let r=1;r<=30;r++){"prev"===e?n.setDate(t.getDate()-r):n.setDate(t.getDate()+r);const i=n.toISOString().split("T")[0];if(await M(i,l.uid))return A(i),void await D(i,l.uid)}console.log("\ud83d\udcca No data found in the specified direction")}),[T,null===l||void 0===l?void 0:l.uid,M,D]),B=(0,t.useCallback)((async()=>{const e=op();A(e),null!==l&&void 0!==l&&l.uid&&await D(e,l.uid)}),[null===l||void 0===l?void 0:l.uid,D]),V=(0,t.useCallback)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("\ud83d\udd04 Fetching fresh Fitbit data..."),m(!0),w("");const i=null===u||void 0===u?void 0:u.fitbitData,o=(null===i||void 0===i?void 0:i.tokenExpiresAt)&&new Date>new Date(i.tokenExpiresAt);let a=e;if(o&&n)try{console.log("\ud83d\udd04 Token expired, refreshing...");const e=await(async e=>{console.log("\ud83d\udd04 Refreshing Fitbit token...");try{const t=await fetch("".concat(P,"/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!t.ok){const e=await t.text();throw new Error("Token refresh failed (".concat(t.status,"): ").concat(e))}const n=await t.json();return console.log("\u2705 Token refreshed successfully"),{accessToken:n.access_token,refreshToken:n.refresh_token,expiresIn:n.expires_in,tokenExpiresAt:new Date(Date.now()+1e3*n.expires_in).toISOString()}}catch(v){throw console.error("\u274c Error refreshing token:",v),v}})(n);await(0,U.BN)((0,U.H9)(F.db,"users",t),{fitbitData:(0,b.A)((0,b.A)({},i),{},{accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiresAt:e.tokenExpiresAt})},{merge:!0}),d((t=>(0,b.A)((0,b.A)({},t),{},{fitbitData:(0,b.A)((0,b.A)({},t.fitbitData),{},{accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiresAt:e.tokenExpiresAt})}))),a=e.accessToken,console.log("\u2705 Token refreshed and saved")}catch(r){return console.error("\u274c Token refresh failed:",r),w("Your Fitbit connection has expired. Please reconnect your account."),void S("needs_connection")}const s=await(async e=>{console.log("\ud83d\udce1 Fetching Fitbit data from serverless API...");try{const t=await fetch("".concat(P,"/fitbit"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw new Error("API request failed (".concat(t.status,"): ").concat(e))}const n=await t.json();return console.log("\u2705 Data received from serverless API:",n),{heartRate:n.heartRate||null,steps:n.steps||0,calories:n.calories||0,distance:n.distance||0,activeMinutes:n.activeMinutes||0,sleep:n.sleep||null,weight:n.weight||null,date:n.date||(new Date).toISOString().split("T")[0],lastSync:(new Date).toISOString()}}catch(v){throw console.error("\u274c Error fetching from serverless API:",v),new Error("Failed to fetch Fitbit data: ".concat(v.message))}})(a);await(0,U.BN)((0,U.H9)(F.db,"users",t),{latestFitbitData:s,lastUpdated:(new Date).toISOString()},{merge:!0}),f(s),console.log("\u2705 Fitbit data updated successfully"),await D(T,t)}catch(i){console.error("\u274c Error fetching Fitbit data:",i),i.message.includes("401")||i.message.includes("Unauthorized")?(w("Your Fitbit connection has expired. Please reconnect your account."),S("needs_connection")):w("Failed to fetch Fitbit data: ".concat(i.message))}finally{m(!1)}}),[null===u||void 0===u?void 0:u.fitbitData,T,D]),q=(0,t.useCallback)((async e=>{try{m(!0),console.log("\ud83d\udcca Loading user data for userId:",e);const n=await(0,U.x7)((0,U.H9)(F.db,"users",e));if(n.exists()){var t;const r=n.data();console.log("\u2705 User data loaded:",r.email),d(r),null!==(t=r.fitbitData)&&void 0!==t&&t.accessToken?(S("connected"),r.latestFitbitData&&f(r.latestFitbitData),await D(T,e)):S("needs_connection")}else w("User profile not found. Please contact support."),S("error")}catch(n){console.error("\u274c Error loading user data:",n),w("Failed to load user data: ".concat(n.message)),S("error")}finally{m(!1)}}),[D,T]),H=(0,t.useCallback)((async(e,t)=>{try{y(!0),w("");if(t!==sessionStorage.getItem("fitbitOAuthState"))throw new Error("Security validation failed. Please try again.");console.log("\ud83d\udd04 Processing OAuth callback...");const n=await(async e=>{console.log("\ud83d\udd27 Starting secure token exchange...");const t=window.location.origin+window.location.pathname;try{const n=await fetch("".concat(P,"/token-exchange"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,redirect_uri:t})});if(!n.ok){const e=await n.text();throw new Error("Token exchange failed (".concat(n.status,"): ").concat(e))}const r=await n.json();return console.log("\u2705 Token exchange successful"),r}catch(n){throw console.error("\u274c Error during token exchange:",n),new Error("Token exchange failed: ".concat(n.message))}})(e),r={accessToken:n.access_token,refreshToken:n.refresh_token,tokenExpiresAt:new Date(Date.now()+1e3*n.expires_in).toISOString(),tokenType:n.token_type,scope:n.scope,connectedAt:(new Date).toISOString()};await(0,U.BN)((0,U.H9)(F.db,"users",l.uid),{fitbitData:r,deviceConnected:!0,selectedDevice:"fitbit",lastUpdated:(new Date).toISOString()},{merge:!0}),d((e=>(0,b.A)((0,b.A)({},e),{},{fitbitData:r}))),S("connected"),sessionStorage.removeItem("fitbitOAuthState"),sessionStorage.removeItem("fitbitAuthStartTime"),window.history.replaceState({},document.title,window.location.pathname),console.log("\u2705 Fitbit connection completed"),await V(n.access_token,l.uid,n.refresh_token)}catch(n){console.error("\u274c Error processing OAuth:",n),w("Failed to connect Fitbit: ".concat(n.message)),S("error")}finally{y(!1)}}),[l,V]),W=(0,t.useCallback)((()=>{var e;null!==u&&void 0!==u&&null!==(e=u.fitbitData)&&void 0!==e&&e.accessToken&&null!==l&&void 0!==l&&l.uid&&(V(u.fitbitData.accessToken,l.uid,u.fitbitData.refreshToken),D(T,l.uid))}),[null===u||void 0===u||null===(e=u.fitbitData)||void 0===e?void 0:e.accessToken,null===u||void 0===u||null===(n=u.fitbitData)||void 0===n?void 0:n.refreshToken,null===l||void 0===l?void 0:l.uid,V,T,D]);(0,t.useEffect)((()=>{const e=(0,L.hg)(F.j,(async e=>{e?(console.log("\u2705 User authenticated with UID:",e.uid),c(e),await q(e.uid)):(console.log("\u274c No authenticated user, redirecting to login"),N("/login"))}));return()=>e()}),[N,q]),(0,t.useEffect)((()=>{l&&I.search&&(async()=>{const e=new URLSearchParams(I.search),t=e.get("code"),n=e.get("state"),r=e.get("error");t&&n&&l?(console.log("\ud83d\udd04 Processing OAuth callback..."),await H(t,n)):r&&(w("Fitbit authorization failed: ".concat(r)),S("error"),y(!1))})()}),[l,I.search,H]);const G=()=>{var e,t;return(0,z.jsxs)("div",{className:"dashboard-card enhanced-card",children:[(0,z.jsxs)("div",{className:"chart-header",children:[(0,z.jsx)("h3",{children:"\ud83d\udd25 Calories Timeline"}),(0,z.jsxs)("div",{className:"chart-controls",children:[(0,z.jsx)("button",{onClick:()=>R("prev"),disabled:j,className:"nav-button",children:"\u2190 Previous"}),(0,z.jsx)("input",{type:"date",value:T,onChange:e=>{A(e.target.value),null!==l&&void 0!==l&&l.uid&&D(e.target.value,l.uid)},className:"date-input"}),(0,z.jsx)("button",{onClick:()=>R("next"),disabled:j||T>=op(),className:"nav-button",children:"Next \u2192"}),T!==op()&&(0,z.jsx)("button",{onClick:B,disabled:j,className:"today-button",children:"\ud83d\udcc5 Today"}),(0,z.jsx)("button",{onClick:()=>{console.log("\ud83d\udc1b DEBUG: Manual fetch triggered"),console.log("\ud83d\udc1b Current user UID:",null===l||void 0===l?void 0:l.uid),console.log("\ud83d\udc1b Selected date:",T),null!==l&&void 0!==l&&l.uid&&D(T,l.uid)},disabled:j||!(null!==l&&void 0!==l&&l.uid),className:"debug-button",children:"\ud83d\udc1b Debug Fetch"})]})]}),j?(0,z.jsx)("div",{className:"loading-container",children:(0,z.jsx)("div",{className:"loading-spinner-large"})}):E.length>0?(0,z.jsx)("div",{className:"chart-container",children:(0,z.jsx)(ot,{width:"100%",height:"100%",children:(0,z.jsxs)(zf,{data:E,children:[(0,z.jsx)(ip,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,z.jsx)(Af,{dataKey:"time",stroke:"#666",fontSize:12,interval:"preserveStartEnd"}),(0,z.jsx)(Uf,{stroke:"#666",fontSize:12}),(0,z.jsx)(ln,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:e=>[e,"Calories"],labelFormatter:e=>"Time: ".concat(e)}),(0,z.jsx)(Gh,{type:"monotone",dataKey:"calories",stroke:"#dc3545",strokeWidth:2,dot:{fill:"#dc3545",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#dc3545",strokeWidth:2}})]})})}):(0,z.jsxs)("div",{className:"no-data-container",children:[(0,z.jsx)("div",{className:"no-data-icon",children:"\ud83d\udcca"}),(0,z.jsxs)("p",{className:"no-data-title",children:["No calorie data available for ",T]}),(0,z.jsx)("p",{className:"no-data-subtitle",children:T===op()?'Click "\ud83d\udc1b Debug Fetch" to check data loading':"Use the navigation buttons to find dates with data"}),(null===l||void 0===l?void 0:l.uid)&&(0,z.jsxs)("div",{className:"debug-info-box",children:[(0,z.jsx)("strong",{children:"\ud83d\udc1b Debug Info:"}),(0,z.jsx)("br",{}),"User UID: ",l.uid,(0,z.jsx)("br",{}),"Looking for documents starting with: ",l.uid,"_",T.replace(/-/g,""),"_",(0,z.jsx)("br",{}),"(e.g., ",l.uid,"_",T.replace(/-/g,""),"_190044)"]})]}),E.length>0&&(0,z.jsxs)("div",{className:"chart-summary",children:[(0,z.jsxs)("strong",{children:["\ud83d\udcc8 Summary for ",T,":"]}),(0,z.jsx)("br",{}),"Data points: ",(null===k||void 0===k?void 0:k.dataPoints)||0," | Total Calories: ",(null===k||void 0===k||null===(e=k.calories)||void 0===e?void 0:e.toLocaleString())||0," cal | Peak: ",Math.max(...E.map((e=>e.calories))).toLocaleString()," cal | Latest: ",null===(t=E[E.length-1])||void 0===t?void 0:t.calories.toLocaleString()," cal"]})]})},K=e=>{let{title:t,value:n,unit:r,icon:i,color:o="#3b82f6"}=e;return(0,z.jsxs)("div",{className:"metric-card",style:{borderColor:o},children:[(0,z.jsx)("div",{className:"metric-icon",children:i}),(0,z.jsx)("h3",{className:"metric-title",style:{color:o},children:t}),(0,z.jsx)("div",{className:"metric-value",children:n}),(0,z.jsx)("div",{className:"metric-unit",children:r})]})},Q=e=>{let{error:t,onRetry:n}=e;return(0,z.jsx)("div",{className:"error-display",children:(0,z.jsxs)("div",{className:"error-content",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("strong",{children:"\u26a0\ufe0f Error:"}),(0,z.jsx)("div",{className:"error-message",children:t})]}),n&&(0,z.jsx)("button",{onClick:n,className:"retry-button",children:"Retry"})]})})};return p&&"checking"===x?(0,z.jsxs)("div",{className:"dashboard-container checking",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"})]}),(0,z.jsxs)("div",{className:"loading-center",children:[(0,z.jsx)("div",{className:"loading-spinner-large"}),(0,z.jsx)("h2",{className:"loading-text",children:"Loading your dashboard..."})]})]}):(0,z.jsxs)("div",{className:"dashboard-container",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"})]}),(0,z.jsxs)("div",{className:"dashboard-content",children:[(0,z.jsxs)("div",{className:"navigation-header",children:[(0,z.jsx)("button",{onClick:()=>{N("/dashboard")},className:"back-button",children:"\u2190 Back to Dashboard"}),(0,z.jsx)("button",{onClick:async()=>{try{await(0,L.CI)(F.j),localStorage.removeItem("userData"),N("/login")}catch(v){console.error("Error signing out:",v),localStorage.removeItem("userData"),N("/login"),w("Failed to logout. Please try again.")}},className:"logout-button",children:"Logout"})]}),(0,z.jsxs)("div",{className:"dashboard-card main-header",children:[(0,z.jsx)("div",{className:"card-glow"}),(0,z.jsxs)("div",{className:"card-content-wrapper",children:[(0,z.jsxs)("h1",{className:"dashboard-title",children:[(0,z.jsx)("span",{className:"title-icon",children:"\u231a"}),"Fitbit Dashboard"]}),(0,z.jsxs)("p",{className:"dashboard-subtitle",children:["Welcome back, ",null===l||void 0===l?void 0:l.email,"! Here's your fitness data."]}),(0,z.jsxs)("div",{className:"header-controls",children:[(null===h||void 0===h?void 0:h.lastSync)&&(0,z.jsxs)("div",{className:"last-sync-info",children:[(0,z.jsx)("strong",{children:"\ud83d\udcca Last Updated:"})," ",new Date(h.lastSync).toLocaleString()]}),(0,z.jsx)("button",{onClick:W,disabled:p,className:"refresh-button",children:p?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"loading-spinner-small"}),"Updating..."]}):(0,z.jsx)(z.Fragment,{children:"\ud83d\udd04 Refresh All Data"})})]})]})]}),v&&(0,z.jsx)(Q,{error:v,onRetry:"connected"===x?W:null}),"needs_connection"===x&&(0,z.jsxs)("div",{className:"dashboard-card connection-card",children:[(0,z.jsx)("div",{className:"card-glow"}),(0,z.jsxs)("div",{className:"card-content-wrapper connection-content",children:[(0,z.jsx)("div",{className:"connection-icon",children:"\u231a"}),(0,z.jsx)("h2",{className:"connection-title",children:"Connect Your Fitbit"}),(0,z.jsx)("p",{className:"connection-description",children:"Connect your Fitbit account to start tracking your fitness data and view detailed analytics."}),(0,z.jsx)("button",{onClick:()=>{if(null===l||void 0===l||!l.uid)return void w("User not authenticated");y(!0),w("");const e="23Q9SZ";const t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("fitbitOAuthState",t),sessionStorage.setItem("fitbitAuthStartTime",Date.now().toString());const n=window.location.origin+window.location.pathname,r="https://www.fitbit.com/oauth2/authorize?response_type=code&"+"client_id=".concat(e,"&")+"redirect_uri=".concat(encodeURIComponent(n),"&")+"scope=".concat(encodeURIComponent("activity heartrate sleep weight profile"),"&")+"state=".concat(t);console.log("\ud83d\ude80 Starting Fitbit OAuth flow"),window.location.href=r},disabled:g,className:"connect-button",children:g?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"loading-spinner-small"}),"Connecting..."]}):(0,z.jsx)(z.Fragment,{children:"\ud83d\udd17 Connect Fitbit"})})]})]}),"connected"===x&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(G,{}),(0,z.jsxs)("div",{className:"metrics-grid",children:[(0,z.jsx)(K,{title:"Steps (".concat(T,")"),value:(null===k||void 0===k||null===(r=k.steps)||void 0===r?void 0:r.toLocaleString())||"0",unit:"steps",icon:"\ud83d\udc5f",color:"#10b981"}),(0,z.jsx)(K,{title:"Calories (".concat(T,")"),value:(null===k||void 0===k||null===(i=k.calories)||void 0===i?void 0:i.toLocaleString())||"0",unit:"calories",icon:"\ud83d\udd25",color:"#ef4444"}),(0,z.jsx)(K,{title:"Distance (".concat(T,")"),value:null!==k&&void 0!==k&&k.distance?k.distance.toFixed(2):"0",unit:"km",icon:"\ud83c\udfc3\u200d\u2642\ufe0f",color:"#3b82f6"}),(0,z.jsx)(K,{title:"Active Minutes (".concat(T,")"),value:(null===k||void 0===k||null===(a=k.activeMinutes)||void 0===a?void 0:a.toString())||"0",unit:"minutes",icon:"\u26a1",color:"#f59e0b"})]}),h&&(0,z.jsxs)("div",{className:"additional-cards-grid",children:[h.heartRate&&(0,z.jsxs)("div",{className:"dashboard-card data-card heart-rate-card",children:[(0,z.jsxs)("h3",{className:"data-card-title",children:[(0,z.jsx)("span",{className:"data-card-icon",children:"\u2764\ufe0f"}),"Heart Rate (Latest Sync)"]}),(0,z.jsxs)("div",{className:"heart-rate-grid",children:[(0,z.jsxs)("div",{className:"heart-rate-stat",children:[(0,z.jsx)("div",{className:"heart-rate-value",children:h.heartRate.restingHeartRate||"N/A"}),(0,z.jsx)("div",{className:"heart-rate-label",children:"Resting BPM"})]}),h.heartRate.zones&&(0,z.jsxs)("div",{className:"heart-rate-stat",children:[(0,z.jsx)("div",{className:"heart-rate-value",children:h.heartRate.zones.length}),(0,z.jsx)("div",{className:"heart-rate-label",children:"HR Zones"})]})]}),h.heartRate.zones&&h.heartRate.zones.length>0&&(0,z.jsxs)("div",{className:"heart-rate-zones",children:[(0,z.jsx)("div",{className:"zones-title",children:"Heart Rate Zones:"}),h.heartRate.zones.map(((e,t)=>(0,z.jsxs)("div",{className:"zone-item",children:[(0,z.jsxs)("span",{children:[e.name,":"]}),(0,z.jsxs)("span",{children:[e.minutes," min"]})]},t)))]})]}),h.sleep&&(0,z.jsxs)("div",{className:"dashboard-card data-card sleep-card",children:[(0,z.jsxs)("h3",{className:"data-card-title",children:[(0,z.jsx)("span",{className:"data-card-icon",children:"\ud83d\ude34"}),"Sleep (Latest Sync)"]}),(0,z.jsxs)("div",{className:"sleep-grid",children:[(0,z.jsxs)("div",{className:"sleep-stat",children:[(0,z.jsx)("div",{className:"sleep-value",children:h.sleep.totalMinutes?Math.floor(h.sleep.totalMinutes/60)+"h "+h.sleep.totalMinutes%60+"m":"N/A"}),(0,z.jsx)("div",{className:"sleep-label",children:"Total Sleep"})]}),(0,z.jsxs)("div",{className:"sleep-stat",children:[(0,z.jsxs)("div",{className:"sleep-value",children:[h.sleep.efficiency||"N/A","%"]}),(0,z.jsx)("div",{className:"sleep-label",children:"Efficiency"})]})]}),h.sleep.stages&&(0,z.jsxs)("div",{className:"sleep-stages",children:[(0,z.jsx)("div",{className:"stages-title",children:"Sleep Stages:"}),Object.entries(h.sleep.stages).map((e=>{let[t,n]=e;return(0,z.jsxs)("div",{className:"stage-item",children:[(0,z.jsxs)("span",{className:"stage-name",children:[t,":"]}),(0,z.jsxs)("span",{children:[n," min"]})]},t)}))]})]}),h.weight&&(0,z.jsxs)("div",{className:"dashboard-card data-card weight-card",children:[(0,z.jsxs)("h3",{className:"data-card-title",children:[(0,z.jsx)("span",{className:"data-card-icon",children:"\u2696\ufe0f"}),"Weight (Latest Sync)"]}),(0,z.jsxs)("div",{className:"weight-content",children:[(0,z.jsx)("div",{className:"weight-value",children:h.weight.weight?h.weight.weight.toFixed(1):"N/A"}),(0,z.jsx)("div",{className:"weight-unit",children:"kg"}),h.weight.date&&(0,z.jsxs)("div",{className:"weight-date",children:["Last measured: ",new Date(h.weight.date).toLocaleDateString()]})]})]})]})]}),(0,z.jsxs)("div",{className:"dashboard-card footer-card",children:[(0,z.jsx)("p",{className:"footer-text",children:"\ud83d\udd12 Your data is securely stored and synchronized with Fitbit's official API"}),(null===u||void 0===u||null===(s=u.fitbitData)||void 0===s?void 0:s.connectedAt)&&(0,z.jsxs)("p",{className:"footer-connected",children:["Connected since: ",new Date(u.fitbitData.connectedAt).toLocaleDateString()]})]})]})]})},lp=S("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),cp=S("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),up=S("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),dp=S("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),hp=S("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fp=S("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pp=S("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),mp=["Fatigue","Post-exertional malaise","Brain fog","Headaches","Shortness of breath","Heart palpitations","Dizziness","Joint/muscle pain","Sleep disturbances","Temperature regulation issues","Digestive issues"],gp=()=>{const e=(0,o.Zp)(),[n,r]=(0,t.useState)(!0),[i,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[w,x]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[k,O]=(0,t.useState)(!1),[A,D]=(0,t.useState)(""),[M,R]=(0,t.useState)({name:"",email:"",age:"",gender:"",weight:"",height:"",covidDate:"",covidDuration:"",severity:"",symptoms:[],medicalConditions:""}),[B,V]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[q,H]=(0,t.useState)({}),[W,G]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=document.querySelectorAll("input, select, textarea"),t=[];return e.forEach((e=>{try{const n=(e=>{const t=e.closest(".form-group"),n=null===t||void 0===t?void 0:t.querySelector(".form-label");if(!n||!t)return{handleFocus:()=>{},handleBlur:()=>{},handleInput:()=>{},updateLabelState:()=>{}};const r=()=>{const r=e.value&&e.value.length>0,i=document.activeElement===e;r||i?(n.classList.add("floating"),t.classList.add("has-content")):(n.classList.remove("floating"),t.classList.remove("has-content"))};return r(),{handleFocus:()=>{try{e.closest(".form-group")&&(e.closest(".form-group").style.transform="scale(1.02)"),n.classList.add("floating"),t.classList.add("focused"),r()}catch(i){console.warn("Error in handleFocus:",i)}},handleBlur:()=>{try{e.closest(".form-group")&&(e.closest(".form-group").style.transform="scale(1)"),t.classList.remove("focused"),r()}catch(n){console.warn("Error in handleBlur:",n)}},handleInput:()=>{try{r()}catch(e){console.warn("Error in handleInput:",e)}},updateLabelState:r}})(e);n&&n.handleFocus&&(e.addEventListener("focus",n.handleFocus),e.addEventListener("blur",n.handleBlur),e.addEventListener("input",n.handleInput),t.push({input:e,handlers:n}))}catch(n){console.warn("Error setting up input handlers:",n)}})),()=>{t.forEach((e=>{let{input:t,handlers:n}=e;try{t&&n&&(t.removeEventListener("focus",n.handleFocus),t.removeEventListener("blur",n.handleBlur),t.removeEventListener("input",n.handleInput))}catch(r){console.warn("Error cleaning up input handlers:",r)}}))}}),[]),(0,t.useEffect)((()=>{document.querySelectorAll("input, select, textarea").forEach((e=>{try{const t=e.closest(".form-group"),n=null===t||void 0===t?void 0:t.querySelector(".form-label");if(n&&t){e.value&&e.value.length>0?(n.classList.add("floating"),t.classList.add("has-content")):(n.classList.remove("floating"),t.classList.remove("has-content"))}}catch(t){console.warn("Error updating floating labels:",t)}}))}),[M]);const K=(0,t.useCallback)((async()=>{try{const t=localStorage.getItem("userData");if(!t)return void e("/login");const n=JSON.parse(t);if(n.id){const t=(0,U.H9)(F.db,"users",n.id),r=await(0,U.x7)(t);if(r.exists()){const e=r.data();u((0,b.A)({id:n.id},e)),R({name:e.name||"",email:e.email||"",age:e.age||"",gender:e.gender||"",weight:e.weight||"",height:e.height||"",covidDate:e.covidDate||"",covidDuration:e.covidDuration||"",severity:e.severity||"",symptoms:e.symptoms||[],medicalConditions:e.medicalConditions||""})}else console.error("User document not found"),e("/login")}}catch(t){console.error("Error loading user data:",t),e("/login")}finally{r(!1)}}),[e]);(0,t.useEffect)((()=>{K()}),[K]);async function Q(e,t,n){let r=!0;for(;r;){const i=(0,U.wP)(F.db);let o=0;const a=(0,U.P)((0,U.rJ)(F.db,e),(0,U._M)("userId","==",t),(0,U.AB)(n)),s=await(0,U.GG)(a);if(s.empty){r=!1;break}s.forEach((e=>{i.delete(e.ref),o++})),o>0&&(await i.commit(),console.log("\ud83d\udce6 Deleted ".concat(o," documents from ").concat(e))),r=s.size===n,r&&await new Promise((e=>setTimeout(e,100)))}console.log("\u2705 ".concat(e,": Complete deletion finished"))}const Y=e=>{const{name:t,value:n,checked:r}=e.target;R("symptoms"===t?e=>(0,b.A)((0,b.A)({},e),{},{symptoms:r?[...e.symptoms,n]:e.symptoms.filter((e=>e!==n))}):e=>(0,b.A)((0,b.A)({},e),{},{[t]:n})),q[t]&&H((e=>(0,b.A)((0,b.A)({},e),{},{[t]:""})))},X=e=>{const{name:t,value:n}=e.target;V((e=>(0,b.A)((0,b.A)({},e),{},{[t]:n}))),q[t]&&H((e=>(0,b.A)((0,b.A)({},e),{},{[t]:""})))};return n?(0,z.jsxs)("div",{className:"personal-settings-page",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"})]}),(0,z.jsxs)("div",{className:"loading-container",children:[(0,z.jsx)("div",{className:"loading-spinner"}),(0,z.jsx)("p",{children:"Loading your settings..."})]})]}):(0,z.jsxs)("div",{className:"personal-settings-page",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"})]}),(0,z.jsxs)("div",{className:"settings-container",children:[(0,z.jsxs)("div",{className:"settings-header",children:[(0,z.jsxs)("div",{className:"header-actions",children:[(0,z.jsxs)("button",{onClick:()=>e("/dashboard"),className:"btn btn-secondary btn-icon-left",children:[(0,z.jsx)(lp,{className:"btn-icon"}),"\ud83c\udfe0 Dashboard"]}),(0,z.jsxs)("button",{className:"logout-btn",onClick:async()=>{console.log("Logout clicked - starting complete logout process");try{F.j.currentUser?(console.log("Signing out Firebase user:",F.j.currentUser.email),await(0,L.CI)(F.j),console.log("Firebase signOut successful")):console.log("No Firebase user to sign out"),console.log("Clearing localStorage userData"),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("Cleared sessionStorage"),u(null),r(!1),console.log("Complete logout finished, navigating to login..."),e("/login",{replace:!0})}catch(t){console.error("Error during logout:",t),localStorage.removeItem("userData"),sessionStorage.clear(),u(null),e("/login",{replace:!0})}},children:[(0,z.jsx)(cp,{className:"btn-icon"}),"Logout"]})]}),(0,z.jsxs)("div",{className:"settings-title-section",children:[(0,z.jsx)("div",{className:"title-icon",children:"\u2699\ufe0f"}),(0,z.jsx)("h1",{className:"settings-title",children:"Personal Settings"}),(0,z.jsx)("p",{className:"settings-subtitle",children:"Update your profile information and preferences"})]})]}),W&&(0,z.jsxs)("div",{className:"success-message",children:[(0,z.jsx)(E,{className:"success-icon"}),W]}),(0,z.jsxs)("div",{className:"settings-card",children:[(0,z.jsxs)("div",{className:"card-header",children:[(0,z.jsx)("h2",{className:"card-title",children:"Profile Information"}),(0,z.jsx)("p",{className:"card-description",children:"Update your personal details to help us provide better energy management recommendations."})]}),(0,z.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return M.name.trim()||(e.name="Name is required"),M.age?M.age<13&&(e.age="Age must be at least 13"):e.age="Age is required",M.gender||(e.gender="Gender is required"),H(e),0===Object.keys(e).length})()){a(!0),H({}),G("");try{const e=(0,b.A)((0,b.A)({},M),{},{age:parseInt(M.age),weight:M.weight?parseFloat(M.weight):null,height:M.height?parseFloat(M.height):null,lastUpdated:(new Date).toISOString()}),t=(0,U.H9)(F.db,"users",c.id);await(0,U.mZ)(t,e);const n=JSON.parse(localStorage.getItem("userData")),r=(0,b.A)((0,b.A)({},n),e);localStorage.setItem("userData",JSON.stringify(r)),u((t=>(0,b.A)((0,b.A)({},t),e))),G("Profile updated successfully!"),setTimeout((()=>G("")),3e3)}catch(t){console.error("Error updating profile:",t),H({submit:"Failed to update profile. Please try again."})}finally{a(!1)}}},className:"settings-form",children:[(0,z.jsxs)("div",{className:"form-grid two-cols",children:[(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(T,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"text",name:"name",value:M.name,onChange:Y,className:"form-input ".concat(q.name?"error":""),placeholder:"Enter your full name"}),(0,z.jsx)("label",{className:"form-label",children:"Full Name *"}),q.name&&(0,z.jsx)("p",{className:"error-message",children:q.name})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(j,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"email",name:"email",value:M.email,className:"form-input disabled",disabled:!0,title:"Email cannot be changed. Contact support if you need to update your email."}),(0,z.jsx)("label",{className:"form-label",children:"Email Address"}),(0,z.jsx)("p",{className:"input-hint",children:"Email cannot be changed. Contact support if needed."})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)("input",{type:"number",name:"age",value:M.age,onChange:Y,className:"form-input ".concat(q.age?"error":""),placeholder:"Your age",min:"13",max:"100"}),(0,z.jsx)("label",{className:"form-label",children:"Age *"}),q.age&&(0,z.jsx)("p",{className:"error-message",children:q.age})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("select",{name:"gender",value:M.gender,onChange:Y,className:"form-select ".concat(q.gender?"error":""),children:[(0,z.jsx)("option",{value:"",children:"Select gender"}),(0,z.jsx)("option",{value:"male",children:"Male"}),(0,z.jsx)("option",{value:"female",children:"Female"}),(0,z.jsx)("option",{value:"other",children:"Other"}),(0,z.jsx)("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}),(0,z.jsx)("label",{className:"form-label",children:"Gender *"}),q.gender&&(0,z.jsx)("p",{className:"error-message",children:q.gender})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(N,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"number",name:"weight",value:M.weight,onChange:Y,className:"form-input",placeholder:"Optional",step:"0.1"}),(0,z.jsx)("label",{className:"form-label",children:"Weight (kg)"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(I,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"number",name:"height",value:M.height,onChange:Y,className:"form-input",placeholder:"Optional"}),(0,z.jsx)("label",{className:"form-label",children:"Height (cm)"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)(P,{className:"form-label-icon"}),(0,z.jsx)("input",{type:"date",name:"covidDate",value:M.covidDate,onChange:Y,className:"form-input"}),(0,z.jsx)("label",{className:"form-label",children:"First COVID Date"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("select",{name:"covidDuration",value:M.covidDuration,onChange:Y,className:"form-select",children:[(0,z.jsx)("option",{value:"",children:"Select duration"}),(0,z.jsx)("option",{value:"less-than-1-month",children:"Less than 1 month"}),(0,z.jsx)("option",{value:"1-3-months",children:"1-3 months"}),(0,z.jsx)("option",{value:"3-6-months",children:"3-6 months"}),(0,z.jsx)("option",{value:"6-12-months",children:"6-12 months"}),(0,z.jsx)("option",{value:"1-2-years",children:"1-2 years"}),(0,z.jsx)("option",{value:"more-than-2-years",children:"More than 2 years"})]}),(0,z.jsx)("label",{className:"form-label",children:"Long COVID Duration"})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("select",{name:"severity",value:M.severity,onChange:Y,className:"form-select",children:[(0,z.jsx)("option",{value:"",children:"Select severity"}),(0,z.jsx)("option",{value:"mild",children:"Mild"}),(0,z.jsx)("option",{value:"moderate",children:"Moderate"}),(0,z.jsx)("option",{value:"severe",children:"Severe"})]}),(0,z.jsx)("label",{className:"form-label",children:"COVID Severity"})]})]}),(0,z.jsxs)("div",{className:"symptoms-section",children:[(0,z.jsx)("label",{className:"form-label",children:"Long COVID Symptoms (select all that apply)"}),(0,z.jsx)("div",{className:"symptoms-grid",children:mp.map((e=>(0,z.jsxs)("label",{className:"symptom-checkbox ".concat(M.symptoms.includes(e)?"selected":""),children:[(0,z.jsx)("input",{type:"checkbox",name:"symptoms",value:e,checked:M.symptoms.includes(e),onChange:Y,className:"symptom-checkbox-input"}),(0,z.jsx)("span",{className:"symptom-checkbox-text",children:e})]},e)))})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsx)("textarea",{name:"medicalConditions",value:M.medicalConditions,onChange:Y,className:"form-textarea",rows:"3",placeholder:"List any other medical conditions or medications that might affect your energy levels..."}),(0,z.jsx)("label",{className:"form-label",children:"Other Medical Conditions"})]}),q.submit&&(0,z.jsx)("div",{className:"error-message-box",children:q.submit}),(0,z.jsxs)("button",{type:"submit",disabled:i,className:"btn btn-primary btn-icon-left",children:[(0,z.jsx)(up,{className:"btn-icon"}),i?"Saving...":"Save Profile"]})]})]}),(0,z.jsxs)("div",{className:"settings-card",children:[(0,z.jsxs)("div",{className:"card-header",children:[(0,z.jsx)("h2",{className:"card-title",children:"Security Settings"}),(0,z.jsx)("p",{className:"card-description",children:"Change your password to keep your account secure."}),(0,z.jsxs)("button",{onClick:()=>h(!d),className:"btn btn-secondary btn-icon-left",children:[(0,z.jsx)(C,{className:"btn-icon"}),d?"Cancel Password Change":"Change Password"]})]}),d&&(0,z.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return B.currentPassword||(e.currentPassword="Current password is required"),B.newPassword?B.newPassword.length<6&&(e.newPassword="New password must be at least 6 characters"):e.newPassword="New password is required",B.newPassword!==B.confirmPassword&&(e.confirmPassword="Passwords do not match"),B.currentPassword===B.newPassword&&(e.newPassword="New password must be different from current password"),H(e),0===Object.keys(e).length})()){a(!0),H({}),G("");try{const e=F.j.currentUser;if(!e)throw new Error("No authenticated user found");const t=L.IX.credential(e.email,B.currentPassword);await(0,L.kZ)(e,t),await(0,L.f3)(e,B.newPassword),V({currentPassword:"",newPassword:"",confirmPassword:""}),G("Password updated successfully!"),h(!1),setTimeout((()=>G("")),3e3)}catch(t){console.error("Error changing password:",t),"auth/wrong-password"===t.code?H({currentPassword:"Current password is incorrect"}):"auth/weak-password"===t.code?H({newPassword:"New password is too weak"}):H({submit:"Failed to change password. Please try again."})}finally{a(!1)}}},className:"settings-form",children:[(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("div",{className:"password-input-wrapper",children:[(0,z.jsx)("input",{type:f?"text":"password",name:"currentPassword",value:B.currentPassword,onChange:X,className:"form-input ".concat(q.currentPassword?"error":""),placeholder:"Enter your current password"}),(0,z.jsx)("button",{type:"button",onClick:()=>p(!f),className:"password-toggle",children:f?(0,z.jsx)(dp,{size:20}):(0,z.jsx)(hp,{size:20})})]}),(0,z.jsx)("label",{className:"form-label",children:"Current Password *"}),q.currentPassword&&(0,z.jsx)("p",{className:"error-message",children:q.currentPassword})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("div",{className:"password-input-wrapper",children:[(0,z.jsx)("input",{type:m?"text":"password",name:"newPassword",value:B.newPassword,onChange:X,className:"form-input ".concat(q.newPassword?"error":""),placeholder:"Enter your new password"}),(0,z.jsx)("button",{type:"button",onClick:()=>g(!m),className:"password-toggle",children:m?(0,z.jsx)(dp,{size:20}):(0,z.jsx)(hp,{size:20})})]}),(0,z.jsx)("label",{className:"form-label",children:"New Password *"}),q.newPassword&&(0,z.jsx)("p",{className:"error-message",children:q.newPassword})]}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("div",{className:"password-input-wrapper",children:[(0,z.jsx)("input",{type:y?"text":"password",name:"confirmPassword",value:B.confirmPassword,onChange:X,className:"form-input ".concat(q.confirmPassword?"error":""),placeholder:"Confirm your new password"}),(0,z.jsx)("button",{type:"button",onClick:()=>v(!y),className:"password-toggle",children:y?(0,z.jsx)(dp,{size:20}):(0,z.jsx)(hp,{size:20})})]}),(0,z.jsx)("label",{className:"form-label",children:"Confirm New Password *"}),q.confirmPassword&&(0,z.jsx)("p",{className:"error-message",children:q.confirmPassword})]}),(0,z.jsxs)("button",{type:"submit",disabled:i,className:"btn btn-primary btn-icon-left",children:[(0,z.jsx)(C,{className:"btn-icon"}),i?"Updating...":"Update Password"]})]})]}),(0,z.jsxs)("div",{className:"settings-card danger-card",children:[(0,z.jsxs)("div",{className:"card-header",children:[(0,z.jsxs)("h2",{className:"card-title danger-title",children:[(0,z.jsx)(fp,{className:"danger-icon"}),"Danger Zone"]}),(0,z.jsx)("p",{className:"card-description",children:"Once you delete your account, there is no going back. This action will permanently delete your account and all associated data."}),(0,z.jsxs)("button",{onClick:()=>x(!0),className:"btn btn-danger btn-icon-left",children:[(0,z.jsx)(pp,{className:"btn-icon"}),"Delete Account"]})]}),w&&(0,z.jsxs)("div",{className:"danger-confirmation",children:[(0,z.jsx)("h3",{className:"danger-confirmation-title",children:"Are you absolutely sure?"}),(0,z.jsx)("p",{className:"danger-confirmation-text",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),(0,z.jsxs)("div",{className:"danger-actions",children:[(0,z.jsx)("button",{onClick:()=>_(!0),disabled:s,className:"btn btn-danger",children:s?"Deleting...":"Yes, delete my account"}),(0,z.jsx)("button",{onClick:()=>x(!1),disabled:s,className:"btn btn-secondary",children:"Cancel"})]})]}),S&&(0,z.jsxs)("div",{className:"danger-confirmation",children:[(0,z.jsx)("h3",{className:"danger-confirmation-title",children:"Confirm Your Password"}),(0,z.jsx)("p",{className:"danger-confirmation-text",children:"Please enter your password to confirm account deletion."}),(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("div",{className:"password-input-wrapper",children:[(0,z.jsx)("input",{type:k?"text":"password",value:A,onChange:e=>{D(e.target.value),q.deletePassword&&H((e=>(0,b.A)((0,b.A)({},e),{},{deletePassword:""})))},className:"form-input ".concat(q.deletePassword?"error":""),placeholder:"Enter your password"}),(0,z.jsx)("button",{type:"button",onClick:()=>O(!k),className:"password-toggle",children:k?(0,z.jsx)(dp,{size:20}):(0,z.jsx)(hp,{size:20})})]}),(0,z.jsx)("label",{className:"form-label",children:"Password *"}),q.deletePassword&&(0,z.jsx)("p",{className:"error-message",children:q.deletePassword}),q.deleteAccount&&(0,z.jsx)("p",{className:"error-message",children:q.deleteAccount})]}),(0,z.jsxs)("div",{className:"danger-actions",children:[(0,z.jsxs)("button",{onClick:async()=>{if(A.trim()){l(!0),H({});try{const t=F.j.currentUser;if(!t)throw new Error("No authenticated user found");console.log("\ud83d\udd10 Reauthenticating user...");const n=L.IX.credential(t.email,A);await(0,L.kZ)(t,n),console.log("\ud83d\uddd1\ufe0f Starting complete data deletion..."),await async function(e){const t=e.id,n=500,r=["timeseries","energyLogs","symptoms","activities","devices","recommendations","analytics","settings"];try{console.log("\ud83d\ude80 Starting complete deletion for user: ".concat(t));for(const e of r)await Q(e,t,n);return await async function(e){const t=(0,U.H9)(F.db,"users",e);(await(0,U.x7)(t)).exists()?(await(0,U.kd)(t),console.log("\u2705 User document deleted")):console.log("\u2139\ufe0f User document already deleted or does not exist")}(t),await async function(e,t){console.log("\ud83d\udd0d Verifying complete deletion...");const n=(0,U.H9)(F.db,"users",e);if((await(0,U.x7)(n)).exists())throw new Error("User document still exists after deletion");for(const r of t){const t=(0,U.P)((0,U.rJ)(F.db,r),(0,U._M)("userId","==",e),(0,U.AB)(1));if(!(await(0,U.GG)(t)).empty)throw new Error("Found remaining data in ".concat(r," collection"))}console.log("\u2705 Deletion verification completed - no remaining data found")}(t,r),console.log("\u2705 Complete user data deletion verified successfully"),{success:!0,message:"User data completely deleted"}}catch(i){throw console.error("\u274c Error during user deletion:",i),new Error("Failed to delete user data: ".concat(i.message))}}(c),console.log("\ud83e\uddf9 Clearing local storage..."),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("\ud83d\udd25 Deleting Firebase Auth account..."),await(0,L.hG)(t),console.log("\u2705 Firebase Auth user deleted successfully"),e("/login",{replace:!0,state:{message:"Your account has been successfully deleted."}})}catch(t){console.error("\u274c Error deleting account:",t),"auth/wrong-password"===t.code?H({deletePassword:"Incorrect password"}):"auth/requires-recent-login"===t.code?H({deletePassword:"Please log out and log back in before deleting your account"}):"auth/too-many-requests"===t.code?H({deletePassword:"Too many failed attempts. Please try again later."}):H({deleteAccount:"Failed to delete account: ".concat(t.message,". Please try again or contact support.")})}finally{l(!1)}}else H({deletePassword:"Password is required for account deletion"})},disabled:s||!A.trim(),className:"btn btn-danger btn-icon-left",children:[(0,z.jsx)(pp,{className:"btn-icon"}),s?"Deleting Account...":"Delete Account Permanently"]}),(0,z.jsx)("button",{onClick:()=>{_(!1),x(!1),D(""),H((e=>(0,b.A)((0,b.A)({},e),{},{deletePassword:"",deleteAccount:""})))},disabled:s,className:"btn btn-secondary",children:"Cancel"})]})]})]})]}),(0,z.jsx)("style",{jsx:!0,children:"\n        /* CSS Variables for consistent theming - EXACT MATCH TO REGISTRATION */\n        :root {\n          --primary-color: #3b82f6;\n          --primary-dark: #2563eb;\n          --primary-light: #dbeafe;\n          --secondary-color: #6b7280;\n          --success-color: #10b981;\n          --success-light: #d1fae5;\n          --error-color: #ef4444;\n          --error-light: #fee2e2;\n          --warning-color: #f59e0b;\n          --warning-light: #fef3c7;\n          --info-color: #06b6d4;\n          --info-light: #cffafe;\n          \n          --gray-50: #f8fafc;\n          --gray-100: #f1f5f9;\n          --gray-200: #e2e8f0;\n          --gray-300: #cbd5e1;\n          --gray-400: #94a3b8;\n          --gray-500: #64748b;\n          --gray-600: #475569;\n          --gray-700: #334155;\n          --gray-800: #1e293b;\n          --gray-900: #0f172a;\n          \n          --white: #ffffff;\n          --black: #000000;\n          \n          --border-radius: 0.375rem;\n          --border-radius-lg: 0.5rem;\n          --border-radius-xl: 0.75rem;\n          \n          --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n          --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);\n          --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);\n          --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);\n          --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);\n          \n          --transition: all 0.2s ease;\n          --transition-fast: all 0.15s ease;\n          --transition-slow: all 0.3s ease;\n        }\n\n        /* Reset and base styles */\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n\n        /* Main page layout with animated background - EXACT MATCH TO REGISTRATION */\n        .personal-settings-page {\n          min-height: 100vh;\n          background: linear-gradient(135deg, var(--primary-color) 0%, #2563eb 100%);\n          display: flex;\n          align-items: flex-start;\n          justify-content: center;\n          padding: 2rem 1rem;\n          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n          line-height: 1.5;\n          position: relative;\n          overflow: hidden;\n        }\n\n        /* Animated background elements - EXACT SAME AS REGISTRATION */\n        .bg-animation {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          overflow: hidden;\n          z-index: 0;\n        }\n\n        .floating-shape {\n          position: absolute;\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 50%;\n          animation: float 6s ease-in-out infinite;\n        }\n\n        .shape-1 {\n          width: 80px;\n          height: 80px;\n          top: 20%;\n          left: 10%;\n          animation-delay: 0s;\n        }\n\n        .shape-2 {\n          width: 120px;\n          height: 120px;\n          top: 60%;\n          right: 15%;\n          animation-delay: 2s;\n        }\n\n        .shape-3 {\n          width: 60px;\n          height: 60px;\n          top: 40%;\n          right: 25%;\n          animation-delay: 4s;\n        }\n\n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(180deg); }\n        }\n\n        /* Loading container */\n        .loading-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 50vh;\n          color: white;\n          text-align: center;\n          position: relative;\n          z-index: 2;\n        }\n\n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid rgba(255, 255, 255, 0.3);\n          border-top: 3px solid white;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin-bottom: 20px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        /* Settings container */\n        .settings-container {\n          max-width: 1000px;\n          margin: 0 auto;\n          width: 100%;\n          position: relative;\n          z-index: 1;\n        }\n\n        /* Enhanced header with logo - simplified to match registration */\n        .settings-header {\n          position: relative;\n          z-index: 2;\n          margin-bottom: 3rem;\n        }\n\n        .header-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 2rem;\n        }\n\n        .logout-btn {\n          background: rgba(255, 255, 255, 0.1) !important;\n          border-color: rgba(255, 255, 255, 0.3) !important;\n        }\n\n        .settings-title-section {\n          text-align: center;\n        }\n\n        .title-icon {\n          font-size: 3rem;\n          margin-bottom: 1rem;\n          animation: pulse 2s ease-in-out infinite;\n          filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));\n        }\n\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n\n        .settings-title {\n          font-size: 2.5rem;\n          font-weight: 700;\n          color: var(--white);\n          margin: 0 0 0.5rem 0;\n          letter-spacing: -0.025em;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          animation: slideInUp 0.8s ease-out;\n        }\n\n        .settings-subtitle {\n          font-size: 1.1rem;\n          color: rgba(255, 255, 255, 0.9);\n          margin: 0;\n          font-weight: 400;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          animation: slideInUp 0.8s ease-out 0.2s both;\n        }\n\n        @keyframes slideInUp {\n          from {\n            opacity: 0;\n            transform: translateY(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        /* Success message */\n        .success-message {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(20px);\n          border: 1px solid var(--success-color);\n          color: var(--success-color);\n          padding: 12px 20px;\n          border-radius: 12px;\n          margin-bottom: 2rem;\n          animation: slideDown 0.3s ease;\n          box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);\n        }\n\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .success-icon {\n          width: 20px;\n          height: 20px;\n        }\n\n        /* Enhanced main card with glassmorphism - EXACT MATCH TO REGISTRATION */\n        .settings-card {\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(20px);\n          border-radius: 24px;\n          padding: 2.5rem;\n          box-shadow: \n            0 8px 32px rgba(0, 0, 0, 0.1),\n            0 1px 0 rgba(255, 255, 255, 0.8) inset;\n          margin-bottom: 2rem;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          position: relative;\n          overflow: hidden;\n          animation: slideInUp 0.8s ease-out;\n        }\n\n        /* Rotating glow effect - EXACT SAME AS REGISTRATION */\n        .settings-card::before {\n          content: '';\n          position: absolute;\n          top: -50%;\n          left: -50%;\n          width: 200%;\n          height: 200%;\n          background: conic-gradient(from 0deg, transparent, rgba(59, 130, 246, 0.3), transparent);\n          animation: rotate 8s linear infinite;\n          opacity: 0.7;\n          z-index: 0;\n        }\n\n        @keyframes rotate {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .settings-card > * {\n          position: relative;\n          z-index: 2;\n        }\n\n        /* Danger card styling */\n        .danger-card {\n          border: 2px solid #fed7d7;\n        }\n\n        .danger-card::before {\n          background: conic-gradient(from 0deg, transparent, rgba(239, 68, 68, 0.3), transparent);\n        }\n\n        /* Card header */\n        .card-header {\n          margin-bottom: 2rem;\n          padding-bottom: 1.5rem;\n          border-bottom: 2px solid #f8f9fa;\n        }\n\n        .card-title {\n          font-size: 1.5rem;\n          font-weight: 600;\n          background: linear-gradient(135deg, var(--primary-color), #2563eb);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .danger-title {\n          background: linear-gradient(135deg, var(--error-color), #dc2626);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .danger-icon {\n          width: 24px;\n          height: 24px;\n          color: var(--error-color);\n        }\n\n        .card-description {\n          color: #718096;\n          margin: 0 0 1.5rem 0;\n          line-height: 1.6;\n        }\n\n        /* Enhanced form styles with floating labels - EXACT MATCH TO REGISTRATION */\n        .settings-form {\n          display: flex;\n          flex-direction: column;\n          gap: 1.5rem;\n        }\n\n        .form-grid {\n          display: grid;\n          gap: 1.5rem;\n        }\n\n        .form-grid.two-cols {\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          margin-bottom: 1.5rem;\n          transition: var(--transition);\n        }\n\n        .form-group:hover {\n          transform: translateY(-1px);\n        }\n\n        .form-group.focused {\n          transform: scale(1.02);\n        }\n\n        .form-label {\n          position: absolute;\n          left: 1rem;\n          top: 0.75rem;\n          color: var(--gray-500);\n          font-size: 0.875rem;\n          font-weight: 500;\n          transition: all 0.3s ease;\n          pointer-events: none;\n          background: var(--white);\n          padding: 0 0.25rem;\n          transform-origin: left;\n          z-index: 2;\n        }\n\n        .form-label.floating {\n          top: -0.5rem;\n          left: 0.75rem;\n          font-size: 0.75rem;\n          color: var(--primary-color);\n          font-weight: 600;\n          text-shadow: 0 1px 2px rgba(59, 130, 246, 0.2);\n          animation: labelFloat 0.3s ease forwards;\n        }\n\n        @keyframes labelFloat {\n          from {\n            top: 0.75rem;\n            font-size: 0.875rem;\n            color: var(--gray-500);\n          }\n          to {\n            top: -0.5rem;\n            font-size: 0.75rem;\n            color: var(--primary-color);\n          }\n        }\n\n        .form-group.focused .form-label {\n          color: var(--primary-color);\n        }\n\n        .form-group.has-content .form-label {\n          color: var(--primary-color);\n        }\n\n        .form-input,\n        .form-select,\n        .form-textarea {\n          padding: 1rem 0.75rem 0.5rem 0.75rem;\n          border: 2px solid var(--gray-300);\n          border-radius: var(--border-radius-lg);\n          font-size: 0.875rem;\n          transition: var(--transition-slow);\n          background: rgba(255, 255, 255, 0.8);\n          backdrop-filter: blur(10px);\n          position: relative;\n          z-index: 1;\n          color: var(--gray-900);\n        }\n\n        .form-input:focus,\n        .form-select:focus,\n        .form-textarea:focus {\n          outline: none;\n          border-color: var(--primary-color);\n          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);\n          background: rgba(255, 255, 255, 0.95);\n        }\n\n        .form-input::placeholder,\n        .form-textarea::placeholder {\n          color: transparent;\n        }\n\n        .form-input.disabled {\n          background: #f7fafc;\n          color: #a0aec0;\n          cursor: not-allowed;\n        }\n\n        .form-label-icon {\n          position: absolute;\n          left: 1rem;\n          top: 50%;\n          transform: translateY(-50%);\n          color: var(--gray-500);\n          z-index: 3;\n          transition: color var(--transition);\n          width: 1rem;\n          height: 1rem;\n        }\n\n        .form-group:has(.form-label-icon) .form-input,\n        .form-group:has(.form-label-icon) .form-select {\n          padding-left: 2.75rem;\n        }\n\n        .form-group:has(.form-label-icon) .form-label {\n          left: 2.75rem;\n        }\n\n        .form-group:has(.form-label-icon) .form-label.floating {\n          left: 0.75rem;\n        }\n\n        .form-group.focused .form-label-icon,\n        .form-group.has-content .form-label-icon {\n          color: var(--primary-color);\n        }\n\n        .form-input.error,\n        .form-select.error,\n        .form-textarea.error {\n          border-color: var(--error-color);\n          box-shadow: 0 0 0 4px var(--error-light);\n          animation: shake 0.5s ease-in-out;\n        }\n\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-5px); }\n          75% { transform: translateX(5px); }\n        }\n\n        .form-textarea {\n          resize: vertical;\n          min-height: 100px;\n          font-family: inherit;\n        }\n\n        .form-select {\n          appearance: none;\n          background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e\");\n          background-position: right 0.5rem center;\n          background-repeat: no-repeat;\n          background-size: 1.5em 1.5em;\n          padding-right: 2.5rem;\n        }\n\n        .input-hint {\n          font-size: 12px;\n          color: #a0aec0;\n          margin: 4px 0 0;\n        }\n\n        /* Password input wrapper */\n        .password-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n\n        .password-input-wrapper .form-input {\n          padding-right: 3rem;\n          width: 100%;\n        }\n\n        .password-toggle {\n          position: absolute;\n          right: 12px;\n          top: 50%;\n          transform: translateY(-50%);\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #a0aec0;\n          padding: 4px;\n          z-index: 3;\n        }\n\n        /* Enhanced symptoms grid - EXACT MATCH TO REGISTRATION */\n        .symptoms-section {\n          width: 100%;\n          margin: 1.5rem 0;\n          animation: slideInUp 0.6s ease-out;\n        }\n\n        .symptoms-section .form-label {\n          position: static;\n          margin-bottom: 1rem;\n          font-size: 0.875rem;\n          font-weight: 600;\n          color: var(--gray-700);\n          background: none;\n          padding: 0;\n        }\n\n        .symptoms-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n          margin-top: 1rem;\n          padding: 0;\n        }\n\n        .symptom-checkbox {\n          display: flex;\n          align-items: center;\n          padding: 0.75rem 1rem;\n          border: 2px solid var(--gray-300);\n          border-radius: 12px;\n          cursor: pointer;\n          transition: var(--transition-slow);\n          background: rgba(255, 255, 255, 0.8);\n          backdrop-filter: blur(10px);\n          position: relative;\n          min-height: 3rem;\n          width: 100%;\n          box-sizing: border-box;\n          animation: slideInUp 0.6s ease-out;\n          animation-fill-mode: both;\n        }\n\n        .symptom-checkbox:nth-child(1) { animation-delay: 0.1s; }\n        .symptom-checkbox:nth-child(2) { animation-delay: 0.2s; }\n        .symptom-checkbox:nth-child(3) { animation-delay: 0.3s; }\n        .symptom-checkbox:nth-child(4) { animation-delay: 0.4s; }\n        .symptom-checkbox:nth-child(5) { animation-delay: 0.5s; }\n        .symptom-checkbox:nth-child(6) { animation-delay: 0.6s; }\n        .symptom-checkbox:nth-child(7) { animation-delay: 0.7s; }\n        .symptom-checkbox:nth-child(8) { animation-delay: 0.8s; }\n        .symptom-checkbox:nth-child(9) { animation-delay: 0.9s; }\n        .symptom-checkbox:nth-child(10) { animation-delay: 1.0s; }\n        .symptom-checkbox:nth-child(11) { animation-delay: 1.1s; }\n\n        .symptom-checkbox:hover {\n          border-color: var(--primary-color);\n          background: var(--primary-light);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 16px rgba(59, 130, 246, 0.2);\n        }\n\n        .symptom-checkbox.selected {\n          border-color: var(--primary-color);\n          background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\n          color: var(--white);\n          box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);\n          transform: translateY(-2px) scale(1.02);\n          animation: selectBounce 0.3s ease-out;\n        }\n\n        @keyframes selectBounce {\n          0% { transform: translateY(-2px) scale(1); }\n          50% { transform: translateY(-4px) scale(1.05); }\n          100% { transform: translateY(-2px) scale(1.02); }\n        }\n\n        .symptom-checkbox-input {\n          margin: 0 0.75rem 0 0;\n          accent-color: var(--primary-color);\n          width: 1.125rem;\n          height: 1.125rem;\n          flex-shrink: 0;\n          cursor: pointer;\n        }\n\n        .symptom-checkbox.selected .symptom-checkbox-input {\n          accent-color: var(--white);\n        }\n\n        .symptom-checkbox-text {\n          font-size: 0.875rem;\n          color: var(--gray-700);\n          font-weight: 500;\n          line-height: 1.3;\n          flex: 1;\n          cursor: pointer;\n          user-select: none;\n        }\n\n        .symptom-checkbox.selected .symptom-checkbox-text {\n          color: var(--white);\n          font-weight: 600;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n        }\n\n        /* Enhanced buttons - EXACT MATCH TO REGISTRATION */\n        .btn {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.5rem;\n          padding: 0.75rem 1.5rem;\n          border-radius: var(--border-radius-lg);\n          font-weight: 500;\n          font-size: 0.875rem;\n          transition: var(--transition-slow);\n          cursor: pointer;\n          border: 1px solid transparent;\n          text-decoration: none;\n          min-height: 2.5rem;\n          position: relative;\n          overflow: hidden;\n          backdrop-filter: blur(10px);\n        }\n\n        .btn::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n          transition: left 0.5s ease;\n        }\n\n        .btn:hover:not(:disabled)::before {\n          left: 100%;\n        }\n\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));\n          color: var(--white);\n          border-color: var(--primary-color);\n          box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);\n        }\n\n        .btn-primary:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);\n        }\n\n        .btn-primary:focus:not(:disabled) {\n          outline: none;\n          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.25);\n        }\n\n        .btn-secondary {\n          background: rgba(255, 255, 255, 0.8);\n          color: var(--gray-700);\n          border-color: var(--gray-300);\n        }\n\n        .btn-secondary:hover:not(:disabled) {\n          background: rgba(255, 255, 255, 0.95);\n          border-color: var(--gray-400);\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n        }\n\n        .btn-danger {\n          background: linear-gradient(135deg, var(--error-color), #dc2626);\n          color: var(--white);\n          border-color: var(--error-color);\n          box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3);\n        }\n\n        .btn-danger:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(239, 68, 68, 0.4);\n        }\n\n        .btn-icon {\n          width: 1rem;\n          height: 1rem;\n        }\n\n        .btn-icon-left {\n          flex-direction: row;\n        }\n\n        /* Danger confirmation */\n        .danger-confirmation {\n          background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));\n          border: 1px solid rgba(239, 68, 68, 0.3);\n          border-radius: 16px;\n          padding: 1.5rem;\n          margin-top: 1.5rem;\n          backdrop-filter: blur(10px);\n          animation: slideInUp 0.4s ease-out;\n        }\n\n        .danger-confirmation-title {\n          color: var(--error-color);\n          margin: 0 0 1rem 0;\n          font-size: 1.125rem;\n          font-weight: 600;\n        }\n\n        .danger-confirmation-text {\n          color: #744210;\n          margin: 0 0 1.5rem 0;\n          line-height: 1.6;\n        }\n\n        .danger-actions {\n          display: flex;\n          gap: 1rem;\n          flex-wrap: wrap;\n        }\n\n        /* Enhanced error messages */\n        .error-message {\n          color: var(--error-color);\n          font-size: 0.875rem;\n          margin-top: 0.5rem;\n          display: flex;\n          align-items: center;\n          gap: 0.25rem;\n          animation: shake 0.5s ease-in-out;\n        }\n\n        .error-message-box {\n          background: #fed7d7;\n          border: 1px solid #feb2b2;\n          color: #c53030;\n          padding: 12px 16px;\n          border-radius: 8px;\n          font-size: 14px;\n          margin-top: 1rem;\n        }\n\n        /* Enhanced responsive design */\n        @media (max-width: 768px) {\n          .personal-settings-page {\n            padding: 1rem 0.5rem;\n          }\n          \n          .settings-title {\n            font-size: 2rem;\n          }\n          \n          .settings-card {\n            padding: 2rem 1.5rem;\n            border-radius: 20px;\n          }\n          \n          .card-title {\n            font-size: 1.25rem;\n          }\n          \n          .symptoms-grid {\n            grid-template-columns: 1fr;\n            gap: 0.75rem;\n          }\n          \n          .symptom-checkbox {\n            padding: 0.625rem 0.875rem;\n            min-height: 2.75rem;\n          }\n          \n          .form-grid.two-cols {\n            grid-template-columns: 1fr;\n          }\n          \n          .header-actions {\n            flex-direction: column;\n            gap: 1rem;\n          }\n          \n          .header-actions .btn {\n            width: 100%;\n          }\n          \n          .danger-actions {\n            flex-direction: column;\n          }\n          \n          .danger-actions .btn {\n            width: 100%;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .settings-title {\n            font-size: 1.75rem;\n          }\n          \n          .settings-card {\n            padding: 1.5rem 1rem;\n            border-radius: 16px;\n          }\n          \n          .card-title {\n            font-size: 1.125rem;\n          }\n          \n          .symptoms-grid {\n            gap: 0.5rem;\n          }\n          \n          .symptom-checkbox {\n            padding: 0.5rem 0.75rem;\n            min-height: 2.5rem;\n            border-radius: 8px;\n          }\n          \n          .symptom-checkbox-input {\n            width: 1rem;\n            height: 1rem;\n            margin-right: 0.5rem;\n          }\n          \n          .symptom-checkbox-text {\n            font-size: 0.8125rem;\n          }\n        }\n\n        /* Focus visible for better accessibility */\n        .form-input:focus-visible,\n        .form-select:focus-visible,\n        .form-textarea:focus-visible,\n        .btn:focus-visible,\n        .symptom-checkbox:focus-visible {\n          outline: 2px solid var(--primary-color);\n          outline-offset: 2px;\n        }\n\n        /* High contrast mode support */\n        @media (prefers-contrast: high) {\n          :root {\n            --primary-color: #0000ff;\n            --success-color: #008000;\n            --error-color: #ff0000;\n            --gray-600: #000000;\n            --gray-700: #000000;\n            --gray-900: #000000;\n          }\n          \n          .settings-card {\n            border-width: 2px;\n          }\n          \n          .form-input,\n          .form-select,\n          .form-textarea {\n            border-width: 2px;\n          }\n        }\n\n        /* Reduced motion support */\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n          }\n          \n          .personal-settings-page::before,\n          .personal-settings-page::after {\n            animation: none;\n          }\n          \n          .btn:hover,\n          .symptom-checkbox:hover {\n            transform: none;\n          }\n        }\n      "})]})},yp=S("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vp=S("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bp=S("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wp=()=>{var e,n,r;const i=(0,o.Zp)(),[a,s]=(0,t.useState)((new Date).toISOString().split("T")[0]),[l,c]=(0,t.useState)({}),[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[v,w]=(0,t.useState)("synced"),[x,S]=(0,t.useState)(!0),[E,_]=(0,t.useState)(null),[k,O]=(0,t.useState)(null),[T,j]=(0,t.useState)({}),[C,N]=(0,t.useState)(!1),[I,P]=(0,t.useState)(null),D=(0,t.useRef)(!1),M=(0,t.useRef)(null),R=(0,t.useMemo)((()=>[{value:0,label:"None",color:"#f3f4f6",textColor:"#6b7280"},{value:1,label:"Mild",color:"#dbeafe",textColor:"#1e40af"},{value:2,label:"Mild-Moderate",color:"#a5b4fc",textColor:"#312e81"},{value:3,label:"Moderate",color:"#c084fc",textColor:"#581c87"},{value:4,label:"Moderate-Severe",color:"#f472b6",textColor:"#831843"},{value:5,label:"Severe",color:"#fca5a5",textColor:"#7f1d1d"}]),[]),L=(0,t.useMemo)((()=>({neurological:{title:"Neurological",icon:"\ud83e\udde0",symptoms:{brain_fog:{name:"Brain Fog",description:"Difficulty concentrating, memory issues"},headache:{name:"Headache",description:"Head pain, pressure, tension"},dizziness:{name:"Dizziness",description:"Lightheadedness, vertigo"}}},energy:{title:"Energy & Fatigue",icon:"\u26a1",symptoms:{fatigue:{name:"General Fatigue",description:"Overall tiredness, lack of energy"},pem:{name:"Post-Exertional Malaise",description:"Worsening after activity"},sleep_issues:{name:"Sleep Problems",description:"Insomnia, poor sleep quality"}}},cardiovascular:{title:"Cardiovascular",icon:"\u2764\ufe0f",symptoms:{pots:{name:"POTS Symptoms",description:"Heart rate spikes when standing"},chest_pain:{name:"Chest Pain",description:"Chest discomfort, tightness"},palpitations:{name:"Heart Palpitations",description:"Irregular heartbeat"}}},custom:{title:"Custom Symptoms",icon:"\ud83d\udcdd",symptoms:{}}})),[]),B=(0,t.useMemo)((()=>{const e=(0,b.A)({},L);return e.custom.symptoms=(0,b.A)({},u),e}),[L,u]),V=(0,t.useCallback)((e=>{var t;return(null===(t=T[e])||void 0===t?void 0:t.active)||!1}),[T]),q=(0,t.useCallback)((e=>{const t=T[e];if(!t||!t.active)return 0;const n=new Date(t.startDate),r=new Date,i=Math.abs(r-n);return Math.ceil(i/864e5)}),[T]),H=(0,t.useCallback)((e=>{const t=R[e]||R[0];return{background:t.color,text:t.textColor}}),[R]),W=(0,t.useCallback)(((e,t)=>{j((n=>(0,b.A)((0,b.A)({},n),{},{[e]:(0,b.A)((0,b.A)((0,b.A)({},n[e]),t),{},{lastUpdated:(new Date).toLocaleDateString()})})))}),[]),G=(0,t.useCallback)((e=>{j((t=>(0,b.A)((0,b.A)({},t),{},{[e]:(0,b.A)((0,b.A)({},t[e]),{},{active:!1,endDate:(new Date).toISOString().split("T")[0],lastUpdated:(new Date).toLocaleDateString()})}))),I===e&&(N(!1),P(null))}),[I]),K=(0,t.useCallback)((async(e,t)=>{if(!D.current)try{D.current=!0,w("pending");const n=JSON.parse(localStorage.getItem("userData")||"{}").id;if(!n)throw new Error("No user ID found");const r=(0,U.H9)(F.db,"users",n,"symptomData",e);await(0,U.BN)(r,(0,b.A)((0,b.A)({},t),{},{lastUpdated:(new Date).toISOString(),userId:n}));const i=(0,U.H9)(F.db,"users",n,"settings","customSymptoms");await(0,U.BN)(i,{symptoms:u,lastUpdated:(new Date).toISOString(),userId:n});const o=(0,U.H9)(F.db,"users",n,"settings","ongoingSymptoms");await(0,U.BN)(o,{symptoms:T,lastUpdated:(new Date).toISOString(),userId:n}),_((new Date).toISOString()),w("synced")}catch(k){console.error("Error saving to Firestore:",k),O("Failed to save data: ".concat(k.message)),w("error")}finally{D.current=!1}}),[u,T]),Q=(0,t.useCallback)((async()=>{S(!0);try{const e=JSON.parse(localStorage.getItem("userData")||"{}").id;if(!e)throw new Error("No user ID found");const t=(0,U.H9)(F.db,"users",e,"settings","customSymptoms"),n=await(0,U.x7)(t);let r={};n.exists()&&(r=n.data().symptoms||{});const i=(0,U.H9)(F.db,"users",e,"settings","ongoingSymptoms"),o=await(0,U.x7)(i);let s={};o.exists()&&(s=o.data().symptoms||{});const l=(0,U.H9)(F.db,"users",e,"symptomData",a),u=await(0,U.x7)(l);let h={};u.exists()&&(h[a]=u.data());const f=[];for(let a=1;a<=30;a++){const t=new Date;t.setDate(t.getDate()-a);const n=t.toISOString().split("T")[0],r=(0,U.H9)(F.db,"users",e,"symptomData",n);f.push((0,U.x7)(r).then((e=>e.exists()?{date:n,data:e.data()}:null)).catch((e=>(console.warn("Failed to load data for ".concat(n,":"),e),null))))}(await Promise.allSettled(f)).forEach((e=>{"fulfilled"===e.status&&e.value&&(h[e.value.date]=e.value.data)})),c(h),d(r),j(s),_((new Date).toISOString()),w("synced")}catch(k){console.error("Error loading from Firestore:",k),O("Failed to load symptom data: ".concat(k.message)),w("error");try{const e=JSON.parse(localStorage.getItem("symptomTrackerData")||"{}"),t=JSON.parse(localStorage.getItem("customSymptoms")||"{}"),n=JSON.parse(localStorage.getItem("ongoingSymptoms")||"{}");c(e),d(t),j(n),console.log("Loaded data from localStorage as fallback")}catch(e){console.error("Failed to load from localStorage fallback:",e)}}finally{S(!1)}}),[a]),Y=(0,t.useCallback)((async e=>{try{const t=JSON.parse(localStorage.getItem("userData")||"{}").id;if(!t)return;if(l[e])return;const n=(0,U.H9)(F.db,"users",t,"symptomData",e),r=await(0,U.x7)(n);r.exists()&&c((t=>(0,b.A)((0,b.A)({},t),{},{[e]:r.data()})))}catch(k){console.error("Error loading data for ".concat(e,":"),k)}}),[l]);(0,t.useEffect)((()=>{Y(a)}),[a,Y]);const X=(0,t.useCallback)(((e,t)=>{M.current&&clearTimeout(M.current),M.current=setTimeout((()=>{D.current||K(e,t)}),1e3)}),[K]);(0,t.useEffect)((()=>{Q()}),[Q]),(0,t.useEffect)((()=>(JSON.parse(localStorage.getItem("userData")||"{}").id&&l[a]&&!D.current&&X(a,l[a]),()=>{M.current&&clearTimeout(M.current)})),[l,a,X]);const $=(0,t.useCallback)((()=>l[a]||{symptoms:{},notes:"",overallWellbeing:3,timestamp:(new Date).toISOString()}),[l,a]),J=(0,t.useCallback)((e=>{const t=$().symptoms[e];return t?Array.isArray(t)?t:"object"===typeof t&&void 0!==t.severity?[{id:Date.now().toString(),severity:t.severity||0,startTime:t.startTime||"",duration:t.duration||"",triggers:t.triggers||[],timestamp:t.timestamp||(new Date).toISOString()}]:[]:[]}),[$]),Z=(0,t.useCallback)((e=>{const t=$(),n=(0,b.A)((0,b.A)((0,b.A)({},t),e),{},{timestamp:(new Date).toISOString()});c((e=>(0,b.A)((0,b.A)({},e),{},{[a]:n})))}),[a,$]),ee=(0,t.useCallback)((e=>{const t=$(),n=J(e),r={id:Date.now().toString(),severity:1,startTime:(new Date).toTimeString().slice(0,5),duration:"",triggers:[],timestamp:(new Date).toISOString()};Z({symptoms:(0,b.A)((0,b.A)({},t.symptoms),{},{[e]:[...n,r]})})}),[$,J,Z]),te=(0,t.useCallback)(((e,t,n)=>{const r=$(),i=J(e).map((e=>e.id===t?(0,b.A)((0,b.A)({},e),n):e));Z({symptoms:(0,b.A)((0,b.A)({},r.symptoms),{},{[e]:i})})}),[$,J,Z]),ne=(0,t.useCallback)(((e,t)=>{const n=$(),r=J(e).filter((e=>e.id!==t));Z({symptoms:(0,b.A)((0,b.A)({},n.symptoms),{},{[e]:r})})}),[$,J,Z]),re=(0,t.useCallback)((e=>{Z({overallWellbeing:e})}),[Z]),ie=(0,t.useCallback)((e=>{Z({notes:e})}),[Z]),oe=(0,t.useCallback)((()=>{if(!p.trim())return;const e=p.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),t={name:p.trim(),description:g.trim()||"Custom symptom",isCustom:!0};d((n=>(0,b.A)((0,b.A)({},n),{},{[e]:t}))),m(""),y(""),f(!1)}),[p,g]),ae=(0,t.useCallback)((e=>{d((t=>{const n=(0,b.A)({},t);return delete n[e],n})),c((t=>{const n=(0,b.A)({},t);return Object.keys(n).forEach((t=>{if(n[t].symptoms[e]){const r=(0,b.A)({},n[t]);delete r.symptoms[e],n[t]=r}})),n}))}),[]),se=(0,t.useCallback)((async()=>{console.log("Logout clicked - starting complete logout process");try{console.log("Clearing localStorage userData"),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("Cleared sessionStorage"),console.log("Complete logout finished, navigating to login..."),i("/login",{replace:!0})}catch(k){console.error("Error during logout:",k),localStorage.removeItem("userData"),sessionStorage.clear(),i("/login",{replace:!0})}}),[i]),le=(0,t.useCallback)((()=>{i("/dashboard")}),[i]),ce=(0,t.useCallback)((async()=>{Q()}),[Q]),ue=(0,t.useMemo)((()=>{const e={synced:{icon:"\u2705",text:"Synced",color:"#059669"},pending:{icon:"\u23f3",text:"Syncing...",color:"#d97706"},error:{icon:"\u274c",text:"Sync Error",color:"#dc2626"}}[v];return(0,z.jsxs)("div",{className:"sync-status",style:{color:e.color},children:[(0,z.jsx)("span",{children:e.icon}),(0,z.jsx)("span",{children:e.text}),E&&"synced"===v&&(0,z.jsx)("span",{className:"sync-time",children:new Date(E).toLocaleTimeString()}),"error"===v&&(0,z.jsx)("button",{onClick:ce,className:"retry-btn",children:"Retry"})]})}),[v,E,ce]),de=t.memo((e=>{let{symptomId:t,symptom:n,categoryKey:r}=e;const i=J(t)||[],o=i.length>0,a=o?Math.max(...i.map((e=>e.severity||0))):0,s=R[a];return(0,z.jsxs)("div",{className:"symptom-card",children:[n.isCustom&&(0,z.jsx)("button",{onClick:()=>ae(t),className:"delete-custom-btn",title:"Remove custom symptom",children:(0,z.jsx)(yp,{size:12})}),(0,z.jsxs)("div",{className:"symptom-header",children:[(0,z.jsx)("h4",{className:"symptom-name",children:n.name}),V(t)&&(0,z.jsx)("span",{className:"ongoing-badge",children:"ONGOING"})]}),(0,z.jsxs)("div",{className:"symptom-description",children:[n.description,n.isCustom&&(0,z.jsx)("span",{className:"custom-badge",children:"Custom"})]}),o&&(0,z.jsxs)("div",{className:"severity-badge",style:{background:s.color,color:s.textColor},children:["Max: ",s.label," (",a,") \u2022 ",i.length," instance",1!==i.length?"s":""]}),i.map(((e,n)=>(0,z.jsx)(he,{instance:e,instanceIndex:n,symptomId:t,onUpdate:te,onRemove:ne,severityLevels:R},e.id))),(0,z.jsxs)("button",{onClick:()=>ee(t),className:"add-instance-btn",children:[(0,z.jsx)(vp,{size:16}),0===i.length?"Log this symptom":"Add another instance"]})]})})),he=t.memo((e=>{let{instance:n,instanceIndex:r,symptomId:i,onUpdate:o,onRemove:a,severityLevels:s}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(n.startTime||""),[p,m]=(0,t.useState)(n.duration||""),g=s[n.severity];t.useEffect((()=>{f(n.startTime||""),m(n.duration||"")}),[n.startTime,n.duration]);const y=(0,t.useCallback)((e=>{o(i,n.id,{severity:e})}),[i,n.id,o]),v=(0,t.useCallback)((e=>{const t="increase"===e?Math.min(n.severity+1,5):Math.max(n.severity-1,0);o(i,n.id,{severity:t})}),[i,n.id,n.severity,o]),b=(0,t.useCallback)((()=>{o(i,n.id,{startTime:h})}),[i,n.id,h,o]),w=(0,t.useCallback)((()=>{o(i,n.id,{duration:p})}),[i,n.id,p,o]),x=(0,t.useCallback)((e=>{if(e.preventDefault(),u.trim()){const e=n.triggers||[];o(i,n.id,{triggers:[...e,u.trim()]}),d("")}}),[i,n.id,u,n.triggers,o]),S=(0,t.useCallback)((e=>{const t=(n.triggers||[]).filter(((t,n)=>n!==e));o(i,n.id,{triggers:t})}),[i,n.id,n.triggers,o]);return(0,z.jsxs)("div",{className:"symptom-instance",children:[(0,z.jsxs)("div",{className:"instance-header",children:[(0,z.jsxs)("div",{className:"instance-time-info",children:[(0,z.jsx)(bp,{size:14}),(0,z.jsx)("span",{className:"instance-time",children:n.startTime||"No time set"}),n.duration&&(0,z.jsx)("span",{className:"instance-duration",children:n.duration})]}),(0,z.jsx)("button",{onClick:()=>a(i,n.id),className:"remove-instance-btn",title:"Remove this instance",children:(0,z.jsx)(yp,{size:16})})]}),(0,z.jsxs)("div",{className:"instance-severity-badge",style:{background:g.color,color:g.textColor},children:[g.label," (",n.severity,")"]}),(0,z.jsxs)("div",{className:"severity-controls",children:[(0,z.jsx)("button",{onClick:()=>v("decrease"),disabled:0===n.severity,className:"severity-adjust-btn ".concat(0===n.severity?"disabled":""),children:"\u2796"}),(0,z.jsx)("div",{className:"severity-dots",children:[1,2,3,4,5].map((e=>(0,z.jsx)("div",{onClick:()=>y(e),className:"severity-dot ".concat(e<=n.severity?"active":"")},e)))}),(0,z.jsx)("button",{onClick:()=>v("increase"),disabled:5===n.severity,className:"severity-adjust-btn ".concat(5===n.severity?"disabled":""),children:"\u2795"})]}),n.severity>0&&(0,z.jsx)("button",{onClick:()=>c(!l),className:"details-toggle-btn",children:l?"\ud83d\udccb Hide Details":"\ud83d\udccb Add Details"}),l&&n.severity>0&&(0,z.jsxs)("div",{className:"instance-details",children:[(0,z.jsxs)("div",{className:"detail-field",children:[(0,z.jsx)("label",{className:"detail-label",children:"Start Time"}),(0,z.jsx)("input",{type:"time",value:h,onChange:e=>f(e.target.value),onBlur:b,className:"detail-input"})]}),(0,z.jsxs)("div",{className:"detail-field",children:[(0,z.jsx)("label",{className:"detail-label",children:"Duration"}),(0,z.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),onBlur:w,placeholder:"e.g., 2 hours, 30 minutes",className:"detail-input"})]}),(0,z.jsxs)("div",{className:"detail-field",children:[(0,z.jsx)("label",{className:"detail-label",children:"Triggers"}),n.triggers&&n.triggers.length>0&&(0,z.jsx)("div",{className:"triggers-list",children:n.triggers.map(((e,t)=>(0,z.jsxs)("div",{className:"trigger-item",children:[(0,z.jsx)("span",{children:e}),(0,z.jsx)("button",{onClick:()=>S(t),className:"remove-trigger-btn",children:"\u2715"})]},t)))}),(0,z.jsxs)("form",{onSubmit:x,className:"add-trigger-form",children:[(0,z.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Add trigger",className:"trigger-input"}),(0,z.jsx)("button",{type:"submit",disabled:!u.trim(),className:"add-trigger-btn ".concat(u.trim()?"":"disabled"),children:"Add"})]})]})]})]})})),fe=t.memo((()=>{const e=(0,t.useCallback)((()=>{f(!1),m(""),y("")}),[]),n=(0,t.useCallback)((e=>{e.preventDefault(),oe()}),[]);return h?(0,z.jsx)("div",{className:"modal-overlay",children:(0,z.jsxs)("div",{className:"modal-content",children:[(0,z.jsxs)("div",{className:"modal-header",children:[(0,z.jsx)("h3",{className:"modal-title",children:"Add Custom Symptom"}),(0,z.jsx)("button",{onClick:e,className:"modal-close-btn",children:(0,z.jsx)(yp,{size:20})})]}),(0,z.jsxs)("form",{onSubmit:n,children:[(0,z.jsxs)("div",{className:"form-field",children:[(0,z.jsx)("label",{className:"form-label",children:"Symptom Name *"}),(0,z.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"e.g., Joint Pain, Nausea, Tinnitus",autoFocus:!0,className:"form-input"})]}),(0,z.jsxs)("div",{className:"form-field",children:[(0,z.jsx)("label",{className:"form-label",children:"Description (optional)"}),(0,z.jsx)("textarea",{value:g,onChange:e=>y(e.target.value),placeholder:"Describe the symptom to help with tracking...",className:"form-textarea"})]}),(0,z.jsxs)("div",{className:"modal-actions",children:[(0,z.jsx)("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),(0,z.jsx)("button",{type:"submit",disabled:!p.trim(),className:"btn-primary ".concat(p.trim()?"":"disabled"),children:"Add Symptom"})]})]})]})}):null}));if(x)return(0,z.jsx)("div",{className:"loading-container",children:(0,z.jsxs)("div",{className:"loading-content",children:[(0,z.jsx)("div",{className:"spinner"}),(0,z.jsx)("p",{className:"loading-text",children:"Loading symptom tracker..."})]})});const pe=JSON.parse(localStorage.getItem("userData")||"{}").id;if(k&&!pe)return(0,z.jsx)("div",{className:"error-container",children:(0,z.jsxs)("div",{className:"error-content",children:[(0,z.jsx)(A,{size:48,className:"error-icon"}),(0,z.jsx)("p",{className:"error-message",children:k}),(0,z.jsx)("button",{onClick:()=>i("/dashboard"),className:"btn-primary",children:"Return to Dashboard"})]})});const me=$();return(0,z.jsxs)("div",{className:"tracker-container",children:[(0,z.jsxs)("div",{className:"tracker-content",children:[(0,z.jsxs)("div",{className:"bg-animation",children:[(0,z.jsx)("div",{className:"card-glow"}),"  ",(0,z.jsx)("div",{className:"floating-shape shape-1"}),(0,z.jsx)("div",{className:"floating-shape shape-2"}),(0,z.jsx)("div",{className:"floating-shape shape-3"}),(0,z.jsx)("div",{className:"floating-shape shape-4"}),(0,z.jsx)("div",{className:"floating-shape shape-5"}),(0,z.jsx)("div",{className:"floating-shape shape-6"})]}),(0,z.jsxs)("div",{className:"header",children:[(0,z.jsxs)("div",{className:"header-left",children:[(0,z.jsx)("h1",{className:"main-title",children:"Long COVID Symptom Tracker"}),(0,z.jsxs)("div",{className:"header-info",children:[(0,z.jsxs)("span",{className:"current-date",children:["\ud83d\udcc5 ",new Date(a).toLocaleDateString()]}),ue]})]}),(0,z.jsxs)("div",{className:"header-actions",children:[(0,z.jsxs)("button",{onClick:()=>f(!0),className:"btn-primary header-btn",children:[(0,z.jsx)(vp,{size:16}),"Add Symptom"]}),(0,z.jsx)("button",{onClick:le,className:"btn-secondary header-btn",children:"\ud83c\udfe0 Dashboard"}),(0,z.jsx)("button",{onClick:se,className:"btn-danger header-btn",children:"Logout"})]})]}),(0,z.jsxs)("div",{className:"date-navigation",children:[(0,z.jsx)("button",{onClick:()=>{const e=new Date(a);e.setDate(e.getDate()-1),s(e.toISOString().split("T")[0])},className:"date-nav-btn",children:"\u2190 Previous Day"}),(0,z.jsx)("input",{type:"date",value:a,onChange:e=>s(e.target.value),max:(new Date).toISOString().split("T")[0],className:"date-input"}),(0,z.jsx)("button",{onClick:()=>{const e=new Date(a);e<new Date&&(e.setDate(e.getDate()+1),s(e.toISOString().split("T")[0]))},disabled:a===(new Date).toISOString().split("T")[0],className:"date-nav-btn ".concat(a===(new Date).toISOString().split("T")[0]?"disabled":""),children:"Next Day \u2192"})]}),Object.keys(T).filter((e=>T[e].active)).length>0&&(0,z.jsxs)("div",{className:"ongoing-symptoms-section",children:[(0,z.jsxs)("h3",{className:"ongoing-title",children:[(0,z.jsx)(bp,{size:20}),"Ongoing Symptoms"]}),(0,z.jsx)("div",{className:"ongoing-symptoms-list",children:Object.entries(T).filter((e=>{let[t,n]=e;return n.active})).map((e=>{let[t,n]=e;const r=Object.values(B).reduce(((e,t)=>(0,b.A)((0,b.A)({},e),t.symptoms)),{})[t],i=q(t);return(0,z.jsxs)("div",{className:"ongoing-symptom-item",children:[(0,z.jsxs)("div",{className:"ongoing-symptom-info",children:[(0,z.jsxs)("div",{className:"ongoing-symptom-header",children:[(0,z.jsx)("span",{className:"ongoing-symptom-name",children:(null===r||void 0===r?void 0:r.name)||t}),(0,z.jsxs)("span",{className:"ongoing-severity-badge",style:{background:H(n.currentSeverity).background,color:H(n.currentSeverity).text},children:["Severity ",n.currentSeverity]})]}),(0,z.jsxs)("div",{className:"ongoing-symptom-details",children:["Started ",n.startDate," \u2022 Day ",i," \u2022 Last updated ",n.lastUpdated]})]}),(0,z.jsxs)("div",{className:"ongoing-symptom-actions",children:[(0,z.jsx)("button",{onClick:()=>{P(t),N(!0)},className:"btn-update",children:"Update"}),(0,z.jsx)("button",{onClick:()=>G(t),className:"btn-resolve",children:"Mark Resolved"})]})]},t)}))})]}),(0,z.jsxs)("div",{className:"wellbeing-section",children:[(0,z.jsx)("h3",{className:"wellbeing-title",children:"\ud83c\udf1f Overall Wellbeing Today"}),(0,z.jsxs)("div",{className:"wellbeing-controls",children:[(0,z.jsx)("span",{className:"wellbeing-label",children:"Very Poor"}),(0,z.jsx)("div",{className:"wellbeing-rating",children:[1,2,3,4,5].map((e=>{const t=me.overallWellbeing||3;return(0,z.jsx)("button",{onClick:()=>re(e),className:"wellbeing-btn ".concat(e<=t?"active":""),children:e},e)}))}),(0,z.jsx)("span",{className:"wellbeing-label",children:"Excellent"})]})]}),Object.entries(B).map((e=>{let[t,n]=e;return"custom"===t&&0===Object.keys(n.symptoms).length?null:(0,z.jsxs)("div",{className:"category-section",children:[(0,z.jsxs)("h2",{className:"category-title",children:[(0,z.jsx)("span",{className:"category-icon",children:n.icon}),n.title,"custom"===t&&(0,z.jsxs)("span",{className:"custom-count-badge",children:[Object.keys(n.symptoms).length," custom"]})]}),(0,z.jsx)("div",{className:"symptoms-grid",children:Object.entries(n.symptoms).map((e=>{let[n,r]=e;return(0,z.jsx)(de,{symptomId:n,symptom:r,categoryKey:t},"".concat(n,"-").concat(a))}))})]},t)})),(0,z.jsxs)("div",{className:"notes-section",children:[(0,z.jsx)("h3",{className:"notes-title",children:"\ud83d\udcdd Daily Notes"}),(0,z.jsx)("textarea",{value:me.notes||"",onChange:e=>ie(e.target.value),placeholder:"How are you feeling today? Any additional observations, triggers, or patterns you've noticed...",className:"notes-textarea"})]}),k&&(0,z.jsxs)("div",{className:"error-display",children:[(0,z.jsx)(A,{size:16}),k]})]}),(0,z.jsx)(fe,{}),C&&I&&(0,z.jsx)("div",{className:"modal-overlay",children:(0,z.jsxs)("div",{className:"modal-content",children:[(0,z.jsxs)("div",{className:"modal-header",children:[(0,z.jsxs)("h3",{className:"modal-title",children:["Update ",(null===(e=Object.values(B).reduce(((e,t)=>(0,b.A)((0,b.A)({},e),t.symptoms)),{})[I])||void 0===e?void 0:e.name)||I]}),(0,z.jsx)("button",{onClick:()=>{N(!1),P(null)},className:"modal-close-btn",children:(0,z.jsx)(yp,{size:20})})]}),(0,z.jsxs)("div",{className:"ongoing-modal-content",children:[(0,z.jsxs)("div",{className:"ongoing-duration",children:["Duration: Day ",q(I)," ","(started ",null===(n=T[I])||void 0===n?void 0:n.startDate,")"]}),(0,z.jsx)("label",{className:"form-label",children:"Current Severity"}),(0,z.jsx)("div",{className:"ongoing-severity-controls",children:[1,2,3,4,5].map((e=>{var t,n;return(0,z.jsx)("button",{onClick:()=>W(I,{currentSeverity:e}),className:"ongoing-severity-btn ".concat((null===(t=T[I])||void 0===t?void 0:t.currentSeverity)===e?"active":""),style:(null===(n=T[I])||void 0===n?void 0:n.currentSeverity)===e?{borderColor:H(e).background,background:H(e).background,color:H(e).text}:{},children:e},e)}))}),(0,z.jsx)("label",{className:"form-label",children:"Notes (optional)"}),(0,z.jsx)("textarea",{value:(null===(r=T[I])||void 0===r?void 0:r.notes)||"",onChange:e=>W(I,{notes:e.target.value}),placeholder:"Any changes or additional notes...",className:"ongoing-notes-textarea"})]}),(0,z.jsxs)("div",{className:"modal-actions",children:[(0,z.jsx)("button",{onClick:()=>G(I),className:"btn-resolve",children:"Mark Resolved"}),(0,z.jsx)("button",{onClick:()=>{N(!1),P(null)},className:"btn-primary",children:"Done"})]})]})})]})},xp=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)((new Date).toISOString().split("T")[0]),[c,u]=(0,t.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone);(0,t.useEffect)((()=>F.j.onAuthStateChanged(n)),[]);const d=(0,t.useCallback)((async()=>{if(null!==e&&void 0!==e&&e.uid){a(!0);try{var t;console.log("\ud83d\udd0d Starting comprehensive debug analysis...");const r={userInfo:{uid:e.uid,email:e.email,timezone:c},selectedDate:s,analysis:{},recommendations:[]};console.log("\ud83d\udcca Checking timeseries documents...");const o=s.replace(/-/g,""),a=(0,U.rJ)(F.db,"fitbit_timeseries"),l=await(0,U.GG)(a),u=[],d={};l.forEach((t=>{const n=t.id,r=t.data();if(n.startsWith("".concat(e.uid,"_").concat(o,"_"))){u.push({id:n,data:r,extractedTime:n.split("_")[2]||"unknown"});const e=n.split("_")[2];if(e&&e.length>=4){const t=e.substring(0,2);d[t]=(d[t]||0)+1}}})),r.analysis.totalDocuments=u.length,r.analysis.timeSlots=d,r.analysis.documents=u,console.log("\u23f0 Analyzing time gaps...");const h=Array.from({length:24},((e,t)=>t.toString().padStart(2,"0"))).filter((e=>!d[e])),f=h.includes("20")||h.includes("21");r.analysis.missingHours=h,r.analysis.eveningGapDetected=f,console.log("\ud83d\udcdd Checking sync logs...");try{const e=(0,U.rJ)(F.db,"sync_logs"),t=(0,U.P)(e,(0,U._M)("timestamp",">=","".concat(s,"T00:00:00Z")),(0,U._M)("timestamp","<=","".concat(s,"T23:59:59Z")),(0,U.My)("timestamp"),(0,U.AB)(50)),n=await(0,U.GG)(t),i=[];n.forEach((e=>{i.push((0,b.A)({id:e.id},e.data()))})),r.analysis.syncLogs=i;const o=i.filter((e=>{const t=new Date(e.timestamp).getUTCHours();return(20===t||21===t)&&e.failed>0}));r.analysis.eveningFailures=o}catch(n){console.error("Error checking sync logs:",n),r.analysis.syncLogsError=n.message}console.log("\ud83c\udf0d Analyzing timezone issues...");const p=new Date(s+"T20:00:00"),m=new Date(p.toISOString()),g=p.getTimezoneOffset();r.analysis.timezoneInfo={local8PM:p.toISOString(),utc8PM:m.toISOString(),offsetMinutes:g,offsetHours:g/60,expectedUTCHour:(20-g/60)%24},f&&r.recommendations.push({type:"critical",title:"Evening Data Gap Detected",description:"Missing data between 8-9 PM. This could be due to timezone issues or sync failures.",action:"Check sync logs and implement timezone-aware queries"}),(null===(t=r.analysis.eveningFailures)||void 0===t?void 0:t.length)>0&&r.recommendations.push({type:"error",title:"Sync Failures During Evening Hours",description:"Found ".concat(r.analysis.eveningFailures.length," sync failures during evening hours."),action:"Review error logs and implement retry mechanism"}),Math.abs(g)>0&&r.recommendations.push({type:"warning",title:"Timezone Offset Detected",description:"Your timezone offset is ".concat(g/60," hours. Document IDs use UTC time."),action:"Ensure queries account for timezone differences"}),console.log("\u2705 Debug analysis complete:",r),i(r)}catch(r){console.error("\u274c Debug analysis failed:",r),i({error:r.message,userInfo:{uid:null===e||void 0===e?void 0:e.uid,email:null===e||void 0===e?void 0:e.email}})}finally{a(!1)}}else alert("Please log in first")}),[e,s,c]),h=(0,t.useCallback)((async()=>{if(null!==e&&void 0!==e&&e.uid)try{console.log("\ud83d\udd27 Running timezone-aware query...");const t=new Date(s),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),20,0,0),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),21,0,0),o=new Date(n.getTime()-6e4*n.getTimezoneOffset()),a=new Date(r.getTime()-6e4*r.getTimezoneOffset()),l="".concat(e.uid,"_").concat(o.toISOString().slice(0,10).replace(/-/g,""),"_").concat(o.toISOString().slice(11,19).replace(/:/g,"")),c="".concat(e.uid,"_").concat(a.toISOString().slice(0,10).replace(/-/g,""),"_").concat(a.toISOString().slice(11,19).replace(/:/g,""));console.log("\ud83d\udd0d Searching for documents between:",l,"and",c);const u=(0,U.rJ)(F.db,"fitbit_timeseries"),d=await(0,U.GG)(u),h=[];d.forEach((e=>{const t=e.id;t>=l&&t<=c&&h.push({id:t,data:e.data()})})),console.log("\ud83c\udfaf Timezone-aware query found:",h.length,"documents"),i((e=>(0,b.A)((0,b.A)({},e),{},{timezoneFixedQuery:{searchRange:{startDocId:l,endDocId:c},localTimes:{local8PM:n.toISOString(),local9PM:r.toISOString()},utcTimes:{utc8PM:o.toISOString(),utc9PM:a.toISOString()},foundDocuments:h}})))}catch(t){console.error("\u274c Timezone-aware query failed:",t)}}),[e,s]);return(0,z.jsx)("div",{className:"max-w-6xl mx-auto p-6 bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen",children:e?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,z.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"\ud83d\udd0d Fitbit Data Debug Tool"}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date to Analyze"}),(0,z.jsx)("input",{type:"date",value:s,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Timezone"}),(0,z.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),(0,z.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-600",children:e.email||e.uid.substring(0,8)+"..."})]})]}),(0,z.jsxs)("div",{className:"flex gap-4",children:[(0,z.jsx)("button",{onClick:d,disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Analyzing..."]}):(0,z.jsx)(z.Fragment,{children:"\ud83d\udd0d Run Full Debug"})}),r&&(0,z.jsx)("button",{onClick:h,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:"\ud83c\udf0d Test Timezone Fix"})]})]}),r&&(0,z.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,z.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Debug Results"}),(0,z.jsx)("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto",children:JSON.stringify(r,null,2)})]})]}):(0,z.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[(0,z.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"\ud83d\udd0d Fitbit Debug Tool"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Please log in to use the debug tool."})]})})},Sp=(0,t.lazy)((()=>Promise.all([n.e(523),n.e(924)]).then(n.bind(n,4924)))),Ep=()=>(0,z.jsxs)("div",{className:"pyodide-loading",children:[(0,z.jsx)("div",{className:"loading-spinner"}),(0,z.jsx)("p",{children:"Loading Python environment..."}),(0,z.jsx)("p",{children:"This may take a few seconds on first load."})]}),_p=()=>{const[e,n]=(0,t.useState)("loading");return(0,t.useEffect)((()=>{let t=!0;return window.pyodide||window.pyodideReady||"loading"!==e?window.pyodideReady&&(console.log("\u2705 Pyodide already ready"),t&&n("ready")):(console.log("\ud83d\ude80 Starting Pyodide initialization..."),(async()=>{try{if(console.log("\ud83d\udd04 Loading Pyodide for enhanced food search..."),"undefined"===typeof window.loadPyodide)return console.error("\u274c loadPyodide is not available. Make sure Pyodide script is loaded."),void(t&&n("error"));console.log("\ud83d\udce5 Downloading Pyodide...");const r=await window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.24.1/full/",stdout:e=>console.log("Pyodide stdout:",e),stderr:e=>console.error("Pyodide stderr:",e)});console.log("\u2705 Pyodide loaded successfully"),window.pyodide=r,console.log("\ud83d\udce6 Installing Python packages...");try{await Promise.race([r.loadPackage(["numpy","scikit-learn"]),new Promise(((e,t)=>setTimeout((()=>t(new Error("Package installation timeout"))),3e4)))]),console.log("\u2705 Python packages installed successfully")}catch(e){throw console.error("\u274c Failed to install packages:",e),new Error("Package installation failed: ".concat(e.message))}console.log("\ud83e\udde0 Setting up AI search engine..."),await r.runPython("\nimport numpy as np\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.metrics.pairwise import cosine_similarity\nimport json\nimport re\n\nclass ClientSideSearch:\n    def __init__(self):\n        # Advanced TF-IDF configuration for food search\n        self.vectorizer = TfidfVectorizer(\n            stop_words='english',\n            ngram_range=(1, 3),  # Include trigrams for better matching\n            max_features=5000,\n            lowercase=True,\n            token_pattern=r'\\b\\w+\\b',\n            min_df=1,  # Include rare terms\n            max_df=0.95  # Exclude very common terms\n        )\n        self.food_vectors = None\n        self.foods = []\n        self.search_texts = []\n    \n    def build_index(self, foods_json):\n        \"\"\"Build the search index from food data\"\"\"\n        try:\n            self.foods = json.loads(foods_json)\n            self.search_texts = []\n            \n            for food in self.foods:\n                text_parts = []\n                \n                # Primary name (weighted heavily by duplication)\n                name = food.get('name', '')\n                if name:\n                    text_parts.extend([name, name, name])  # Triple weight for name\n                \n                # Category\n                category = food.get('category', '')\n                if category:\n                    text_parts.append(category)\n                \n                # Description\n                description = food.get('description', '')\n                if description:\n                    text_parts.append(description)\n                \n                # Add Long COVID benefits for relevant searches\n                benefits = food.get('longCovidBenefits', [])\n                if benefits:\n                    text_parts.extend(benefits)\n                \n                # Add individual words for partial matching\n                name_words = re.findall(r'\\b\\w+\\b', name.lower())\n                for word in name_words:\n                    if len(word) > 2:  # Skip very short words\n                        text_parts.append(word)\n                        # Add common food variations\n                        if word.endswith('s'):\n                            text_parts.append(word[:-1])  # Singular form\n                \n                # Combine all text parts\n                search_text = ' '.join(text_parts)\n                self.search_texts.append(search_text)\n            \n            # Build TF-IDF vectors\n            if self.search_texts:\n                self.food_vectors = self.vectorizer.fit_transform(self.search_texts)\n                return f\"\u2705 Search index built for {len(self.foods)} foods\"\n            else:\n                return \"\u274c No valid food data provided\"\n                \n        except Exception as e:\n            return f\"\u274c Error building index: {str(e)}\"\n    \n    def search(self, query, limit=20):\n        \"\"\"Perform intelligent multi-strategy search\"\"\"\n        if self.food_vectors is None or not query.strip():\n            return []\n        \n        try:\n            # Clean and prepare query\n            clean_query = query.lower().strip()\n            \n            # Strategy 1: TF-IDF semantic similarity search\n            query_vector = self.vectorizer.transform([clean_query])\n            similarities = cosine_similarity(query_vector, self.food_vectors)[0]\n            \n            results = []\n            \n            # Collect semantic matches\n            for i, score in enumerate(similarities):\n                if score > 0.05:  # Lower threshold for more inclusive results\n                    food = self.foods[i].copy()\n                    food['search_score'] = float(score)\n                    food['match_type'] = 'semantic'\n                    results.append(food)\n            \n            # Strategy 2: Exact substring matching (boost scores)\n            for i, food in enumerate(self.foods):\n                name_lower = food.get('name', '').lower()\n                if clean_query in name_lower:\n                    # Check if already in results\n                    existing = next((r for r in results if r.get('id') == food.get('id')), None)\n                    if existing:\n                        # Boost existing semantic score\n                        existing['search_score'] += 0.6\n                        existing['match_type'] = 'exact_substring'\n                    else:\n                        # Add new exact match\n                        food_copy = food.copy()\n                        food_copy['search_score'] = 0.8\n                        food_copy['match_type'] = 'exact_substring'\n                        results.append(food_copy)\n            \n            # Strategy 3: Word prefix matching\n            query_words = clean_query.split()\n            for i, food in enumerate(self.foods):\n                name_lower = food.get('name', '').lower()\n                name_words = name_lower.split()\n                \n                word_matches = 0\n                for q_word in query_words:\n                    if len(q_word) > 1:  # Skip single letters\n                        for n_word in name_words:\n                            if n_word.startswith(q_word):\n                                word_matches += 1\n                                break\n                \n                if word_matches > 0:\n                    match_ratio = word_matches / len(query_words)\n                    existing = next((r for r in results if r.get('id') == food.get('id')), None)\n                    if existing:\n                        existing['search_score'] += match_ratio * 0.4\n                    else:\n                        food_copy = food.copy()\n                        food_copy['search_score'] = match_ratio * 0.6\n                        food_copy['match_type'] = 'word_prefix'\n                        results.append(food_copy)\n            \n            # Strategy 4: Category matching\n            for i, food in enumerate(self.foods):\n                category_lower = food.get('category', '').lower()\n                if category_lower and clean_query in category_lower:\n                    existing = next((r for r in results if r.get('id') == food.get('id')), None)\n                    if existing:\n                        existing['search_score'] += 0.3\n                    else:\n                        food_copy = food.copy()\n                        food_copy['search_score'] = 0.5\n                        food_copy['match_type'] = 'category'\n                        results.append(food_copy)\n            \n            # Sort by relevance score and return top results\n            results.sort(key=lambda x: x['search_score'], reverse=True)\n            return results[:limit]\n            \n        except Exception as e:\n            print(f\"Search error: {str(e)}\")\n            return []\n\n# Create global search engine instance\nsearch_engine = ClientSideSearch()\nprint(\"\ud83d\ude80 Python search engine initialized\")\n        "),t&&(window.pyodideReady=!0,window.searchIndexBuilt=!1,console.log("\u2705 Enhanced AI food search is ready!"),n("ready"),window.dispatchEvent(new CustomEvent("pyodideReady",{detail:{ready:!0}})))}catch(r){console.error("\u274c Failed to load Pyodide:",r),console.error("Error details:",{message:r.message,stack:r.stack,name:r.name}),t&&(window.pyodideReady=!1,n("error"),window.dispatchEvent(new CustomEvent("pyodideError",{detail:{error:r.message,type:r.name,phase:r.message.includes("Package")?"package_install":r.message.includes("loadPyodide")?"pyodide_load":"unknown"}})))}})()),()=>{t=!1}}),[e]),e};const kp=function(){const e=_p();t.useEffect((()=>{window.isPyodideReady=function(){return!0===window.pyodideReady},window.getSearchStatus=function(){return window.pyodideReady&&window.searchIndexBuilt?"ready":window.pyodideReady?"indexing":window.pyodide?"loading":"unavailable"}}),[]);const n=()=>{const e=localStorage.getItem("userData");if(console.log("Checking authentication, userData exists:",!!e),!e)return!1;try{const t=JSON.parse(e);return console.log("Parsed user ID:",t.id),t&&t.id}catch(t){return console.error("Error parsing user data:",t),!1}},r=e=>{let{children:t}=e;const r=n();return console.log("ProtectedRoute - isAuthenticated:",r),r?t:(0,z.jsx)(o.C5,{to:"/login",replace:!0})},i=e=>{let{children:t}=e;const r=n();return console.log("PublicRoute - isAuthenticated:",r),r?(0,z.jsx)(o.C5,{to:"/dashboard",replace:!0}):t};return console.log("App rendering, checking routes..."),console.log("Pyodide status:",e),(0,z.jsx)(f,{basename:"/energy_balance",children:(0,z.jsxs)("div",{className:"App",children:["loading"===e&&(0,z.jsx)("div",{className:"pyodide-status-bar",children:(0,z.jsx)("small",{children:"\ud83d\udd04 Loading enhanced search capabilities... (This may take 30-60 seconds)"})}),"error"===e&&(0,z.jsx)("div",{className:"pyodide-status-bar error",children:(0,z.jsx)("small",{children:"\u26a0\ufe0f Enhanced search unavailable - using basic search. Check console for details."})}),"ready"===e&&(0,z.jsx)("div",{className:"pyodide-status-bar success",children:(0,z.jsx)("small",{children:"\u2705 Enhanced AI search is active!"})}),(0,z.jsxs)(o.BV,{children:[(0,z.jsx)(o.qh,{path:"/login",element:(0,z.jsx)(i,{children:(0,z.jsx)(Y,{})})}),(0,z.jsx)(o.qh,{path:"/debug",element:(0,z.jsx)(xp,{})}),(0,z.jsx)(o.qh,{path:"/register",element:(0,z.jsx)(i,{children:(0,z.jsx)(W,{})})}),(0,z.jsx)(o.qh,{path:"/fitbit-dashboard/callback",element:(0,z.jsx)(K,{})}),(0,z.jsx)(o.qh,{path:"/fitbit/callback",element:(0,z.jsx)(K,{})}),(0,z.jsx)(o.qh,{path:"/dashboard",element:(0,z.jsx)(r,{children:(0,z.jsx)(Q,{})})}),(0,z.jsx)(o.qh,{path:"/symptom-tracker",element:(0,z.jsx)(r,{children:(0,z.jsx)(wp,{})})}),(0,z.jsx)(o.qh,{path:"/food-tracker",element:(0,z.jsx)(r,{children:(0,z.jsx)(t.Suspense,{fallback:(0,z.jsx)(Ep,{}),children:(0,z.jsx)(Sp,{})})})}),(0,z.jsx)(o.qh,{path:"/fitbit-dashboard",element:(0,z.jsx)(r,{children:(0,z.jsx)(sp,{})})}),(0,z.jsx)(o.qh,{path:"/personal-settings",element:(0,z.jsx)(r,{children:(0,z.jsx)(gp,{})})}),(0,z.jsx)(o.qh,{path:"/",element:n()?(0,z.jsx)(o.C5,{to:"/dashboard",replace:!0}):(0,z.jsx)(o.C5,{to:"/login",replace:!0})}),(0,z.jsx)(o.qh,{path:"*",element:(0,z.jsxs)("div",{className:"not-found",children:[(0,z.jsx)("h2",{children:"Page Not Found"}),(0,z.jsx)("p",{children:"The page you're looking for doesn't exist."}),(0,z.jsxs)("p",{children:["Current path: ",window.location.pathname]}),(0,z.jsx)("p",{children:"Expected Fitbit callback: /fitbit-dashboard/callback"}),(0,z.jsx)("button",{onClick:()=>window.location.href="/",children:"Go Home"})]})})]})]})})},Op=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,z.jsx)(t.StrictMode,{children:(0,z.jsx)(kp,{})})),Op()})()})();
//# sourceMappingURL=main.16d57148.js.map