/*! For license information please see main.70ee4844.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{A:()=>s})},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function je(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Oe(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Te=!1;function Ie(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==_e||null!==Ee)&&(Ae(),Oe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ne=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Re=!0,Le=e}};function Be(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,Me.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,Et,kt,jt=!1,Ot=[],Ct=null,At=null,Tt=null,It=new Map,Pt=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){jt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Tt&&Ft(Tt)&&(Tt=null),It.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Ot.length){Bt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Tt&&Bt(Tt,e),It.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Rt(At,e,t,n,r,i),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Rt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Rt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return En}var jn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(jn),Cn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(In),Nn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){je(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Xn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Ie(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Er={};function kr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var jr=kr("animationend"),Or=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Tr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Ir.length;Nr++){var Dr=Ir[Nr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(jr,"onAnimationEnd"),Pr(Or,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=o,i=xe(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case jr:case Or:case Cr:l=yn;break;case Ar:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Wn(s))if($n)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],_i=-1;function Ei(e){return{current:e}}function ki(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function ji(e,t){_i++,Si[_i]=e.current,e.current=t}var Oi={},Ci=Ei(Oi),Ai=Ei(!1),Ti=Oi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ai),ki(Ci)}function Di(e,t,n){if(Ci.current!==Oi)throw Error(o(168));ji(Ci,t),ji(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Ti=Ci.current,ji(Ci,e),ji(Ai,Ai.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),ji(Ci,e)):ki(Ai),ji(Ai,n)}var Fi=null,Ui=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,zi=!1}}return null}var qi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=Yi,Ki[Qi++]=$i,Ki[Qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Yi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),_o=Ei(null),Eo=null,ko=null,jo=null;function Oo(){jo=ko=Eo=null}function Co(e){var t=_o.current;ki(_o),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){Eo=e,jo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===Eo)throw Error(o(308));ko=e,Eo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Po=null;function No(e){null===Po?Po=[e]:Po.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Go=Ei(Ho),Ko=Ei(Ho),Qo=Ei(Ho);function Xo(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(ji(Qo,t),ji(Ko,e),ji(Go,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Go),ji(Go,t)}function $o(){ki(Go),ki(Ko),ki(Qo)}function Jo(e){Xo(Qo.current);var t=Xo(Go.current),n=le(t,e.type);t!==n&&(ji(Ko,e),ji(Go,n))}function Zo(e){Ko.current===e&&(ki(Go),ki(Ko))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ia(9,ja.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Aa(e)}function Oa(e,t,n){return n((function(){Ca(t)&&Aa(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Aa(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ta(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ba().memoizedState}function Na(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Ia(t,n,o,r))}sa.flags|=e,i.memoizedState=Ia(1|t,n,o,r)}function Ma(e,t){return Na(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function Ba(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ga(){return ba().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Ya(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Qa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,No(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Io,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Io,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ta,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Al.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Io,useCallback:Va,useContext:Io,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:Pa,useState:function(){return xa(wa)},useDebugValue:Ba,useDeferredValue:function(e){return Wa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:Io,useCallback:Va,useContext:Io,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:Sa,useRef:Pa,useState:function(){return Sa(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Wa(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Pi(t)?Ti:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Pi(t)?Ti:Ci.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return js(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Nl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ji(Nl,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ji(Nl,Pl),Pl|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function js(e,t,n,r,i){var o=Pi(n)?Ti:Ci.current;return o=Ii(t,o),To(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Os(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(To(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Ii(t,c=Pi(n)?Ti:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ai.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ii(t,l=Pi(n)?Ti:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ai.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ws(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Yo(e,t.containerInfo)}function Ts(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Is,Ps,Ns,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=Yi,Ki[Qi++]=$i,Ki[Qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Ni(),Gs(t),null;case 3:return r=t.stateNode,$o(),ki(Ai),ki(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ps(e,t),Gs(t),null;case 5:Zo(t);var i=Xo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=Xo(Go.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Qo.current),Xo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(ki(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return $o(),Ps(e,t),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return Co(t.type._context),Gs(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Vl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*$e()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ea.current,ji(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),ki(Ai),ki(Ci),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return $o(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Go.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hl(e,t,n),Ys=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,ml(t,e),Ys=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=a,(Ys=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Xs=s,Ys=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _l,El=Math.ceil,kl=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,Ol=w.ReactCurrentBatchConfig,Cl=0,Al=null,Tl=null,Il=0,Pl=0,Nl=Ei(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,zl=null,Bl=0,Vl=1/0,ql=null,Wl=!1,Hl=null,Gl=null,Kl=!1,Ql=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Il?Il&-Il:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(o(185));yt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Ll|=n),4===Dl&&sc(e,Il)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Vl=$e()+500,Ui&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Al?Il:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===(6&Cl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Al===e&&Il===t||(ql=null,Vl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Oo(),kl.current=a,Cl=i,null!==Tl?t=0:(Al=null,Il=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,ql),t);break}xc(e,zl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,ql),r);break}xc(e,zl,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,ql),rc(e,$e()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl=$e()+500,Ui&&Vi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=Ol.transition,r=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=r,Ol.transition=n,0===(6&(Cl=t))&&Vi()}}function dc(){Pl=Nl.current,ki(Nl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:$o(),ki(Ai),ki(Ci),ra();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:ki(ea);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Tl=e=Nc(e.current,null),Il=Pl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,zl=Ul=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Oo(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,jl.current=null,null===n||null===n.return){Dl=1,Ml=t,Tl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Al,Il)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Al===e&&Il===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Oo(),Cl=n,kl.current=r,null!==Tl)throw Error(o(261));return Al=null,Il=0,Dl}function yc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Xe();)bc(Tl)}function bc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Tl=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Pl)))return void(Tl=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Tl=Al=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=Cl;Cl|=4,jl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Cl=l,bt=s,Ol.transition=a}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Xl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Vi()}(e,t,n,r)}finally{Ol.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt(Xl),t=Ol.transition,n=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Cl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Ol.transition=t}}return!1}function _c(e,t,n){e=zo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Il&n)===n&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>$e()-Bl?hc(e,0):Fl|=n),rc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),jc(e,n)}function Ac(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Tc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,a,t);case E:s=8,i|=8;break;case k:return(e=Ic(12,n,t,2|i)).elementType=k,e.lanes=a,e;case A:return(e=Ic(13,n,t,i)).elementType=A,e.lanes=a,e;case T:return(e=Ic(19,n,t,i)).elementType=T,e.lanes=a,e;case N:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case O:s=9;break e;case C:s=11;break e;case I:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Bc(e){if(!e)return Oi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nc(e,i,a,o),Bo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ji(ea,1&ea.current),null!==(e=Ws(e,t,n))?e.sibling:null);ji(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ii(t,Ci.current);To(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===I)return 14}return 2}(r),e=ns(r,e),i){case 0:t=js(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ji(_o,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ao(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ao(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Io(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,To(t,n),as(t,r,i),ls(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Cl)&&(Vl=$e()+500,Vi()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,je,Oe,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function w(){var e=i();if(b(e))return x(e);h=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function x(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(w,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(w,t),v(f)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:x(i())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:_};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(o)var b=l?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),w=v?h:s(e),x=b?h:s(t),S=(w=w==d?f:w)==f,_=(x=x==d?f:x)==f,E=w==x;if(E&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(E&&!S)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var k=S&&p.call(e,"__wrapped__"),j=_&&p.call(t,"__wrapped__");if(k||j){var O=k?e.value():e,C=j?t.value():t;return y||(y=new r),g(O,C,n,m,y)}}return!!E&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>se,om:()=>oe,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(8812),i=n(443),o=n(7700),a=n(2555);let s,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(v(this),t,...r);return d.set(o,t.sort?t.sort():[t]),y(o)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));u.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(y(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const v=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return x.set(t,o),o}p=(e=>(0,a.A)((0,a.A)({},e),{},{get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p);class _{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const E="@firebase/app",k="0.10.13",j=new i.Vy("@firebase/app"),O="@firebase/app-compat",C="@firebase/analytics-compat",A="@firebase/analytics",T="@firebase/app-check-compat",I="@firebase/app-check",P="@firebase/auth",N="@firebase/auth-compat",D="@firebase/database",M="@firebase/data-connect",R="@firebase/database-compat",L="@firebase/functions",F="@firebase/functions-compat",U="@firebase/installations",z="@firebase/installations-compat",B="@firebase/messaging",V="@firebase/messaging-compat",q="@firebase/performance",W="@firebase/performance-compat",H="@firebase/remote-config",G="@firebase/remote-config-compat",K="@firebase/storage",Q="@firebase/storage-compat",X="@firebase/firestore",Y="@firebase/vertexai-preview",$="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",ee={[E]:"fire-core",[O]:"fire-core-compat",[A]:"fire-analytics",[C]:"fire-analytics-compat",[I]:"fire-app-check",[T]:"fire-app-check-compat",[P]:"fire-auth",[N]:"fire-auth-compat",[D]:"fire-rtdb",[M]:"fire-data-connect",[R]:"fire-rtdb-compat",[L]:"fire-fn",[F]:"fire-fn-compat",[U]:"fire-iid",[z]:"fire-iid-compat",[B]:"fire-fcm",[V]:"fire-fcm-compat",[q]:"fire-perf",[W]:"fire-perf-compat",[H]:"fire-rc",[G]:"fire-rc-compat",[K]:"fire-gcs",[Q]:"fire-gcs-compat",[X]:"fire-fst",[$]:"fire-fst-compat",[Y]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){j.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function oe(e){const t=e.name;if(re.has(t))return j.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function se(e){return void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new o.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="10.14.1";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Z,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ce.create("bad-app-name",{appName:String(a)});if(n||(n=(0,o.T9)()),!n)throw ce.create("no-options");const s=te.get(a);if(s){if((0,o.bD)(n,s.options)&&(0,o.bD)(i,s.config))return s;throw ce.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of re.values())l.addComponent(r);const c=new ue(n,i,l);return te.set(a,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,o.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let o=null!==(i=ee[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));const a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void j.warn(e.join(" "))}oe(new r.uA("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=y(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(y(a.result),e.oldVersion,e.newVersion,y(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(n){console.warn(n)}}}).catch((e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})}))),ge}async function ve(e,t){try{const n=(await ye()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof o.g)j.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});j.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Se(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){j.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),_e(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_e(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return j.warn(t),""}}}function xe(){return(new Date).toISOString().substring(0,10)}class Se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(t){if(t instanceof o.g)j.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});j.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _e(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ee;Ee="",oe(new r.uA("platform-logger",(e=>new _(e)),"PRIVATE")),oe(new r.uA("heartbeat",(e=>new we(e)),"PRIVATE")),pe(E,k,Ee),pe(E,k,"esm2017"),pe("fire-js","")},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(j),j=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,k=null,j=-1,O=5,C=-1;function A(){return!(t.unstable_now()-C<O)}function T(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?_():(E=!1,k=null)}}else E=!1}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=T,_=function(){P.postMessage(null)}}else _=function(){y(T,0)};function N(e){k=e,E||(E=!0,_())}function D(e,n){j=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(j),j=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>I,FA:()=>j,Fy:()=>m,I9:()=>P,Im:()=>C,Ku:()=>L,T9:()=>h,Tj:()=>u,Uj:()=>a,XA:()=>f,ZQ:()=>g,bD:()=>A,c1:()=>v,cY:()=>p,eX:()=>E,g:()=>k,hp:()=>N,jZ:()=>y,lT:()=>x,lV:()=>w,nr:()=>S,sr:()=>b,tD:()=>D,u:()=>s,yU:()=>d,zW:()=>_});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==l)throw new o;const c=t<<2|a>>4;if(r.push(c),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/energy_balance",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCTHvBt2lLe9hCdgkqiDsHLfGTcPUJEuLY",REACT_APP_FIREBASE_AUTH_DOMAIN:"long-covid-8f42d.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"long-covid-8f42d",REACT_APP_FIREBASE_STORAGE_BUCKET:"long-covid-8f42d.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1066445028663",REACT_APP_FIREBASE_APP_ID:"1:1066445028663:web:28bd3b28e184906feb2eb2",REACT_APP_FITBIT_CLIENT_ID:"23Q9SZ",REACT_APP_FITBIT_REDIRECT_URI:"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback",REACT_APP_FITBIT_CLIENT_SECRET:"e30907e711956dbe26501f3af5fb7a6b",REACT_APP_FITBIT_REDIRECT_URI_DEV:"http://localhost:64556/energy_balance/fitbit-dashboard",REACT_APP_FITBIT_REDIRECT_URI_PROD:"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){try{return"object"===typeof indexedDB}catch(e){return!1}}function E(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(O,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new k(n,o,t)}}const O=/\{\$([^}]+)}/g;function C(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(T(n)&&T(o)){if(!A(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T(e){return null!==e&&"object"===typeof e}function I(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function P(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new M(e,t);return n.subscribe.bind(n)}class M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function R(){}function L(e){return e&&e._delegate?e._delegate:e}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?C(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=k(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return _(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(j(n,a),j(e,a),a),s=!0,C(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return j(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(C(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,C(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?C(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),C(n,e+_(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=T(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=T(r=C(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?T(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=T((r=C(new a(i),e+_(i)+1,t)).abs(),!1,e+_(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),_(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&I((o=o.times(u)).d,t),0!==(n=d(n/2));)I((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):C(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(j(u,r+12)),s=!0,(o=S(o)).s=a,o},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=T(i,(n=_(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=T(i=C(new a(i),e,t),e<=(n=_(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=_(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,m,g,y,v,b,w,x,S,E,k,j,O,A=r.constructor,T=r.s==i.s?1:-1,I=r.d,P=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,j=P.length,E=I.length,g=(m=new A(T)).d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--c,(w=null==o?o=A.precision:a?o+(_(r)-_(i))+1:o)<0)return new A(0);if(w=w/7+2|0,u=0,1==j)for(d=0,P=P[0],w++;(u<E||d)&&w--;u++)x=d*p+(I[u]||0),g[u]=x/P|0,d=x%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),I=e(I,d),j=P.length,E=I.length),S=j,v=(y=I.slice(0,j)).length;v<j;)y[v++]=0;(O=P.slice()).unshift(0),k=P[0],P[1]>=p/2&&++k;do{d=0,(s=t(P,y,j,v))<0?(b=y[0],j!=v&&(b=b*p+(y[1]||0)),(d=b/k|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),y,f=h.length,v=y.length))&&(d--,n(h,j<f?O:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(P,y,j,v=y.length))<1&&(d++,n(y,j<v?O:P,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=I[S]||0:(y=[I[S]],v=1)}while((S++<E||void 0!==y[0])&&w--)}return g[0]||g.shift(),m.e=c,C(m,a?o+_(m)+1:o)}}();function S(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;d--;)o=C(o.times(o),l);return f.precision=p,null==t?(s=!0,C(o,p)):o}o=a}}function _(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,o,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),E(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),a=_(m),!(Math.abs(a)<15e14))return d=E(y,h+2,v).times(a+""),m=j(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(a=_(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),f=C(m.times(m),h),o=3;;){if(c=C(c.times(f),h),w((d=u.plus(x(c,new y(o),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(E(y,h+2,v).times(a+""))),u=x(u,new y(p),h),y.precision=v,null==t?(s=!0,C(u,v)):u;u=d,o+=2}}function O(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,o,a,l,c,f,m,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=_(e),y.length=1,t=t-o-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[m]+=o,y[m]!=p)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+_(e));return e}function A(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,m):t):new f(0)}function T(e,t,n){var r,i=_(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+k(-i-1)+o,n&&(r=n-a)>0&&(o+=k(r))):i>=a?(o+=k(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function I(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>s,uA:()=>i});var r=n(7700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9786:(e,t,n)=>{"use strict";n.d(t,{IX:()=>Ue,eJ:()=>rt,xI:()=>kn,hg:()=>st,kZ:()=>tt,signInWithEmailAndPassword:()=>it,CI:()=>lt,f3:()=>ot});var r=n(7150),i=n(7700),o=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new o.Vy("@firebase/auth");function h(e){if(d.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw y(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||b(t)}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===_()||"https:"===_()}function _(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class E{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(S()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class j{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},C=new E(3e4,6e4);function A(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function T(e,t,n,r){return I(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},a={};r&&("GET"===t?a=r:o={body:JSON.stringify(r)});const s=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},o);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),j.fetch()(N(e,e.config.apiHost,n,s),c)}))}async function I(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},O),t);try{const t=new M(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw R(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw R(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw R(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw R(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,s,a);f(e,s)}}catch(o){if(o instanceof i.g)throw o;f(e,"network-request-failed",{message:String(o)})}}async function P(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await T(e,t,n,r,i);return"mfaPendingCredential"in o&&f(e,"multi-factor-auth-required",{_serverResponse:o}),o}function N(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?k(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function D(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),C.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function R(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function L(e){return void 0!==e&&void 0!==e.enterprise}class F{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return D(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function U(e,t){return T(e,"GET","/v2/recaptchaConfig",A(e,t))}async function z(e,t){return T(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(o){return h("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function W(e){const t=q(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function H(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class K{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Q(e){var t;const n=e.auth,r=await e.getIdToken(),i=await H(e,z(n,{idToken:r}));v(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?X(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new K(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function X(e){return e.map((e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):W(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=W(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await I(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,a=N(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Y;return n&&(v("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(v("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return b("not implemented")}}function $(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class J{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await H(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),o=q(r);v(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:B(V(o.auth_time)),issuedAtTime:B(V(o.iat)),expirationTime:B(V(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new J(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await H(this,async function(e,t){return T(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:_}=t;v(b&&_,e,"internal-error");const E=Y.fromJSON(this.name,_);v("string"===typeof b,e,"internal-error"),$(u,e.name),$(d,e.name),v("boolean"===typeof w,e,"internal-error"),v("boolean"===typeof x,e,"internal-error"),$(h,e.name),$(f,e.name),$(p,e.name),$(m,e.name),$(g,e.name),$(y,e.name);const k=new J({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(k.providerData=S.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Y;r.updateFromServerResponse(t);const i=new J({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Q(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?X(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Y;a.updateFromIdToken(n);const s=new J({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new K(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Z=new Map;function ee(e){w(e instanceof Function,"Expected a class definition");let t=Z.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Z.set(e,t),t)}class te{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}te.type="NONE";const ne=te;function re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=re(this.userKey,r.apiKey,i),this.fullPersistenceKey=re("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?J._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(ee(ne),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ee(ne);const o=re(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=J._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ie(i,e,n)):new ie(i,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(de(t))return"Blackberry";if(he(t))return"Webos";if(se(t))return"Safari";if((t.includes("chrome/")||le(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function se(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return fe(e)||ue(e)||he(e)||de(e)||/windows phone/i.test(e)||ce(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,i.ZQ)());break;case"Worker":t="".concat(oe((0,i.ZQ)()),"-").concat(e);break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(o)}class ge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ye{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ve{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ee(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await z(this,{idToken:e}),n=await J._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Q(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ee(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return T(e,"GET","/v2/passwordPolicy",A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return T(e,"POST","/v2/accounts:revokeToken",A(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ee(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[ee(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function be(e){return(0,i.Ku)(e)}class we{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xe={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Se(e){return xe.loadJS(e)}function _e(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ee{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;L(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new F(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&L(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xe.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Se(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ke(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ee(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function je(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ke(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ke(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Oe(e,t,n){const r=be(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ce(t),{host:a,port:s}=function(e){const t=Ce(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ae(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ae(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ce(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ae(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Te{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Ie(e,t){return T(e,"POST","/v1/accounts:signUp",t)}async function Pe(e,t){return P(e,"POST","/v1/accounts:signInWithPassword",A(e,t))}class Ne extends Te{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ne(e,t,"password")}static _fromEmailAndCode(e,t){return new Ne(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return je(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Pe);case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return je(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ie);case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return P(e,"POST","/v1/accounts:signInWithIdp",A(e,t))}class Me extends Te{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Me(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Me(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const Re={USER_NOT_FOUND:"user-not-found"};class Le extends Te{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Le({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Le({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await P(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t));if(n.temporaryProof)throw R(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Re)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Le({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fe{constructor(e){var t,n,r,o,a,s;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Fe(t)}catch(n){return null}}}class Ue{constructor(){this.providerId=Ue.PROVIDER_ID}static credential(e,t){return Ne._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fe.parseLink(t);return v(n,"argument-error"),Ne._fromEmailAndCode(e,n.code,n.tenantId)}}Ue.PROVIDER_ID="password",Ue.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ue.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ze{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Be extends ze{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ve extends Be{constructor(){super("facebook.com")}static credential(e){return Me._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ve.credential(t.oauthAccessToken)}catch(n){return null}}}Ve.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ve.PROVIDER_ID="facebook.com";class qe extends Be{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Me._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qe.credentialFromTaggedObject(e)}static credentialFromError(e){return qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qe.credential(n,r)}catch(i){return null}}}qe.GOOGLE_SIGN_IN_METHOD="google.com",qe.PROVIDER_ID="google.com";class We extends Be{constructor(){super("github.com")}static credential(e){return Me._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return We.credential(t.oauthAccessToken)}catch(n){return null}}}We.GITHUB_SIGN_IN_METHOD="github.com",We.PROVIDER_ID="github.com";class He extends Be{constructor(){super("twitter.com")}static credential(e,t){return Me._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return He.credential(n,r)}catch(i){return null}}}async function Ge(e,t){return P(e,"POST","/v1/accounts:signUp",A(e,t))}He.TWITTER_SIGN_IN_METHOD="twitter.com",He.PROVIDER_ID="twitter.com";class Ke{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await J._fromIdTokenResponse(e,n,r),o=Qe(n);return new Ke({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qe(n);return new Ke({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Xe extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Xe.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Xe(e,t,n,r)}}function Ye(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xe._fromErrorAndOperation(e,n,t,r);throw n}))}async function $e(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await H(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ke._forOperation(e,"link",r)}async function Je(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const o="reauthenticate";try{const r=await H(e,Ye(i,o,t,e),n);v(r.idToken,i,"internal-error");const a=q(r.idToken);v(a,i,"internal-error");const{sub:s}=a;return v(e.uid===s,i,"user-mismatch"),Ke._forOperation(e,o,r)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&f(i,"user-mismatch"),a}}async function Ze(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",o=await Ye(e,i,t),a=await Ke._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(a.user),a}async function et(e,t){return Ze(be(e),t)}async function tt(e,t){return Je((0,i.Ku)(e),t)}async function nt(e){const t=be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=be(e),o=je(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ge),a=await o.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nt(e),t})),s=await Ke._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(s.user),s}function it(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):et((0,i.Ku)(e),Ue.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nt(e),t}))}function ot(e,t){return at((0,i.Ku)(e),null,t)}async function at(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await H(e,async function(e,t){return T(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}function st(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function lt(e){return(0,i.Ku)(e).signOut()}new WeakMap;const ct="__sak";class ut{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dt extends ut{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dt.type="LOCAL";const ht=dt;class ft extends ut{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ft.type="SESSION";const pt=ft;class mt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new mt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function gt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mt.receivers=[];class yt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=gt("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function vt(){return window}function bt(){return"undefined"!==typeof vt().WorkerGlobalScope&&"function"===typeof vt().importScripts}const wt="firebaseLocalStorageDb",xt="firebaseLocalStorage",St="fbase_key";class _t{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Et(e,t){return e.transaction([xt],t?"readwrite":"readonly").objectStore(xt)}function kt(){const e=indexedDB.open(wt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(xt,{keyPath:St})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(xt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wt);return new _t(e).toPromise()}(),t(await kt()))}))}))}async function jt(e,t,n){const r=Et(e,!0).put({[St]:t,value:n});return new _t(r).toPromise()}function Ot(e,t){const n=Et(e,!0).delete(t);return new _t(n).toPromise()}class Ct{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await kt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mt._getInstance(bt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new yt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kt();return await jt(e,ct,"1"),await Ot(e,ct),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>jt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Et(e,!1).get(t),r=await new _t(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ot(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Et(e,!1).getAll();return new _t(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ct.type="LOCAL";const At=Ct;_e("rcb"),new E(3e4,6e4);const Tt="recaptcha";async function It(e,t,n){var r;const i=await n.verify();try{let o;if(v("string"===typeof i,e,"argument-error"),v(n.type===Tt,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){v("enroll"===t.type,e,"internal-error");const n=await function(e,t){return T(e,"POST","/v2/accounts/mfaEnrollment:start",A(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;v(n,e,"missing-multi-factor-info");const a=await function(e,t){return T(e,"POST","/v2/accounts/mfaSignIn:start",A(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return T(e,"POST","/v1/accounts:sendVerificationCode",A(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Pt{constructor(e){this.providerId=Pt.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return It(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Le._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pt.credentialFromTaggedObject(t)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Le._fromTokenResponse(n,r):null}}function Nt(e,t){return t?ee(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pt.PROVIDER_ID="phone",Pt.PHONE_SIGN_IN_METHOD="phone";class Dt extends Te{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mt(e){return Ze(e.auth,new Dt(e),e.bypassAuthState)}function Rt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Je(n,new Dt(e),e.bypassAuthState)}async function Lt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),$e(n,new Dt(e),e.bypassAuthState)}class Ft{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mt;case"linkViaPopup":case"linkViaRedirect":return Lt;case"reauthViaPopup":case"reauthViaRedirect":return Rt;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ut=new E(2e3,1e4);class zt extends Ft{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,zt.currentPopupAction&&zt.currentPopupAction.cancel(),zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=gt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ut.get())};e()}}zt.currentPopupAction=null;const Bt=new Map;class Vt extends Ft{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ht(t),r=Wt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Bt.set(this.auth._key(),e)}return this.bypassAuthState||Bt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qt(e,t){Bt.set(e._key(),t)}function Wt(e){return ee(e._redirectPersistence)}function Ht(e){return re("pendingRedirect",e.config.apiKey,e.name)}async function Gt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=be(e),o=Nt(i,t),a=new Vt(i,o,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class Kt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qt(e))}saveEventToCache(e){this.cachedEventUids.add(Qt(e)),this.lastProcessedEventTime=Date.now()}}function Qt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xt(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Yt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$t=/^https?/;async function Jt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return T(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zt(r))return}catch(n){}f(e,"unauthorized-domain")}function Zt(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$t.test(n))return!1;if(Yt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const en=new E(3e4,6e4);function tn(){const e=vt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function nn(e){return new Promise(((t,n)=>{var r,i,o;function a(){tn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tn(),n(p(e,"network-request-failed"))},timeout:en.get()})}if(null===(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=vt().gapi)||void 0===o?void 0:o.load)){const t=_e("iframefcb");return vt()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},Se("".concat(xe.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw rn=null,e}))}let rn=null;const on=new E(5e3,15e3),an={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ln(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),o={apiKey:t.apiKey,appName:e.name,v:r.MF},a=sn.get(e.config.apiHost);a&&(o.eid=a);const s=e._getFrameworks();return s.length&&(o.fw=s.join(",")),"".concat(n,"?").concat((0,i.Am)(o).slice(1))}async function cn(e){const t=await function(e){return rn=rn||nn(e),rn}(e),n=vt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:ln(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:an,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),o=vt().setTimeout((()=>{r(i)}),on.get());function a(){vt().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const un={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function hn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},un),{width:r.toString(),height:o.toString(),top:a,left:s}),u=(0,i.ZQ)().toLowerCase();n&&(l=le(u)?"_blank":n),ae(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new dn(null);const h=window.open(t||"",l,d);v(h,e,"popup-blocked");try{h.focus()}catch(f){}return new dn(h)}const fn="__/auth/handler",pn="emulator/auth/handler",mn=encodeURIComponent("fac");async function gn(e,t,n,o,a,s){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r.MF,eventId:a};if(t instanceof ze){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof Be){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?"#".concat(mn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fn);return k(t,pn)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(d)}const yn="webStorageSupport";const vn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pt,this._completeRedirectFn=Gt,this._overrideRedirectResult=qt}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hn(e,await gn(e,t,n,x(),r),gt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vt().location.href=e}(await gn(e,t,n,x(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await cn(e),n=new Kt(e);return t.register("authEvent",(t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yn,{type:yn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yn];void 0!==i&&t(!!i),f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jt(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||se()||fe()}};var bn="@firebase/auth",wn="1.7.9";class xn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sn=(0,i.XA)("authIdTokenMaxAge")||300;let _n=null;const En=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sn)return;const i=null===n||void 0===n?void 0:n.token;_n!==i&&(_n=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vn,persistence:[At,ht,pt]}),o=(0,i.XA)("authTokenSyncURL");if(o&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(o,location.origin);if(location.origin===e.origin){const t=En(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const a=(0,i.Tj)("auth");return a&&Oe(n,"http://".concat(a)),n}var jn;xe={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},jn="Browser",(0,r.om)(new s.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;v(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:jn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(jn)},c=new ve(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ee);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new s.uA("auth-internal",(e=>(e=>new xn(e))(be(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(bn,wn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(jn)),(0,r.KO)(bn,wn,"esm2017")},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".182a440e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="energy_balance:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/energy_balance/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkenergy_balance=self.webpackChunkenergy_balance||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Bf,scaleDiverging:()=>qy,scaleDivergingLog:()=>Wy,scaleDivergingPow:()=>Gy,scaleDivergingSqrt:()=>Ky,scaleDivergingSymlog:()=>Hy,scaleIdentity:()=>Fp,scaleImplicit:()=>Uf,scaleLinear:()=>Lp,scaleLog:()=>Kp,scaleOrdinal:()=>zf,scalePoint:()=>qf,scalePow:()=>nm,scaleQuantile:()=>fm,scaleQuantize:()=>pm,scaleRadial:()=>om,scaleSequential:()=>Ry,scaleSequentialLog:()=>Ly,scaleSequentialPow:()=>Uy,scaleSequentialQuantile:()=>By,scaleSequentialSqrt:()=>zy,scaleSequentialSymlog:()=>Fy,scaleSqrt:()=>rm,scaleSymlog:()=>$p,scaleThreshold:()=>mm,scaleTime:()=>Py,scaleUtc:()=>Ny,tickFormat:()=>Mp});var t,r=n(5043),i=n.t(r,2),o=n(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,p=t.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(a({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(s,v),m=e,()=>{o.removeEventListener(s,v),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(w.location,e,n);r&&r(i,e),g=y()+1;let a=u(i,g),s=w.createHref(i);try{f.pushState(a,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(s)}c&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(w.location,e,n);r&&r(i,e),g=y();let o=u(i,g),a=w.createHref(i);f.replaceState(o,"",a),c&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=I(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let o=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=T(i);a=C(o[s],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=R([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:O(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=b(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,S=2,_=1,E=10,k=-2,j=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=k),t&&(r+=S),n.filter((e=>!j(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?_:E)),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:R([o,u.pathname]),pathnameBase:L(R([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=R([o,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let n=N(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),l(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let o,s=""===e||""===i.pathname,c=s?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:U(i)}}(i,o),d=c&&"/"!==c&&c.endsWith("/"),h=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=r.createContext(null);const H=r.createContext(null);const G=r.createContext(null);const K=r.createContext(null);const Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});const X=r.createContext(null);function Y(){return null!=r.useContext(K)}function $(){return Y()||l(!1),r.useContext(K).location}function J(e){r.useContext(G).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=de(le.UseNavigateStable),n=r.useRef(!1);J((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return i}():function(){Y()||l(!1);let e=r.useContext(W),{basename:t,future:n,navigator:i}=r.useContext(G),{matches:o}=r.useContext(Q),{pathname:a}=$(),s=JSON.stringify(D(o,n.v7_relativeSplatPath)),c=r.useRef(!1);J((()=>{c.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let o=M(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:R([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,s,a,e]);return u}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(G),{matches:o}=r.useContext(Q),{pathname:a}=$(),s=JSON.stringify(D(o,i.v7_relativeSplatPath));return r.useMemo((()=>M(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function te(e,n,i,o){Y()||l(!1);let{navigator:a}=r.useContext(G),{matches:s}=r.useContext(Q),c=s[s.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=$();if(n){var m;let e="string"===typeof n?f(n):n;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||l(!1),h=e}else h=p;let y=h.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(e,{pathname:v});let w=ae(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i,o);return n&&w?r.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},w):w}function ne(){let e=function(){var e;let t=r.useContext(X),n=ue(le.UseRouteError),i=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(W);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Q.Provider,{value:t},i)}function ae(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,l=!1,h=null,f=null;var p;n&&(a=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||re,u&&(d<0&&0===o?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,f=null):d===o&&(l=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=r.useContext(W);return t||l(!1),t}function ue(e){let t=r.useContext(H);return t||l(!1),t}function de(e){let t=function(){let e=r.useContext(Q);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function pe(e){let{to:t,replace:n,state:i,relative:o}=e;Y()||l(!1);let{future:a,static:s}=r.useContext(G),{matches:c}=r.useContext(Q),{pathname:u}=$(),d=Z(),h=M(t,D(c,a.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(f),{replace:n,state:i,relative:o})),[d,f,o,n,i]),null}function me(e){l(!1)}function ge(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:c=!1,future:u}=e;Y()&&l(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:s,static:c,future:q({v7_relativeSplatPath:!1},u)})),[d,u,s,c]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=o,b=r.useMemo((()=>{let e=I(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}}),[d,p,m,g,y,v,a]);return null==b?null:r.createElement(G.Provider,{value:h},r.createElement(K.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise((()=>{}));r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,o));e.type!==me&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,o)),n.push(a)})),n}var be=n(7950),we=n.t(be,2);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(rN){}new Map;const Ee=i.startTransition;we.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,s)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=r.useCallback((e=>{f&&Ee?Ee((()=>u(e))):u(e)}),[u,f]);return r.useLayoutEffect((()=>l.listen(m)),[l,m]),r.useEffect((()=>fe(i)),[i]),r.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Oe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,m=Se(e,_e),{basename:g}=r.useContext(G),y=!1;if("string"===typeof d&&Oe.test(d)&&(n=d,je))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=I(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(rN){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||l(!1);let{basename:i,navigator:o}=r.useContext(G),{hash:a,pathname:s,search:c}=ee(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:R([i,s])),o.createHref({pathname:u,search:c,hash:a})}(d,{relative:o}),b=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=Z(),u=$(),d=ee(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,i,o,n,e,a,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:f,relative:o,viewTransition:p});return r.createElement("a",xe({},m,{href:n||v,onClick:y||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Ae,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Ie=n(2555);var Pe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ne=["color","size","strokeWidth","absoluteStrokeWidth","children"],De=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Me=(e,t)=>{const n=(0,r.forwardRef)(((n,i)=>{let{color:o="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:c}=n,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,Ne);return(0,r.createElement)("svg",(0,Ie.A)((0,Ie.A)({ref:i},Pe),{},{width:a,height:a,stroke:o,strokeWidth:l?24*Number(s)/Number(a):s,className:"lucide lucide-".concat(De(e))},u),[...t.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...(Array.isArray(c)?c:[c])||[]])}));return n.displayName="".concat(e),n};const Re=Me("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Le=Me("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]),Fe=Me("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ue=Me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ze=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Be=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ve=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),qe=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),We=Me("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),He=Me("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),Ge=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ke=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Qe=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Xe=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var Ye=n(9786),$e=n(7150);(0,$e.KO)("firebase","10.14.1","app");var Je,Ze,et=n(8812),tt=n(443),nt=n(7700),rt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},it={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ze=it.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Je=it.Integer=r}).apply("undefined"!==typeof rt?rt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ot,at,st,lt,ct,ut,dt,ht,ft="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pt={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ft&&ft];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new j),(e=>e.reset()));class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let O,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=i.Promise.resolve(void 0);O=()=>{e.then(I)}};var I=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(Cx){_(Cx)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function P(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Cx){}return e}();function M(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,N);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new B(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)X(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;x(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&V(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){N.call(this,"d")}function be(){N.call(this,"c")}d(ve,N),d(be,N);var we={},xe=null;function Se(){return xe=xe||new ne}function _e(e){N.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new _e(t))}function ke(e,t){N.call(this,we.STAT_EVENT,e),this.stat=t}function je(e){const t=Se();re(t,new ke(t,e))}function Oe(e,t){N.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Te(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,N),we.STAT_EVENT="statevent",d(ke,N),we.Ma="timingevent",d(Oe,N),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ie,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ie=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=_t(yt(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),qe(e),e.A=yt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=En(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=G(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||bn(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),ln(n)}mn(n),je(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else xn(n,11)}else if((e.K||n.g==e)&&vn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,St(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=_n(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),qe(s)),r.g=a}else pn(r);0<n.i.length&&un(n)}else"stop"!=c[0]&&"close"!=c[0]||xn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xn(n,7):sn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==nn(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=nn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||rn(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=rn(this.g);e="";var o=r.length,a=4==nn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),Ke(this),Ge(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==Fe){4==h&&(this.s=4,je(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,je(15),Te(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),gn(d),d.M=!0,je(11))}}else Te(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Te(this.i,this.l,s,null),Qe(this,s);4==h&&Ke(this),this.o&&!this.J&&(4==h?bn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=nn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Ke(this),Ge(this)}}}catch(mt){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),je(17)),Ke(this),this.s=2,Ge(this)):We(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof gt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,wt(this,e.s),this.l=e.l;var t=e.i,n=new Pt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,bt(this,t[1]||"",!0),this.o=Et(t[2]||""),this.g=Et(t[3]||"",!0),wt(this,t[4]),this.l=Et(t[5]||"",!0),xt(this,t[6]||"",!0),this.m=Et(t[7]||"")):(this.h=!1,this.i=new Pt(null,this.h))}function yt(e){return new gt(e)}function bt(e,t,n){e.j=n?Et(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function xt(e,t,n){t instanceof Pt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dt(this,t),Rt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,Tt)),e.i=new Pt(t,e.h))}function St(e,t,n){e.i.set(t,n)}function _t(e){return St(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Ot,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,Ot,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?At:Ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,It)),e.join("")};var Ot=/[#\/\?@]/g,Ct=/[#\?:]/g,At=/[#\?]/g,Tt=/[#\?@]/g,It=/#/g;function Pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dt(e,t){Nt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mt(e,t){return Nt(e),t=Lt(e,t),e.g.has(t)}function Rt(e,t,n){Dt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),h(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ut(){this.g=new fe}function zt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(rN){throw t.push(r+"type="+encodeURIComponent("_badmap")),rN}}function Bt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Vt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function qt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Gt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Kt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Gt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):St(e,t,n))}function Qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Pt.prototype).add=function(e,t){Nt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Mt(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,Mt(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Bt,pe),Bt.prototype.g=function(){return new Vt(this.l,this.j)},Bt.prototype.i=function(e){return function(){return e}}({}),d(Vt,ne),(e=Vt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):Ht(this),3==this.readyState&&qt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Qt,ne);var Xt=/^https?$/i,Yt=["POST","PUT"];function $t(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),en(e)}function Jt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=nn(e)||2!=e.Z()))if(e.u&&4==nn(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==nn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Xt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<nn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Jt(e)}}finally{en(e)}}}function en(e,t){if(e.g){tn(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(rN){}}}function tn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function nn(e){return e.g?e.g.readyState:0}function rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vt){return null}}function on(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=on("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=on("baseRetryDelayMs",5e3,e),this.cb=on("retryDelaySeedMs",1e4,e),this.Wa=on("forwardChannelMaxRetries",2,e),this.wa=on("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Ut,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sn(e){if(cn(e),3==e.G){var t=e.U++,n=yt(e.I);if(St(n,"SID",e.K),St(n,"RID",t),St(n,"TYPE","terminate"),hn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=_t(yt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=En(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}Sn(e)}function ln(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function cn(e){ln(e),e.u&&(i.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function un(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;O||T(),C||(O(),C=!0),A.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const r=yt(e.I);St(r,"SID",e.K),St(r,"RID",n),St(r,"AID",e.T),hn(e,r),e.m&&e.o&&Kt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=fn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function hn(e,t){e.H&&v(e.H,(function(e,n){St(t,n,e)})),e.l&&rt({},(function(e,n){St(t,n,e)}))}function fn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{zt(s,e,"req"+n+"_")}catch(mt){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function pn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;O||T(),C||(O(),C=!0),A.add(t,e),e.v=0}}function mn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),wn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=yt(e.qa);St(t,"RID","rpc"),St(t,"SID",e.K),St(t,"AID",e.T),St(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&St(t,"TO",e.ja),St(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=_t(yt(t)),n.m=null,n.P=!0,ze(n,e)}function vn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function bn(e,t){var n=null;if(e.g==t){vn(e),gn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Oe(r,n)),un(e)}else pn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),wn(e,e.B)),e.B++,!0))}(e,t)||2==r&&mn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xn(e,5);break;case 4:xn(e,10);break;case 3:xn(e,6);break;default:xn(e,2)}}function wn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function xn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new gt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||bt(r,"https"),_t(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Ft,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ft,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ft,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ft,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ft(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ft(0,0,!1,t)}))}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),Sn(e),cn(e)}function Sn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function _n(e,t,n){var r=n instanceof gt?yt(n):new gt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new gt(null);r&&bt(a,r),t&&(a.g=t),o&&wt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&St(r,n,t),St(r,"VER",e.la),hn(e,r),r}function En(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Qt(new Bt({eb:n})):new Qt(e.pa)).Ha(e.J),t}function kn(){}function jn(){}function On(e,t){ne.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tn(this)}function Cn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function An(){be.call(this),this.status=1}function Tn(e){this.g=e}(e=Qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void $t(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tn(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){$t(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),en(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},e.bb=function(){Zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch(Ix){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ix){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=_n(this,null,this.W),un(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fn(this,i,t),St(n=yt(this.I),"RID",e),St(n,"CVER",22),this.D&&St(n,"X-HTTP-Session-Id",this.D),hn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Gt(o)))+"&"+t:this.m&&Kt(n,this.m,o)),et(this.h,i),this.Ua&&St(n,"TYPE","init"),this.P?(St(n,"$req",t),St(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||$e(this.h)||dn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),ln(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,ln(this),mn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},jn.prototype.g=function(e,t){return new On(e,t)},d(On,ne),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){sn(this.g)},On.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&un(t)},On.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,On.aa.N.call(this)},d(Cn,ve),d(An,be),d(Tn,kn),Tn.prototype.ua=function(){re(this.g,"a")},Tn.prototype.ta=function(e){re(this.g,new Cn(e))},Tn.prototype.sa=function(e){re(this.g,new An)},Tn.prototype.ra=function(){re(this.g,"b")},jn.prototype.createWebChannel=jn.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,ht=pt.createWebChannelTransport=function(){return new jn},dt=pt.getStatEventTarget=function(){return Se()},ut=pt.Event=we,ct=pt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,lt=pt.ErrorCode=Pe,Ne.COMPLETE="complete",st=pt.EventType=Ne,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,at=pt.WebChannel=ge,pt.FetchXmlHttpFactory=Bt,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,ot=pt.XhrIo=Qt}).apply("undefined"!==typeof ft?ft:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const mt="@firebase/firestore";class gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");let yt="10.14.0";const vt=new tt.Vy("@firebase/firestore");function bt(){return vt.logLevel}function wt(e){if(vt.logLevel<=tt.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_t);vt.debug("Firestore (".concat(yt,"): ").concat(e),...i)}}function xt(e){if(vt.logLevel<=tt.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_t);vt.error("Firestore (".concat(yt,"): ").concat(e),...i)}}function St(e){if(vt.logLevel<=tt.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_t);vt.warn("Firestore (".concat(yt,"): ").concat(e),...i)}}function _t(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(yt,") INTERNAL ASSERTION FAILED: ")+e;throw xt(t),new Error(t)}function kt(e,t){e||Et()}function jt(e,t){return e}const Ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends nt.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class At{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Tt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class It{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gt.UNAUTHENTICATED)))}shutdown(){}}class Pt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nt{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new At;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new At,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new At)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(kt("string"==typeof t.accessToken),new Tt(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new gt(e)}}class Dt{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mt{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Dt(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){kt(void 0===this.o);const n=e=>{null!=e.error&&wt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,wt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(kt("string"==typeof e.token),this.R=e.token,new Rt(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ft(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ut{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ft(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function zt(e,t){return e<t?-1:e>t?1:0}function Bt(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Vt(0,0))}static max(){return new qt(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wt{constructor(e,t,n){void 0===t?t=0:t>e.length&&Et(),void 0===n?n=e.length-t:n>e.length-t&&Et(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wt?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ht extends Wt{construct(e,t,n){return new Ht(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const Gt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Wt{construct(e,t,n){return new Kt(e,t,n)}static isValidIdentifier(e){return Gt.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ct(Ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ct(Ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ct(Ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Ht.fromString(e))}static fromName(e){return new Qt(Ht.fromString(e).popFirst(5))}static empty(){return new Qt(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ht.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Ht(e.slice()))}}class Xt{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Xt.UNKNOWN_ID=-1;function Yt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qt.fromTimestamp(1e9===r?new Vt(n+1,0):new Vt(n,r));return new Jt(i,Qt.empty(),t)}function $t(e){return new Jt(e.readTime,e.key,-1)}class Jt{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Jt(qt.min(),Qt.empty(),-1)}static max(){return new Jt(qt.max(),Qt.empty(),-1)}}function Zt(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Qt.comparator(e.documentKey,t.documentKey),0!==n?n:zt(e.largestBatchId,t.largestBatchId))}const en="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nn(e){if(e.code!==Ot.FAILED_PRECONDITION||e.message!==en)throw e;wt("LocalStore","Unexpectedly lost primary lease")}class rn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rn(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof rn?t:rn.resolve(t)}catch(e){return rn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):rn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):rn.reject(t)}static resolve(e){return new rn(((t,n)=>{t(e)}))}static reject(e){return new rn(((t,n)=>{n(e)}))}static waitFor(e){return new rn(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=rn.resolve(!1);for(const n of e)t=t.next((e=>e?rn.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new rn(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new rn(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function on(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function an(e){return"IndexedDbTransactionError"===e.name}class sn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ln(e){return null==e}function cn(e){return 0===e&&1/e==-1/0}function un(e){return"number"==typeof e&&Number.isInteger(e)&&!cn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}sn.oe=-1;const dn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fn=hn,pn=[...fn,"indexConfiguration","indexState","indexEntries"];function mn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class vn{constructor(e,t){this.comparator=e,this.root=t||wn.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bn(this.root,e,this.comparator,!1)}getReverseIterator(){return new bn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bn(this.root,e,this.comparator,!0)}}class bn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wn.RED,this.left=null!=r?r:wn.EMPTY,this.right=null!=i?i:wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et();if(this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1,wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,t,n,r,i){return this}insert(e,t,n){return new wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sn(this.data.getIterator())}getIteratorFrom(e){return new Sn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class Sn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new _n([])}unionWith(e){let t=new xn(Kt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bt(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class En extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new En("Invalid base64 string: "+e):e}}(e);return new kn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const jn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function On(e){if(kt(!!e),"string"==typeof e){let t=0;const n=jn.exec(e);if(kt(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cn(e.seconds),nanos:Cn(e.nanos)}}function Cn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function An(e){return"string"==typeof e?kn.fromBase64String(e):kn.fromUint8Array(e)}function Tn(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function In(e){const t=e.mapValue.fields.__previous_value__;return Tn(t)?In(t):t}function Pn(e){const t=On(e.mapValue.fields.__local_write_time__.timestampValue);return new Vt(t.seconds,t.nanos)}class Nn{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Dn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dn&&e.projectId===this.projectId&&e.database===this.database}}const Mn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tn(e)?4:Jn(e)?9007199254740991:Yn(e)?10:11:Et()}function Ln(e,t){if(e===t)return!0;const n=Rn(e);if(n!==Rn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pn(e).isEqual(Pn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=On(e.timestampValue),r=On(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return An(e.bytesValue).isEqual(An(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cn(e.geoPointValue.latitude)===Cn(t.geoPointValue.latitude)&&Cn(e.geoPointValue.longitude)===Cn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cn(e.integerValue)===Cn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cn(e.doubleValue),r=Cn(t.doubleValue);return n===r?cn(n)===cn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bt(e.arrayValue.values||[],t.arrayValue.values||[],Ln);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mn(n)!==mn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ln(n[i],r[i])))return!1;return!0}(e,t);default:return Et()}}function Fn(e,t){return void 0!==(e.values||[]).find((e=>Ln(e,t)))}function Un(e,t){if(e===t)return 0;const n=Rn(e),r=Rn(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cn(e.integerValue||e.doubleValue),r=Cn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zn(e.timestampValue,t.timestampValue);case 4:return zn(Pn(e),Pn(t));case 5:return zt(e.stringValue,t.stringValue);case 6:return function(e,t){const n=An(e),r=An(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=zt(n[i],r[i]);if(0!==e)return e}return zt(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=zt(Cn(e.latitude),Cn(t.latitude));return 0!==n?n:zt(Cn(e.longitude),Cn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Bn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=zt((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Bn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mn.mapValue&&t===Mn.mapValue)return 0;if(e===Mn.mapValue)return 1;if(t===Mn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=zt(r[a],o[a]);if(0!==e)return e;const t=Un(n[r[a]],i[o[a]]);if(0!==t)return t}return zt(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Et()}}function zn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zt(e,t);const n=On(e),r=On(t),i=zt(n.seconds,r.seconds);return 0!==i?i:zt(n.nanos,r.nanos)}function Bn(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Un(n[i],r[i]);if(e)return e}return zt(n.length,r.length)}function Vn(e){return qn(e)}function qn(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=On(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return An(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Qt.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qn(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(qn(e.fields[i]));return n+"}"}(e.mapValue):Et()}function Wn(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hn(e){return!!e&&"integerValue"in e}function Gn(e){return!!e&&"arrayValue"in e}function Kn(e){return!!e&&"nullValue"in e}function Qn(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xn(e){return!!e&&"mapValue"in e}function Yn(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $n(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gn(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=$n(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$n(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Jn(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$n(t)}setAll(e){let t=Kt.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=$n(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xn(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){gn(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Zn($n(this.value))}}function er(e){const t=[];return gn(e.fields,((e,n)=>{const r=new Kt([e]);if(Xn(n)){const e=er(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new _n(t)}class tr{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tr(e,0,qt.min(),qt.min(),qt.min(),Zn.empty(),0)}static newFoundDocument(e,t,n,r){return new tr(e,1,t,qt.min(),n,r,0)}static newNoDocument(e,t){return new tr(e,2,t,qt.min(),qt.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new tr(e,3,t,qt.min(),qt.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class nr{constructor(e,t){this.position=e,this.inclusive=t}}function rr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Qt.comparator(Qt.fromName(a.referenceValue),n.key):Un(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ir(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ln(e.position[n],t.position[n]))return!1;return!0}class or{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ar(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sr{}class lr extends sr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new gr(e,t,n):"array-contains"===t?new wr(e,n):"in"===t?new xr(e,n):"not-in"===t?new Sr(e,n):"array-contains-any"===t?new _r(e,n):new lr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yr(e,n):new vr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Un(t,this.value)):null!==t&&Rn(this.value)===Rn(t)&&this.matchesComparison(Un(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends sr{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new cr(e,t)}matches(e){return ur(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ur(e){return"and"===e.op}function dr(e){return hr(e)&&ur(e)}function hr(e){for(const t of e.filters)if(t instanceof cr)return!1;return!0}function fr(e){if(e instanceof lr)return e.field.canonicalString()+e.op.toString()+Vn(e.value);if(dr(e))return e.filters.map((e=>fr(e))).join(",");{const t=e.filters.map((e=>fr(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function pr(e,t){return e instanceof lr?function(e,t){return t instanceof lr&&e.op===t.op&&e.field.isEqual(t.field)&&Ln(e.value,t.value)}(e,t):e instanceof cr?function(e,t){return t instanceof cr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&pr(n,t.filters[r])),!0)}(e,t):void Et()}function mr(e){return e instanceof lr?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Vn(e.value))}(e):e instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(mr).join(" ,")+"}"}(e):"Filter"}class gr extends lr{constructor(e,t,n){super(e,t,n),this.key=Qt.fromName(n.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class yr extends lr{constructor(e,t){super(e,"in",t),this.keys=br("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vr extends lr{constructor(e,t){super(e,"not-in",t),this.keys=br("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function br(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Qt.fromName(e.referenceValue)))}class wr extends lr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gn(t)&&Fn(t.arrayValue,this.value)}}class xr extends lr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fn(this.value.arrayValue,t)}}class Sr extends lr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fn(this.value.arrayValue,t)}}class _r extends lr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gn(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Fn(this.value.arrayValue,e)))}}class Er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function kr(e){return new Er(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function jr(e){const t=jt(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>fr(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ln(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Vn(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Vn(e))).join(",")),t.ue=e}return t.ue}function Or(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ar(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pr(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ir(e.startAt,t.startAt)&&ir(e.endAt,t.endAt)}function Cr(e){return Qt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ar{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Tr(e,t,n,r,i,o,a,s){return new Ar(e,t,n,r,i,o,a,s)}function Ir(e){return new Ar(e)}function Pr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nr(e){return null!==e.collectionGroup}function Dr(e){const t=jt(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xn(Kt.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new or(r,n))})),e.has(Kt.keyField().canonicalString())||t.ce.push(new or(Kt.keyField(),n))}return t.ce}function Mr(e){const t=jt(e);return t.le||(t.le=Rr(t,Dr(e))),t.le}function Rr(e,t){if("F"===e.limitType)return kr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new or(e.field,t)}));const n=e.endAt?new nr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nr(e.startAt.position,e.startAt.inclusive):null;return kr(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Lr(e,t){const n=e.filters.concat([t]);return new Ar(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fr(e,t,n){return new Ar(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ur(e,t){return Or(Mr(e),Mr(t))&&e.limitType===t.limitType}function zr(e){return"".concat(jr(Mr(e)),"|lt:").concat(e.limitType)}function Br(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>mr(e))).join(", "),"]")),ln(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Vn(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Vn(e))).join(",")),"Target(".concat(t,")")}(Mr(e)),"; limitType=").concat(e.limitType,")")}function Vr(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qt.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Dr(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=rr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dr(e),t))&&!(e.endAt&&!function(e,t,n){const r=rr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dr(e),t))}(e,t)}function qr(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wr(e){return(t,n)=>{let r=!1;for(const i of Dr(e)){const e=Hr(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hr(e,t,n){const r=e.field.isKeyField()?Qt.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Un(r,i):Et()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}class Gr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gn(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return yn(this.inner)}size(){return this.innerSize}}const Kr=new vn(Qt.comparator);function Qr(){return Kr}const Xr=new vn(Qt.comparator);function Yr(){let e=Xr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function $r(e){let t=Xr;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Jr(){return ei()}function Zr(){return ei()}function ei(){return new Gr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ti=new vn(Qt.comparator),ni=new xn(Qt.comparator);function ri(){let e=ni;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ii=new xn(zt);function oi(){return ii}function ai(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cn(t)?"-0":t}}function si(e){return{integerValue:""+e}}function li(e,t){return un(t)?si(t):ai(e,t)}class ci{constructor(){this._=void 0}}function ui(e,t,n){return e instanceof fi?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Tn(t)&&(t=In(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pi?mi(e,t):e instanceof gi?yi(e,t):function(e,t){const n=hi(e,t),r=bi(n)+bi(e.Pe);return Hn(n)&&Hn(e.Pe)?si(r):ai(e.serializer,r)}(e,t)}function di(e,t,n){return e instanceof pi?mi(e,t):e instanceof gi?yi(e,t):n}function hi(e,t){return e instanceof vi?function(e){return Hn(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class fi extends ci{}class pi extends ci{constructor(e){super(),this.elements=e}}function mi(e,t){const n=wi(t);for(const r of e.elements)n.some((e=>Ln(e,r)))||n.push(r);return{arrayValue:{values:n}}}class gi extends ci{constructor(e){super(),this.elements=e}}function yi(e,t){let n=wi(t);for(const r of e.elements)n=n.filter((e=>!Ln(e,r)));return{arrayValue:{values:n}}}class vi extends ci{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function bi(e){return Cn(e.integerValue||e.doubleValue)}function wi(e){return Gn(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class xi{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _i(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ei{}function ki(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mi(e.key,Si.none()):new Ti(e.key,e.data,Si.none());{const n=e.data,r=Zn.empty();let i=new xn(Kt.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ii(e.key,r,new _n(i.toArray()),Si.none())}}function ji(e,t,n){e instanceof Ti?function(e,t,n){const r=e.value.clone(),i=Ni(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ii?function(e,t,n){if(!_i(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ni(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pi(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Oi(e,t,n,r){return e instanceof Ti?function(e,t,n,r){if(!_i(e.precondition,t))return n;const i=e.value.clone(),o=Di(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ii?function(e,t,n,r){if(!_i(e.precondition,t))return n;const i=Di(e.fieldTransforms,r,t),o=t.data;return o.setAll(Pi(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return _i(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ci(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=hi(r.transform,e||null);null!=i&&(null===n&&(n=Zn.empty()),n.set(r.field,i))}return n||null}function Ai(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bt(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pi&&t instanceof pi||e instanceof gi&&t instanceof gi?Bt(e.elements,t.elements,Ln):e instanceof vi&&t instanceof vi?Ln(e.Pe,t.Pe):e instanceof fi&&t instanceof fi}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ti extends Ei{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ii extends Ei{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pi(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ni(e,t,n){const r=new Map;kt(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,di(a,s,n[i]))}return r}function Di(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ui(e,o,t))}return r}class Mi extends Ei{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ri extends Ei{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Li{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ji(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Oi(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Oi(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zr();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=ki(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(qt.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ri())}isEqual(e){return this.batchId===e.batchId&&Bt(this.mutations,e.mutations,((e,t)=>Ai(e,t)))&&Bt(this.baseMutations,e.baseMutations,((e,t)=>Ai(e,t)))}}class Fi{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){kt(e.mutations.length===n.length);let r=ti;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Fi(e,t,n,r)}}class Ui{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class zi{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bi,Vi;function qi(e){switch(e){default:return Et();case Ot.CANCELLED:case Ot.UNKNOWN:case Ot.DEADLINE_EXCEEDED:case Ot.RESOURCE_EXHAUSTED:case Ot.INTERNAL:case Ot.UNAVAILABLE:case Ot.UNAUTHENTICATED:return!1;case Ot.INVALID_ARGUMENT:case Ot.NOT_FOUND:case Ot.ALREADY_EXISTS:case Ot.PERMISSION_DENIED:case Ot.FAILED_PRECONDITION:case Ot.ABORTED:case Ot.OUT_OF_RANGE:case Ot.UNIMPLEMENTED:case Ot.DATA_LOSS:return!0}}function Wi(e){if(void 0===e)return xt("GRPC error has no .code"),Ot.UNKNOWN;switch(e){case Bi.OK:return Ot.OK;case Bi.CANCELLED:return Ot.CANCELLED;case Bi.UNKNOWN:return Ot.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return Ot.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return Ot.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return Ot.INTERNAL;case Bi.UNAVAILABLE:return Ot.UNAVAILABLE;case Bi.UNAUTHENTICATED:return Ot.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return Ot.INVALID_ARGUMENT;case Bi.NOT_FOUND:return Ot.NOT_FOUND;case Bi.ALREADY_EXISTS:return Ot.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return Ot.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return Ot.FAILED_PRECONDITION;case Bi.ABORTED:return Ot.ABORTED;case Bi.OUT_OF_RANGE:return Ot.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return Ot.UNIMPLEMENTED;case Bi.DATA_LOSS:return Ot.DATA_LOSS;default:return Et()}}(Vi=Bi||(Bi={}))[Vi.OK=0]="OK",Vi[Vi.CANCELLED=1]="CANCELLED",Vi[Vi.UNKNOWN=2]="UNKNOWN",Vi[Vi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vi[Vi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vi[Vi.NOT_FOUND=5]="NOT_FOUND",Vi[Vi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vi[Vi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vi[Vi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vi[Vi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vi[Vi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vi[Vi.ABORTED=10]="ABORTED",Vi[Vi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vi[Vi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vi[Vi.INTERNAL=13]="INTERNAL",Vi[Vi.UNAVAILABLE=14]="UNAVAILABLE",Vi[Vi.DATA_LOSS=15]="DATA_LOSS";let Hi=null;function Gi(){return new TextEncoder}const Ki=new Je([4294967295,4294967295],0);function Qi(e){const t=Gi().encode(e),n=new Ze;return n.update(t),new Uint8Array(n.digest())}function Xi(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Je([n,r],0),new Je([i,o],0)]}class Yi{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new $i("Invalid padding: ".concat(t));if(n<0)throw new $i("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new $i("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new $i("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Je.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Je.fromNumber(n)));return 1===r.compare(Ki)&&(r=new Je([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Qi(e),[n,r]=Xi(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yi(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=Qi(e),[n,r]=Xi(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class $i extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ji{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Zi.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ji(qt.min(),r,new vn(zt),Qr(),ri())}}class Zi{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zi(n,t,ri(),ri(),ri())}}class eo{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class to{constructor(e,t){this.targetId=e,this.me=t}}class no{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ro{constructor(){this.fe=0,this.ge=ao(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ri(),t=ri(),n=ri();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Et()}})),new Zi(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=ao()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class io{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=oo(),this.Qe=new vn(zt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Et()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Cr(i))if(0===n){const e=new Qt(i.path);this.Ue(t,e,tr.newNoDocument(e,qt.min()))}else kt(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Hi||Hi.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=An(n).toUint8Array()}catch(e){if(e instanceof En)return St("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Yi(o,r,i)}catch(e){return St(e instanceof $i?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Cr(i.target)){const t=new Qt(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,tr.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=ri();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Ji(e,t,this.Qe,this.ke,n);return this.ke=Qr(),this.qe=oo(),this.Qe=new vn(zt),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ro,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new xn(zt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||wt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ro),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function oo(){return new vn(Qt.comparator)}function ao(){return new vn(Qt.comparator)}const so={asc:"ASCENDING",desc:"DESCENDING"},lo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},co={and:"AND",or:"OR"};class uo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ho(e,t){return e.useProto3Json||ln(t)?t:{value:t}}function fo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function po(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mo(e,t){return fo(e,t.toTimestamp())}function go(e){return kt(!!e),qt.fromTimestamp(function(e){const t=On(e);return new Vt(t.seconds,t.nanos)}(e))}function yo(e,t){return vo(e,t).canonicalString()}function vo(e,t){const n=function(e){return new Ht(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function bo(e){const t=Ht.fromString(e);return kt(Uo(t)),t}function wo(e,t){return yo(e.databaseId,t.path)}function xo(e,t){const n=bo(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qt(ko(n))}function So(e,t){return yo(e.databaseId,t)}function _o(e){const t=bo(e);return 4===t.length?Ht.emptyPath():ko(t)}function Eo(e){return new Ht(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ko(e){return kt(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jo(e,t,n){return{name:wo(e,t),fields:n.value.mapValue.fields}}function Oo(e,t){let n;if(t instanceof Ti)n={update:jo(e,t.key,t.value)};else if(t instanceof Mi)n={delete:wo(e,t.key)};else if(t instanceof Ii)n={update:jo(e,t.key,t.data),updateMask:Fo(t.fieldMask)};else{if(!(t instanceof Ri))return Et();n={verify:wo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof fi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vi)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Et()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Et()}(e,t.precondition)),n}function Co(e,t){return{documents:[So(e,t.path)]}}function Ao(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=So(e,i);const o=function(e){if(0!==e.length)return Lo(cr.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mo(e.field),direction:Po(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=ho(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function To(e){let t=_o(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Io(e);return t instanceof cr&&dr(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new or(Ro(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ln(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new nr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new nr(n,t)}(n.endAt)),Tr(t,i,a,o,s,"F",l,c)}function Io(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ro(e.unaryFilter.field);return lr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ro(e.unaryFilter.field);return lr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ro(e.unaryFilter.field);return lr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ro(e.unaryFilter.field);return lr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(e):void 0!==e.fieldFilter?function(e){return lr.create(Ro(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return cr.create(e.compositeFilter.filters.map((e=>Io(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(e):Et()}function Po(e){return so[e]}function No(e){return lo[e]}function Do(e){return co[e]}function Mo(e){return{fieldPath:e.canonicalString()}}function Ro(e){return Kt.fromServerFormat(e.fieldPath)}function Lo(e){return e instanceof lr?function(e){if("=="===e.op){if(Qn(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NAN"}};if(Kn(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qn(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NAN"}};if(Kn(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(e.field),op:No(e.op),value:e.value}}}(e):e instanceof cr?function(e){const t=e.getFilters().map((e=>Lo(e)));return 1===t.length?t[0]:{compositeFilter:{op:Do(e.op),filters:t}}}(e):Et()}function Fo(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Uo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qt.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qt.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kn.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bo{constructor(e){this.ct=e}}function Vo(e){const t=To({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fr(t,t.limit,"L"):t}class qo{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Cn(e.integerValue));else if("doubleValue"in e){const n=Cn(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),cn(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=On(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(An(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Jn(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Yn(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Et()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Cn(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Qt.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}qo.vt=new qo;class Wo{constructor(){this.un=new Ho}addToCollectionParentIndex(e,t){return this.un.add(t),rn.resolve()}getCollectionParents(e,t){return rn.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return rn.resolve()}deleteFieldIndex(e,t){return rn.resolve()}deleteAllFieldIndexes(e){return rn.resolve()}createTargetIndexes(e,t){return rn.resolve()}getDocumentsMatchingTarget(e,t){return rn.resolve(null)}getIndexType(e,t){return rn.resolve(0)}getFieldIndexes(e,t){return rn.resolve([])}getNextCollectionGroupToUpdate(e){return rn.resolve(null)}getMinOffset(e,t){return rn.resolve(Jt.min())}getMinOffsetFromCollectionGroup(e,t){return rn.resolve(Jt.min())}updateCollectionGroup(e,t,n){return rn.resolve()}updateIndexEntries(e,t){return rn.resolve()}}class Ho{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xn(Ht.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xn(Ht.comparator)).toArray()}}new Uint8Array(0);class Go{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class Ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ko(0)}static kn(){return new Ko(-1)}}class Qo{constructor(){this.changes=new Gr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?rn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xo{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Oi(n.mutation,e,_n.empty(),Vt.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ri()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri();const r=Jr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Yr();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Jr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ri())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Qr();const o=ei(),a=ei();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ii)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Oi(a.mutation,t,a.mutation.getFieldMask(),Vt.now())):o.set(t.key,_n.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Xo(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ei();let r=new vn(((e,t)=>e-t)),i=ri();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||_n.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||ri()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Zr();l.forEach((e=>{if(!i.has(e)){const r=ki(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return rn.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Qt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):rn.resolve(Jr());let a=-1,s=i;return o.next((t=>rn.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?rn.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,ri()))).next((e=>({batchId:a,changes:$r(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next((e=>{let t=Yr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Yr();return this.indexManager.getCollectionParents(e,i).next((a=>rn.forEach(a,(a=>{const s=function(e,t){return new Ar(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,tr.newInvalidDocument(r)))}));let n=Yr();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Oi(o.mutation,r,_n.empty(),Vt.now()),Vr(t,r)&&(n=n.insert(e,r))})),n}))}}class $o{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return rn.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:go(e.createTime)}}(t)),rn.resolve()}getNamedQuery(e,t){return rn.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Vo(e.bundledQuery),readTime:go(e.readTime)}}(t)),rn.resolve()}}class Jo{constructor(){this.overlays=new vn(Qt.comparator),this.Ir=new Map}getOverlay(e,t){return rn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jr();return rn.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),rn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),rn.resolve()}getOverlaysForCollection(e,t,n){const r=Jr(),i=t.length+1,o=new Qt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return rn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new vn(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Jr(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return rn.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ui(t,n));let i=this.Ir.get(t);void 0===i&&(i=ri(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Zo{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return rn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,rn.resolve()}}class ea{constructor(){this.Tr=new xn(ta.Er),this.dr=new xn(ta.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ta(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new ta(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Qt(new Ht([])),n=new ta(t,e),r=new ta(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Qt(new Ht([])),n=new ta(t,e),r=new ta(t,e+1);let i=ri();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ta(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ta{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Qt.comparator(e.key,t.key)||zt(e.wr,t.wr)}static Ar(e,t){return zt(e.wr,t.wr)||Qt.comparator(e.key,t.key)}}class na{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new xn(ta.Er)}checkEmpty(e){return rn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Li(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ta(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return rn.resolve(o)}lookupMutationBatch(e,t){return rn.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return rn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return rn.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return rn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ta(t,0),r=new ta(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),rn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xn(zt);return t.forEach((e=>{const t=new ta(e,0),r=new ta(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),rn.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Qt.isDocumentKey(i)||(i=i.child(""));const o=new ta(new Qt(i),0);let a=new xn(zt);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),o),rn.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){kt(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return rn.forEach(t.mutations,(r=>{const i=new ta(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new ta(t,0),r=this.br.firstAfterOrEqual(n);return rn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,rn.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ra{constructor(e){this.Mr=e,this.docs=new vn(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return rn.resolve(n?n.document.mutableCopy():tr.newInvalidDocument(t))}getEntries(e,t){let n=Qr();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():tr.newInvalidDocument(e))})),rn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Qr();const o=t.path,a=new Qt(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Zt($t(a),n)<=0||(r.has(a.key)||Vr(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return rn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Et()}Or(e,t){return rn.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ia(this)}getSize(e){return rn.resolve(this.size)}}class ia extends Qo{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),rn.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class oa{constructor(e){this.persistence=e,this.Nr=new Gr((e=>jr(e)),Or),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ea,this.targetCount=0,this.kr=Ko.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),rn.resolve()}getLastRemoteSnapshotVersion(e){return rn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rn.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),rn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),rn.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,rn.resolve()}updateTargetData(e,t){return this.Kn(t),rn.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,rn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),rn.waitFor(i).next((()=>r))}getTargetCount(e){return rn.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return rn.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),rn.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),rn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),rn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return rn.resolve(n)}containsKey(e,t){return rn.resolve(this.Br.containsKey(t))}}class aa{constructor(e,t){this.qr={},this.overlays={},this.Qr=new sn(0),this.Kr=!1,this.Kr=!0,this.$r=new Zo,this.referenceDelegate=e(this),this.Ur=new oa(this),this.indexManager=new Wo,this.remoteDocumentCache=function(e){return new ra(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Bo(t),this.Gr=new $o(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new na(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){wt("MemoryPersistence","Starting transaction:",e);const r=new sa(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return rn.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class sa extends tn{constructor(e){super(),this.currentSequenceNumber=e}}class la{constructor(e){this.persistence=e,this.Jr=new ea,this.Yr=null}static Zr(e){return new la(e)}get Xr(){if(this.Yr)return this.Yr;throw Et()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),rn.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),rn.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),rn.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rn.forEach(this.Xr,(n=>{const r=Qt.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,qt.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return rn.or([()=>rn.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class ca{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ri(),r=ri();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ca(e,t.fromCache,n,r)}}class ua{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class da{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,nt.nr)()?8:on((0,nt.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ua;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(bt()<=tt.$b.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",Br(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),rn.resolve()):(bt()<=tt.$b.DEBUG&&wt("QueryEngine","Query:",Br(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(bt()<=tt.$b.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",Br(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):rn.resolve())}Yi(e,t){if(Pr(t))return rn.resolve(null);let n=Mr(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Fr(t,null,"F"),n=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ri(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Fr(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return Pr(t)||r.isEqual(qt.min())?rn.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?rn.resolve(null):(bt()<=tt.$b.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Br(t)),this.rs(e,o,t,Yt(r,-1)).next((e=>e)))}))}ts(e,t){let n=new xn(Wr(e));return t.forEach(((t,r)=>{Vr(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return bt()<=tt.$b.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",Br(t)),this.Ji.getDocumentsMatchingQuery(e,t,Jt.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class ha{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new vn(zt),this._s=new Gr((e=>jr(e)),Or),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yo(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function fa(e,t,n,r){return new ha(e,t,n,r)}async function pa(e,t){const n=jt(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=ri();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ma(e){const t=jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function ga(e,t,n){let r=ri(),i=ri();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Qr();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(qt.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):wt("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function ya(e,t){const n=jt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function va(e,t){const n=jt(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,rn.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new zo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function ba(e,t,n){const r=jt(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!an(e))throw e;wt("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function wa(e,t,n){const r=jt(e);let i=qt.min(),o=ri();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=jt(e),i=r._s.get(n);return void 0!==i?rn.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Mr(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:qt.min(),n?o:ri()))).next((e=>(xa(r,qr(t),e),{documents:e,Ts:o})))))}function xa(e,t,n){let r=e.us.get(t)||qt.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class Sa{constructor(){this.activeTargetIds=oi()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _a{constructor(){this.so=new Sa,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ea{_o(e){}shutdown(){}}class ka{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ja=null;function Oa(){return null===ja?ja=268435456+Math.round(2147483648*Math.random()):ja++,"0x"+ja.toString(16)}const Ca={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aa{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ta="WebChannelConnection";class Ia extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const o=Oa(),a=this.xo(e,t.toUriEncodedString());wt("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then((t=>(wt("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw St("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Ca[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Oa();return new Promise(((o,a)=>{const s=new ot;s.setWithCredentials(!0),s.listenOnce(st.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case lt.NO_ERROR:const t=s.getResponseJson();wt(Ta,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case lt.TIMEOUT:wt(Ta,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Ct(Ot.DEADLINE_EXCEEDED,"Request time out"));break;case lt.HTTP_ERROR:const n=s.getStatus();if(wt(Ta,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ot).indexOf(t)>=0?t:Ot.UNKNOWN}(t.status);a(new Ct(e,t.message))}else a(new Ct(Ot.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ct(Ot.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{wt(Ta,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);wt(Ta,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Oa(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ht(),a=dt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");wt(Ta,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new Aa({Io:t=>{h?wt(Ta,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(wt(Ta,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),wt(Ta,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,at.EventType.OPEN,(()=>{h||(wt(Ta,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())})),p(u,at.EventType.CLOSE,(()=>{h||(h=!0,wt(Ta,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())})),p(u,at.EventType.ERROR,(t=>{h||(h=!0,St(Ta,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new Ct(Ot.UNAVAILABLE,"The operation could not be completed")))})),p(u,at.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];kt(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){wt(Ta,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Bi[e];if(void 0!==t)return Wi(t)}(t),i=a.message;void 0===n&&(n=Ot.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Ct(n,i)),u.close()}else wt(Ta,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}})),p(a,ut.STAT_EVENT,(t=>{t.stat===ct.PROXY?wt(Ta,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ct.NOPROXY&&wt(Ta,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.wo()}),0),f}}function Pa(){return"undefined"!=typeof document?document:null}function Na(e){return new uo(e,!0)}class Da{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&wt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ma{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Da(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Ot.RESOURCE_EXHAUSTED?(xt(t.toString()),xt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ot.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new Ct(Ot.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return wt("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ra extends Ma{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(kt(void 0===t||"string"==typeof t),kn.fromBase64String(t||"")):(kt(void 0===t||t instanceof Buffer||t instanceof Uint8Array),kn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ot.UNKNOWN:Wi(e.code);return new Ct(t,e.message||"")}(a);n=new no(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xo(e,r.document.name),o=go(r.document.updateTime),a=r.document.createTime?go(r.document.createTime):qt.min(),s=new Zn({mapValue:{fields:r.document.fields}}),l=tr.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new eo(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xo(e,r.document),o=r.readTime?go(r.readTime):qt.min(),a=tr.newNoDocument(i,o),s=r.removedTargetIds||[];n=new eo([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xo(e,r.document),o=r.removedTargetIds||[];n=new eo([],o,i,null)}else{if(!("filter"in t))return Et();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new zi(r,i),a=e.targetId;n=new to(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return qt.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?qt.min():t.readTime?go(t.readTime):qt.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Eo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Cr(r)?{documents:Co(e,r)}:{query:Ao(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=po(e,t.resumeToken);const r=ho(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(qt.min())>0){n.readTime=fo(e,t.snapshotVersion.toTimestamp());const r=ho(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Eo(this.serializer),t.removeTarget=e,this.a_(t)}}class La extends Ma{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(kt(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?go(e.updateTime):go(t);return n.isEqual(qt.min())&&(n=go(t)),new xi(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=go(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Eo(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Oo(this.serializer,e)))};this.a_(t)}}class Fa extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ct(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Mo(e,vo(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ct(Ot.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Lo(e,vo(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ct(Ot.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Ua{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(xt(t),this.D_=!1):wt("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class za{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Xa(this)&&(wt("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=jt(e);t.L_.add(4),await Va(t),t.q_.set("Unknown"),t.L_.delete(4),await Ba(t)}(this))}))})),this.q_=new Ua(n,r)}}async function Ba(e){if(Xa(e))for(const t of e.B_)await t(!0)}async function Va(e){for(const t of e.B_)await t(!1)}function qa(e,t){const n=jt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Qa(n)?Ka(n):ps(n).r_()&&Ha(n,t))}function Wa(e,t){const n=jt(e),r=ps(n);n.N_.delete(t),r.r_()&&Ga(n,t),0===n.N_.size&&(r.r_()?r.o_():Xa(n)&&n.q_.set("Unknown"))}function Ha(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ps(e).A_(t)}function Ga(e,t){e.Q_.xe(t),ps(e).R_(t)}function Ka(e){e.Q_=new io({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ps(e).start(),e.q_.v_()}function Qa(e){return Xa(e)&&!ps(e).n_()&&e.N_.size>0}function Xa(e){return 0===jt(e).L_.size}function Ya(e){e.Q_=void 0}async function $a(e){e.q_.set("Online")}async function Ja(e){e.N_.forEach(((t,n)=>{Ha(e,t)}))}async function Za(e,t){Ya(e),Qa(e)?(e.q_.M_(t),Ka(e)):e.q_.set("Unknown")}async function es(e,t,n){if(e.q_.set("Online"),t instanceof no&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){wt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ts(e,n)}else if(t instanceof eo?e.Q_.Ke(t):t instanceof to?e.Q_.He(t):e.Q_.We(t),!n.isEqual(qt.min()))try{const t=await ma(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(kn.EMPTY_BYTE_STRING,r.snapshotVersion)),Ga(e,t);const i=new zo(r.target,t,n,r.sequenceNumber);Ha(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){wt("RemoteStore","Failed to raise snapshot:",t),await ts(e,t)}}async function ts(e,t,n){if(!an(t))throw t;e.L_.add(1),await Va(e),e.q_.set("Offline"),n||(n=()=>ma(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{wt("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ba(e)}))}function ns(e,t){return t().catch((n=>ts(e,n,t)))}async function rs(e){const t=jt(e),n=ms(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;is(t);)try{const e=await ya(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,os(t,e)}catch(e){await ts(t,e)}as(t)&&ss(t)}function is(e){return Xa(e)&&e.O_.length<10}function os(e,t){e.O_.push(t);const n=ms(e);n.r_()&&n.V_&&n.m_(t.mutations)}function as(e){return Xa(e)&&!ms(e).n_()&&e.O_.length>0}function ss(e){ms(e).start()}async function ls(e){ms(e).p_()}async function cs(e){const t=ms(e);for(const n of e.O_)t.m_(n.mutations)}async function us(e,t,n){const r=e.O_.shift(),i=Fi.from(r,t,n);await ns(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await rs(e)}async function ds(e,t){t&&ms(e).V_&&await async function(e,t){if(function(e){return qi(e)&&e!==Ot.ABORTED}(t.code)){const n=e.O_.shift();ms(e).s_(),await ns(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await rs(e)}}(e,t),as(e)&&ss(e)}async function hs(e,t){const n=jt(e);n.asyncQueue.verifyOperationInProgress(),wt("RemoteStore","RemoteStore received new credentials");const r=Xa(n);n.L_.add(3),await Va(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ba(n)}async function fs(e,t){const n=jt(e);t?(n.L_.delete(2),await Ba(n)):t||(n.L_.add(2),await Va(n),n.q_.set("Unknown"))}function ps(e){return e.K_||(e.K_=function(e,t,n){const r=jt(e);return r.w_(),new Ra(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:$a.bind(null,e),Ro:Ja.bind(null,e),mo:Za.bind(null,e),d_:es.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Qa(e)?Ka(e):e.q_.set("Unknown")):(await e.K_.stop(),Ya(e))}))),e.K_}function ms(e){return e.U_||(e.U_=function(e,t,n){const r=jt(e);return r.w_(),new La(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ls.bind(null,e),mo:ds.bind(null,e),f_:cs.bind(null,e),g_:us.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await rs(e)):(await e.U_.stop(),e.O_.length>0&&(wt("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class gs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new gs(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(Ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ys(e,t){if(xt("AsyncQueue","".concat(t,": ").concat(e)),an(e))return new Ct(Ot.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class vs{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Qt.comparator(t.key,n.key):(e,t)=>Qt.comparator(e.key,t.key),this.keyedMap=Yr(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new vs(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bs{constructor(){this.W_=new vn(Qt.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Et():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ws{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new ws(e,t,vs.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ur(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xs{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Ss{constructor(){this.queries=_s(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=jt(e),r=n.queries;n.queries=_s(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new Ct(Ot.ABORTED,"Firestore shutting down"))}}function _s(){return new Gr((e=>zr(e)),Ur)}async function Es(e,t){const n=jt(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new xs,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ys(e,"Initialization of query '".concat(Br(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Cs(n)}async function ks(e,t){const n=jt(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function js(e,t){const n=jt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Cs(n)}function Os(e,t,n){const r=jt(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Cs(e){e.Y_.forEach((e=>{e.next()}))}var As,Ts;(Ts=As||(As={})).ea="default",Ts.Cache="cache";class Is{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ws(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==As.Cache}}class Ps{constructor(e){this.key=e}}class Ns{constructor(e){this.key=e}}class Ds{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ri(),this.mutatedKeys=ri(),this.Aa=Wr(e),this.Ra=new vs(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new bs,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Vr(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new ws(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bs,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ri(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Ns(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Ps(n))})),t}ba(e){this.Ta=e.Ts,this.da=ri();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ws.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ms{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rs{constructor(e){this.key=e,this.va=!1}}class Ls{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Gr((e=>zr(e)),Ur),this.Ma=new Map,this.xa=new Set,this.Oa=new vn(Qt.comparator),this.Na=new Map,this.La=new ea,this.Ba={},this.ka=new Map,this.qa=Ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Fs(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ol(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await zs(r,t,n,!0),i}async function Us(e,t){const n=ol(e);await zs(n,t,!0,!1)}async function zs(e,t,n,r){const i=await va(e.localStore,Mr(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Bs(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&qa(e.remoteStore,i),s}async function Bs(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await wa(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Zs(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await wa(e.localStore,t,!0),a=new Ds(t,o.Ts),s=a.ma(o.documents),l=Zi.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Zs(e,n,c.wa);const u=new Ms(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Vs(e,t,n){const r=jt(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!Ur(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ba(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wa(r.remoteStore,i.targetId),$s(r,i.targetId)})).catch(nn)):($s(r,i.targetId),await ba(r.localStore,i.targetId,!0))}async function qs(e,t){const n=jt(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wa(n.remoteStore,r.targetId))}async function Ws(e,t){const n=jt(e);try{const e=await function(e,t){const n=jt(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(kn.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))}));let s=Qr(),l=ri();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ga(e,o,t.documentUpdates).next((e=>{s=e.Ps,l=e.Is}))),!r.isEqual(qt.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return rn.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(kt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?kt(r.va):e.removedDocuments.size>0&&(kt(r.va),r.va=!1))})),await nl(n,e,t)}catch(e){await nn(e)}}function Hs(e,t,n){const r=jt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=jt(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Cs(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gs(e,t,n){const r=jt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new vn(Qt.comparator);e=e.insert(o,tr.newNoDocument(o,qt.min()));const n=ri().add(o),i=new Ji(qt.min(),new Map,new vn(zt),e,n);await Ws(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),tl(r)}else await ba(r.localStore,t,!1).then((()=>$s(r,t,n))).catch(nn)}async function Ks(e,t){const n=jt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=jt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=rn.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);kt(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ri();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ys(n,r,null),Xs(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nl(n,e)}catch(e){await nn(e)}}async function Qs(e,t,n){const r=jt(e);try{const e=await function(e,t){const n=jt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(kt(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ys(r,t,n),Xs(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nl(r,e)}catch(n){await nn(n)}}function Xs(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Ys(e,t,n){const r=jt(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function $s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Js(e,t)}))}function Js(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Wa(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),tl(e))}function Zs(e,t,n){for(const r of n)r instanceof Ps?(e.La.addReference(r.key,t),el(e,r)):r instanceof Ns?(wt("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Js(e,r.key)):Et()}function el(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(wt("SyncEngine","New document in limbo: "+n),e.xa.add(r),tl(e))}function tl(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Qt(Ht.fromString(t)),r=e.qa.next();e.Na.set(r,new Rs(n)),e.Oa=e.Oa.insert(n,r),qa(e.remoteStore,new zo(Mr(Ir(n.path)),r,"TargetPurposeLimboResolution",sn.oe))}}async function nl(e,t,n){const r=jt(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{a.push(r.Ka(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ca.Wi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=jt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>rn.forEach(t,(t=>rn.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>rn.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!an(e))throw e;wt("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function rl(e,t){const n=jt(e);if(!n.currentUser.isEqual(t)){wt("SyncEngine","User change. New user:",t.toKey());const e=await pa(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new Ct(Ot.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nl(n,e.hs)}}function il(e,t){const n=jt(e),r=n.Na.get(t);if(r&&r.va)return ri().add(r.key);{let e=ri();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function ol(e){const t=jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ws.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=il.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gs.bind(null,t),t.Ca.d_=js.bind(null,t.eventManager),t.Ca.$a=Os.bind(null,t.eventManager),t}function al(e){const t=jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ks.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qs.bind(null,t),t}class sl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Na(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return fa(this.persistence,new da,e.initialUser,this.serializer)}Ga(e){return new aa(la.Zr,this.serializer)}Wa(e){return new _a}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sl.provider={build:()=>new sl};class ll{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hs(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rl.bind(null,this.syncEngine),await fs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ss}createDatastore(e){const t=Na(e.databaseInfo.databaseId),n=function(e){return new Ia(e)}(e.databaseInfo);return function(e,t,n,r){return new Fa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new za(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Hs(this.syncEngine,e,0)),ka.D()?new ka:new Ea)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Ls(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=jt(e);wt("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Va(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ll.provider={build:()=>new ll};class cl{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class ul{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=Ut.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{wt("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(wt("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ys(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function dl(e,t){e.asyncQueue.verifyOperationInProgress(),wt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await pa(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function hl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fl(e);wt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>hs(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>hs(t.remoteStore,n))),e._onlineComponents=t}async function fl(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){wt("FirestoreClient","Using user provided OfflineComponentProvider");try{await dl(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ot.FAILED_PRECONDITION||e.code===Ot.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;St("Error using user provided cache. Falling back to memory cache: "+n),await dl(e,new sl)}}else wt("FirestoreClient","Using default OfflineComponentProvider"),await dl(e,new sl);return e._offlineComponents}async function pl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(wt("FirestoreClient","Using user provided OnlineComponentProvider"),await hl(e,e._uninitializedComponentsProvider._online)):(wt("FirestoreClient","Using default OnlineComponentProvider"),await hl(e,new ll))),e._onlineComponents}function ml(e){return pl(e).then((e=>e.syncEngine))}async function gl(e){const t=await pl(e),n=t.eventManager;return n.onListen=Fs.bind(null,t.syncEngine),n.onUnlisten=Vs.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Us.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qs.bind(null,t.syncEngine),n}function yl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new At;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new cl({next:s=>{o.Za(),t.enqueueAndForget((()=>ks(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Ct(Ot.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Ct(Ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Is(Ir(n.path),o,{includeMetadataChanges:!0,_a:!0});return Es(e,a)}(await gl(e),e.asyncQueue,t,n,r))),r.promise}function vl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new At;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new cl({next:n=>{o.Za(),t.enqueueAndForget((()=>ks(e,a))),n.fromCache&&"server"===r.source?i.reject(new Ct(Ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Is(n,o,{includeMetadataChanges:!0,_a:!0});return Es(e,a)}(await gl(e),e.asyncQueue,t,n,r))),r.promise}function bl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const wl=new Map;function xl(e,t,n){if(!n)throw new Ct(Ot.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Sl(e){if(!Qt.isDocumentKey(e))throw new Ct(Ot.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _l(e){if(Qt.isDocumentKey(e))throw new Ct(Ot.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function El(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Et()}function kl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(Ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=El(e);throw new Ct(Ot.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function jl(e,t){if(t<=0)throw new Ct(Ot.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Ol{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(Ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(Ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ct(Ot.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ct(Ot.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ct(Ot.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ct(Ot.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cl{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ol({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(Ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(Ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ol(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new It;switch(e.type){case"firstParty":return new Mt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ct(Ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wl.get(e);t&&(wt("ComponentProvider","Removing Datastore"),wl.delete(e),t.terminate())}(this),Promise.resolve()}}class Al{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Al(this.firestore,e,this._query)}}class Tl{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tl(this.firestore,e,this._key)}}class Il extends Al{constructor(e,t,n){super(e,t,Ir(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tl(this.firestore,null,new Qt(e))}withConverter(e){return new Il(this.firestore,e,this._path)}}function Pl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,nt.Ku)(e),xl("collection","path",t),e instanceof Cl){const n=Ht.fromString(t,...r);return _l(n),new Il(e,null,n)}{if(!(e instanceof Tl||e instanceof Il))throw new Ct(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ht.fromString(t,...r));return _l(n),new Il(e.firestore,null,n)}}function Nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,nt.Ku)(e),1===arguments.length&&(t=Ut.newId()),xl("doc","path",t),e instanceof Cl){const n=Ht.fromString(t,...r);return Sl(n),new Tl(e,null,new Qt(n))}{if(!(e instanceof Tl||e instanceof Il))throw new Ct(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ht.fromString(t,...r));return Sl(n),new Tl(e.firestore,e instanceof Il?e.converter:null,new Qt(n))}}class Dl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Da(this,"async_queue_retry"),this.Vu=()=>{const e=Pa();e&&wt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Pa();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Pa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new At;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(rN){if(!an(rN))throw rN;wt("AsyncQueue","Operation failed with retryable error: "+rN)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xt("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=gs.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&Et()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ml extends Cl{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Dl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dl(e),this._firestoreClient=void 0,await e}}}function Rl(e){if(e._terminated)throw new Ct(Ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ll(e),e._firestoreClient}function Ll(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Nn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bl(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ul(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(kn.fromBase64String(e))}catch(e){throw new Ct(Ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Fl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ul{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zl{constructor(e){this._methodName=e}}class Bl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(Ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(Ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}class Vl{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ql=/^__.*__$/;class Wl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ti(e,this.data,t,this.fieldTransforms)}}class Hl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Kl{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Gl(this.Cu)&&ql.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ql{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Na(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Kl({Cu:e,methodName:t,qu:n,path:Kt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xl(e){const t=e._freezeSettings(),n=Na(e._databaseId);return new Ql(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yl(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);ic("Data must be an object, but it was:",a,r);const s=nc(r,a);let l,c;if(o.merge)l=new _n(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=oc(t,r,n);if(!a.contains(i))throw new Ct(Ot.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));cc(e,i)||e.push(i)}l=new _n(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Wl(new Zn(s),l,c)}class $l extends zl{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $l}}function Jl(e,t,n,r){const i=e.Qu(1,t,n);ic("Data must be an object, but it was:",i,r);const o=[],a=Zn.empty();gn(r,((e,r)=>{const s=sc(t,e,n);r=(0,nt.Ku)(r);const l=i.Nu(s);if(r instanceof $l)o.push(s);else{const e=tc(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new _n(o);return new Hl(a,s,i.fieldTransforms)}function Zl(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[oc(t,r,n)],l=[i];if(o.length%2!=0)throw new Ct(Ot.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(oc(t,o[h])),l.push(o[h+1]);const c=[],u=Zn.empty();for(let h=s.length-1;h>=0;--h)if(!cc(c,s[h])){const e=s[h];let t=l[h];t=(0,nt.Ku)(t);const n=a.Nu(e);if(t instanceof $l)c.push(e);else{const r=tc(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new _n(c);return new Hl(u,d,a.fieldTransforms)}function ec(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tc(n,e.Qu(r?4:3,t))}function tc(e,t){if(rc(e=(0,nt.Ku)(e)))return ic("Unsupported field value:",t,e),nc(e,t);if(e instanceof zl)return function(e,t){if(!Gl(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=tc(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,nt.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return li(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vt.fromDate(e);return{timestampValue:fo(t.serializer,n)}}if(e instanceof Vt){const n=new Vt(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fo(t.serializer,n)}}if(e instanceof Bl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fl)return{bytesValue:po(t.serializer,e._byteString)};if(e instanceof Tl){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:yo(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Vl)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return ai(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(El(e)))}(e,t)}function nc(e,t){const n={};return yn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gn(e,((e,r)=>{const i=tc(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vt||e instanceof Bl||e instanceof Fl||e instanceof Tl||e instanceof zl||e instanceof Vl)}function ic(e,t,n){if(!rc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=El(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function oc(e,t,n){if((t=(0,nt.Ku)(t))instanceof Ul)return t._internalPath;if("string"==typeof t)return sc(e,t);throw lc("Field path arguments must be of type string or ",e,!1,void 0,n)}const ac=new RegExp("[~\\*/\\[\\]]");function sc(e,t,n){if(t.search(ac)>=0)throw lc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ul(...t.split("."))._internalPath}catch(Yv){throw lc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lc(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Ct(Ot.INVALID_ARGUMENT,s+e+l)}function cc(e,t){return e.some((e=>e.isEqual(t)))}class uc{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dc extends uc{data(){return super.data()}}function hc(e,t){return"string"==typeof t?sc(e,t):t instanceof Ul?t._internalPath:t._delegate._internalPath}function fc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ct(Ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pc{}class mc extends pc{}function gc(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof pc&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof bc)).length,n=e.filter((e=>e instanceof yc)).length;if(t>1||t>0&&n>0)throw new Ct(Ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class yc extends mc{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new yc(e,t,n)}_apply(e){const t=this._parse(e);return jc(e._query,t),new Al(e.firestore,e.converter,Lr(e._query,t))}_parse(e){const t=Xl(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){kc(a,o);const t=[];for(const n of a)t.push(Ec(r,e,n));s={arrayValue:{values:t}}}else s=Ec(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||kc(a,o),s=ec(n,t,a,"in"===o||"not-in"===o);return lr.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function vc(e,t,n){const r=t,i=hc("where",e);return yc._create(i,r,n)}class bc extends pc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bc(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)jc(n,i),n=Lr(n,i)}(e._query,t),new Al(e.firestore,e.converter,Lr(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wc extends mc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wc(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new or(t,n)}(e._query,this._field,this._direction);return new Al(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ar(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function xc(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hc("orderBy",e);return wc._create(n,t)}class Sc extends mc{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Sc(e,t,n)}_apply(e){return new Al(e.firestore,e.converter,Fr(e._query,this._limit,this._limitType))}}function _c(e){return jl("limit",e),Sc._create("limit",e,"F")}function Ec(e,t,n){if("string"==typeof(n=(0,nt.Ku)(n))){if(""===n)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nr(t)&&-1!==n.indexOf("/"))throw new Ct(Ot.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ht.fromString(n));if(!Qt.isDocumentKey(r))throw new Ct(Ot.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wn(e,new Qt(r))}if(n instanceof Tl)return Wn(e,n._key);throw new Ct(Ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(El(n),"."))}function kc(e,t){if(!Array.isArray(e)||0===e.length)throw new Ct(Ot.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ct(Ot.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ct(Ot.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Oc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(An(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return gn(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Cn(e.doubleValue)));return new Vl(i)}convertGeoPoint(e){return new Bl(Cn(e.latitude),Cn(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=In(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pn(e));default:return null}}convertTimestamp(e){const t=On(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ht.fromString(e);kt(Uo(n));const r=new Dn(n.get(1),n.get(3)),i=new Qt(n.popFirst(5));return r.isEqual(t)||xt("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Cc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tc extends uc{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ic extends Tc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Pc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ac(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ic(this._firestore,this._userDataWriter,n.key,n,new Ac(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(Ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ic(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ac(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ic(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ac(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Nc(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Nc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function Dc(e){e=kl(e,Tl);const t=kl(e.firestore,Ml);return yl(Rl(t),e._key).then((n=>Bc(t,e,n)))}class Mc extends Oc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tl(this.firestore,null,t)}}function Rc(e){e=kl(e,Al);const t=kl(e.firestore,Ml),n=Rl(t),r=new Mc(t);return fc(e._query),vl(n,e._query).then((n=>new Pc(t,r,e,n)))}function Lc(e,t,n){e=kl(e,Tl);const r=kl(e.firestore,Ml),i=Cc(e.converter,t,n);return zc(r,[Yl(Xl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Si.none())])}function Fc(e,t,n){e=kl(e,Tl);const r=kl(e.firestore,Ml),i=Xl(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=(0,nt.Ku)(t))||t instanceof Ul?Zl(i,"updateDoc",e._key,t,n,s):Jl(i,"updateDoc",e._key,t),zc(r,[o.toMutation(e._key,Si.exists(!0))])}function Uc(e,t){const n=kl(e.firestore,Ml),r=Nl(e),i=Cc(e.converter,t);return zc(n,[Yl(Xl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Si.exists(!1))]).then((()=>r))}function zc(e,t){return function(e,t){const n=new At;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=al(e);try{const e=await function(e,t){const n=jt(e),r=Vt.now(),i=t.reduce(((e,t)=>e.add(t.key)),ri());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Qr(),l=ri();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Ci(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ii(e.key,t,er(t.value.mapValue),Si.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:$r(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new vn(zt)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await nl(r,e.changes),await rs(r.remoteStore)}catch(e){const t=ys(e,"Failed to persist write");n.reject(t)}}(await ml(e),t,n))),n.promise}(Rl(e),t)}function Bc(e,t,n){const r=n.docs.get(t._key),i=new Mc(e);return new Tc(e,i,t._key,r,new Ac(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yt=e}($e.MF),(0,$e.om)(new et.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Ml(new Nt(e.getProvider("auth-internal")),new Lt(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ct(Ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dn(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),(0,$e.KO)(mt,"4.7.3",e),(0,$e.KO)(mt,"4.7.3","esm2017")}();const Vc=(0,$e.Wp)({apiKey:"AIzaSyCTHvBt2lLe9hCdgkqiDsHLfGTcPUJEuLY",authDomain:"long-covid-8f42d.firebaseapp.com",projectId:"long-covid-8f42d",storageBucket:"long-covid-8f42d.firebasestorage.app",messagingSenderId:"1066445028663",appId:"1:1066445028663:web:28bd3b28e184906feb2eb2"}),qc=(0,Ye.xI)(Vc),Wc=function(e,t){const n="object"==typeof e?e:(0,$e.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,$e.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,nt.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=kl(e,Cl))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&St("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=gt.MOCK_USER;else{t=(0,nt.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ct(Ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new gt(o)}e._authCredentials=new Pt(new Tt(t,n))}}(i,...e)}return i}(Vc);var Hc=n(579);const Gc=e=>{let{step:t}=e;return(0,Hc.jsx)("div",{className:"step-indicator",children:(0,Hc.jsxs)("div",{className:"step-indicator-wrapper",children:[(0,Hc.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Hc.jsx)("div",{className:"step-circle ".concat(t>=1?t>1?"completed":"active":"inactive"),children:t>1?(0,Hc.jsx)(Re,{className:"btn-icon"}):"1"}),(0,Hc.jsx)("div",{className:"step-label",children:(0,Hc.jsx)("span",{className:"step-label-text ".concat(t>=1?t>1?"completed":"active":"inactive"),children:"Personal Details"})})]}),(0,Hc.jsx)("div",{className:"step-connector ".concat(t>1?"completed":"inactive")}),(0,Hc.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Hc.jsx)("div",{className:"step-circle ".concat(t>=2?t>2?"completed":"active":"inactive"),children:t>2?(0,Hc.jsx)(Re,{className:"btn-icon"}):"2"}),(0,Hc.jsx)("div",{className:"step-label",children:(0,Hc.jsx)("span",{className:"step-label-text ".concat(t>=2?t>2?"completed":"active":"inactive"),children:"Connect Device"})})]}),(0,Hc.jsx)("div",{className:"step-connector ".concat(t>2?"completed":"inactive")}),(0,Hc.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Hc.jsx)("div",{className:"step-circle ".concat(t>=3?"active":"inactive"),children:t>3?(0,Hc.jsx)(Re,{className:"btn-icon"}):"3"}),(0,Hc.jsx)("div",{className:"step-label",children:(0,Hc.jsx)("span",{className:"step-label-text ".concat(t>=3?"active":"inactive"),children:"Authorization"})})]})]})})},Kc=e=>{let{title:t,children:n,icon:r}=e;return(0,Hc.jsx)("div",{className:"info-box",children:(0,Hc.jsxs)("div",{className:"info-box-content",children:[r&&(0,Hc.jsx)(r,{className:"info-box-icon"}),(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("h3",{className:"info-box-title",children:t}),(0,Hc.jsx)("p",{className:"info-box-text",children:n})]})]})})},Qc=[{id:"apple-watch",name:"Apple Watch",description:"Connect via Apple Health",icon:Le,color:"bg-gray-900 text-white",features:["Heart Rate","HRV","Activity","Sleep"],connectionType:"oauth",setupInstructions:"We'll redirect you to Apple Health to authorize data sharing."},{id:"fitbit",name:"Fitbit",description:"Connect via Fitbit API",icon:Fe,color:"bg-green-600 text-white",features:["Heart Rate","Steps","Sleep","Stress"],connectionType:"oauth",setupInstructions:"You'll be redirected to Fitbit to sign in and authorize access."},{id:"garmin",name:"Garmin",description:"Connect via Garmin Connect",icon:Le,color:"bg-blue-600 text-white",features:["Heart Rate","HRV","Training Load","Recovery"],connectionType:"oauth",setupInstructions:"Sign in to Garmin Connect to enable data synchronization."},{id:"samsung-health",name:"Samsung Health",description:"Connect via Samsung Health",icon:Ue,color:"bg-blue-800 text-white",features:["Heart Rate","Steps","Sleep","Stress"],connectionType:"oauth",setupInstructions:"Authorize Samsung Health to share your fitness data."},{id:"google-fit",name:"Google Fit",description:"Connect via Google Fit API",icon:Ue,color:"bg-red-500 text-white",features:["Activity","Heart Rate","Sleep","Location"],connectionType:"oauth",setupInstructions:"Sign in with Google to connect your Fit data."},{id:"manual",name:"Manual Entry",description:"Record data manually",icon:ze,color:"bg-purple-600 text-white",features:["Custom Input","Flexible Tracking","No Device Required"],connectionType:"manual",setupInstructions:"No setup required. You'll enter data manually in the app."}],Xc=["Fatigue","Post-exertional malaise","Brain fog","Headaches","Shortness of breath","Heart palpitations","Dizziness","Joint/muscle pain","Sleep disturbances","Temperature regulation issues","Digestive issues"];const Yc=function(){const e=Z(),[t,n]=(0,r.useState)(1),[i,o]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:"",age:"",gender:"",weight:"",height:"",covidDate:"",covidDuration:"",severity:"",symptoms:[],medicalConditions:"",selectedDevice:"",deviceConnected:!1,authorizationGiven:!1}),[a,s]=(0,r.useState)({}),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;o("symptoms"===t?e=>(0,Ie.A)((0,Ie.A)({},e),{},{symptoms:i?[...e.symptoms,n]:e.symptoms.filter((e=>e!==n))}):e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:"checkbox"===r?i:n})),a[t]&&s((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:""})))},f=async()=>{c(!0),d("Connecting...");const e=Qc.find((e=>e.id===i.selectedDevice));try{if("oauth"===e.connectionType){if("fitbit"===i.selectedDevice){const e={name:i.name,email:i.email,password:i.password,age:i.age,gender:i.gender,weight:i.weight,height:i.height,covidDate:i.covidDate,covidDuration:i.covidDuration,severity:i.severity,symptoms:i.symptoms,medicalConditions:i.medicalConditions,selectedDevice:i.selectedDevice};sessionStorage.setItem("registrationData",JSON.stringify(e));const t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("fitbitOAuthState",t),sessionStorage.setItem("fitbitAuthStartTime",Date.now().toString());const n="23Q9SZ",r=(()=>{const e=window.location.hostname,t=window.location.port,n=window.location.origin,r=window.location.pathname;console.log("=== REDIRECT URI DEBUG ==="),console.log("Hostname:",e),console.log("Port:",t),console.log("Origin:",n),console.log("Pathname:",r),console.log("Full location:",window.location.href);const i="localhost"===e||"127.0.0.1"===e,o=e.includes("github.io");let a;return console.log("Is localhost:",i),console.log("Is GitHub Pages:",o),a=i?t?"http://localhost:".concat(t,"/energy_balance/fitbit-dashboard"):"http://localhost:64556/energy_balance/fitbit-dashboard":o?"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback":"".concat(n,"/fitbit-dashboard/callback"),console.log("Generated redirect URI:",a),console.log("=== END REDIRECT URI DEBUG ==="),a})();if(console.log("=== FITBIT OAUTH FULL DEBUG ==="),console.log("Current window location:",window.location.href),console.log("Current hostname:",window.location.hostname),console.log("Current port:",window.location.port),console.log("Current origin:",window.location.origin),console.log("Current pathname:",window.location.pathname),console.log("Redirect URI being used:",r),console.log("Fitbit Client ID:",n?n.substring(0,6)+"...":"MISSING"),console.log("YOUR REGISTERED FITBIT URLs SHOULD BE:"),console.log("1. For localhost:","http://localhost:".concat(window.location.port||"64556","/energy_balance/fitbit-dashboard")),console.log("2. For GitHub Pages: https://obuchel.github.io/energy_balance/fitbit-dashboard/callback"),!n)throw new Error("Fitbit Client ID missing. Please check environment variables.");const o=new URL("https://www.fitbit.com/oauth2/authorize");o.searchParams.append("response_type","code"),o.searchParams.append("client_id",n),o.searchParams.append("redirect_uri",r),o.searchParams.append("scope","activity heartrate location nutrition profile settings sleep social weight"),o.searchParams.append("state",t),console.log("Full Fitbit OAuth URL:",o.toString()),console.log("=== END FULL DEBUG ===");return window.confirm("FITBIT OAUTH DEBUG INFO:\n\n"+"Current URL: ".concat(window.location.href,"\n")+"Detected Port: ".concat(window.location.port||"none (probably 64556)","\n")+"Redirect URI: ".concat(r,"\n\n")+"YOUR FITBIT APP SHOULD HAVE THESE EXACT URLs REGISTERED:\n"+"1. http://localhost:".concat(window.location.port||"64556","/energy_balance/fitbit-dashboard\n")+"2. https://obuchel.github.io/energy_balance/fitbit-dashboard/callback\n\n"+"Client ID: ".concat(n?n.substring(0,6)+"...":"MISSING","\n\n")+"If the redirect URI above doesn't EXACTLY match one of your registered URLs in dev.fitbit.com, you'll get the \"Invalid redirect_uri\" error.\n\nContinue to Fitbit?")?(d("Redirecting to Fitbit..."),void setTimeout((()=>{window.location.href=o.toString()}),1e3)):(c(!1),void d("Connection cancelled by user."))}await new Promise((e=>setTimeout(e,2e3))),d("Device ready for authorization"),o((e=>(0,Ie.A)((0,Ie.A)({},e),{},{deviceConnected:!0}))),n(3)}else o((e=>(0,Ie.A)((0,Ie.A)({},e),{},{deviceConnected:!0}))),d("Manual entry selected"),n(3)}catch(t){console.error("Device connection error:",t),d("Connection failed: ".concat(t.message))}finally{c(!1)}},p=async e=>{try{const t=gc(Pl(Wc,"users"),vc("email","==",e.toLowerCase()));return!(await Rc(t)).empty}catch(t){return console.error("Error checking email existence:",t),!1}},m=async()=>{if(1===t&&(()=>{const e={};i.name.trim()||(e.name="Name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required";return i.password?i.password.length<6?e.password="Password must be at least 6 characters (Firebase requirement)":i.password.length<8&&(e.password="Password should be at least 8 characters for better security"):e.password="Password is required",i.password!==i.confirmPassword&&(e.confirmPassword="Passwords do not match"),i.age?i.age<13&&(e.age="Age must be at least 13 (Firebase requirement)"):e.age="Age is required",i.gender||(e.gender="Gender is required"),s(e),0===Object.keys(e).length})()){c(!0);try{if(await p(i.email))return s({email:"This email address is already registered. Please use a different email or try signing in."}),void c(!1);c(!1),n(2)}catch(e){c(!1),console.error("Error checking email:",e),n(2)}}else 2===t&&(i.selectedDevice?(s({}),1):(s({device:"Please select a device or manual entry option"}),0))&&f()},g=()=>{t>1&&n(t-1)},y=Qc.find((e=>e.id===i.selectedDevice));return(0,Hc.jsx)("div",{className:"registration-page",children:(0,Hc.jsxs)("div",{className:"registration-container",children:[(0,Hc.jsxs)("div",{className:"registration-header",children:[(0,Hc.jsx)("h1",{className:"registration-title",children:"Join Energy Balance"}),(0,Hc.jsx)("p",{className:"registration-subtitle",children:"Set up your personalized energy management system"})]}),(0,Hc.jsx)(Gc,{step:t}),(0,Hc.jsxs)("div",{className:"registration-card fade-in-up",children:[1===t&&(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("h2",{className:"step-title",children:"Tell us about yourself"}),(0,Hc.jsx)(Kc,{title:"Why we need this information",icon:Be,children:"Your personal details help our system calculate your energy baseline, recovery capacity, and create a customized energy envelope specifically for your condition. All information is stored securely and processed locally on your device."}),(0,Hc.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m()},className:"space-y-6",children:[(0,Hc.jsxs)("div",{className:"form-grid two-cols",children:[(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(ze,{className:"form-label-icon"}),"Full Name *"]}),(0,Hc.jsx)("input",{type:"text",name:"name",value:i.name,onChange:h,className:"form-input ".concat(a.name?"error":""),placeholder:"Enter your full name"}),a.name&&(0,Hc.jsx)("p",{className:"error-message",children:a.name})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(Ve,{className:"form-label-icon"}),"Email Address *"]}),(0,Hc.jsx)("input",{type:"email",name:"email",value:i.email,onChange:h,className:"form-input ".concat(a.email?"error":""),placeholder:"Enter your email"}),a.email&&(0,Hc.jsx)("p",{className:"error-message",children:a.email})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(qe,{className:"form-label-icon"}),"Create Password *"]}),(0,Hc.jsx)("input",{type:"password",name:"password",value:i.password,onChange:h,className:"form-input ".concat(a.password?"error":""),placeholder:"Minimum 6 characters (Firebase requirement)"}),a.password&&(0,Hc.jsx)("p",{className:"error-message",children:a.password})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(qe,{className:"form-label-icon"}),"Confirm Password *"]}),(0,Hc.jsx)("input",{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:h,className:"form-input ".concat(a.confirmPassword?"error":""),placeholder:"Repeat your password"}),a.confirmPassword&&(0,Hc.jsx)("p",{className:"error-message",children:a.confirmPassword})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{className:"form-label",children:"Age *"}),(0,Hc.jsx)("input",{type:"number",name:"age",value:i.age,onChange:h,className:"form-input ".concat(a.age?"error":""),placeholder:"Your age",min:"18",max:"100"}),a.age&&(0,Hc.jsx)("p",{className:"error-message",children:a.age})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{className:"form-label",children:"Gender *"}),(0,Hc.jsxs)("select",{name:"gender",value:i.gender,onChange:h,className:"form-select ".concat(a.gender?"error":""),children:[(0,Hc.jsx)("option",{value:"",children:"Select gender"}),(0,Hc.jsx)("option",{value:"male",children:"Male"}),(0,Hc.jsx)("option",{value:"female",children:"Female"}),(0,Hc.jsx)("option",{value:"other",children:"Other"}),(0,Hc.jsx)("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}),a.gender&&(0,Hc.jsx)("p",{className:"error-message",children:a.gender})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(We,{className:"form-label-icon"}),"Weight (kg)"]}),(0,Hc.jsx)("input",{type:"number",name:"weight",value:i.weight,onChange:h,className:"form-input",placeholder:"Optional"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(He,{className:"form-label-icon"}),"Height (cm)"]}),(0,Hc.jsx)("input",{type:"number",name:"height",value:i.height,onChange:h,className:"form-input",placeholder:"Optional"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsxs)("label",{className:"form-label",children:[(0,Hc.jsx)(Ge,{className:"form-label-icon"}),"When did you first get COVID?"]}),(0,Hc.jsx)("input",{type:"date",name:"covidDate",value:i.covidDate,onChange:h,className:"form-input"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{className:"form-label",children:"Long COVID duration"}),(0,Hc.jsxs)("select",{name:"covidDuration",value:i.covidDuration,onChange:h,className:"form-select",children:[(0,Hc.jsx)("option",{value:"",children:"Select duration"}),(0,Hc.jsx)("option",{value:"less-than-1-month",children:"Less than 1 month"}),(0,Hc.jsx)("option",{value:"1-3-months",children:"1-3 months"}),(0,Hc.jsx)("option",{value:"3-6-months",children:"3-6 months"}),(0,Hc.jsx)("option",{value:"6-12-months",children:"6-12 months"}),(0,Hc.jsx)("option",{value:"1-2-years",children:"1-2 years"}),(0,Hc.jsx)("option",{value:"more-than-2-years",children:"More than 2 years"})]})]})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{className:"form-label",children:"Symptom severity"}),(0,Hc.jsxs)("select",{name:"severity",value:i.severity,onChange:h,className:"form-select",children:[(0,Hc.jsx)("option",{value:"",children:"Select severity"}),(0,Hc.jsx)("option",{value:"mild",children:"Mild"}),(0,Hc.jsx)("option",{value:"moderate",children:"Moderate"}),(0,Hc.jsx)("option",{value:"severe",children:"Severe"}),(0,Hc.jsx)("option",{value:"very-severe",children:"Very Severe"})]})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{className:"form-label",children:"What symptoms do you experience? (Select all that apply)"}),(0,Hc.jsx)("div",{className:"symptoms-grid",children:Xc.map((e=>(0,Hc.jsxs)("label",{className:"symptom-checkbox ".concat(i.symptoms.includes(e)?"selected":""),children:[(0,Hc.jsx)("input",{type:"checkbox",name:"symptoms",value:e,checked:i.symptoms.includes(e),onChange:h,className:"symptom-checkbox-input"}),(0,Hc.jsx)("span",{className:"symptom-checkbox-text",children:e})]},e)))})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{className:"form-label",children:"Pre-existing medical conditions"}),(0,Hc.jsx)("textarea",{name:"medicalConditions",value:i.medicalConditions,onChange:h,className:"form-textarea",rows:"3",placeholder:"Please list any medical conditions you had before COVID (e.g., diabetes, hypertension, autoimmune conditions)"})]}),(0,Hc.jsxs)("div",{className:"form-navigation",children:[(0,Hc.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>window.history.back(),children:"Cancel"}),(0,Hc.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{className:"loading-spinner"}),"Checking..."]}):(0,Hc.jsxs)(Hc.Fragment,{children:["Next",(0,Hc.jsx)(Ke,{className:"btn-icon"})]})})]})]})]}),2===t&&(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("h2",{className:"step-title",children:"Connect your wearable device"}),(0,Hc.jsx)(Kc,{title:"Why connect a wearable device?",icon:Qe,children:"Energy Balance uses data from your wearable device to monitor heart rate, heart rate variability (HRV), and activity levels. This provides objective measurements of your energy expenditure and physiological stress, helping to prevent overexertion and PEM."}),(0,Hc.jsx)("div",{className:"device-grid",children:Qc.map((e=>{const t=e.icon;return(0,Hc.jsxs)("div",{className:"device-card ".concat(i.selectedDevice===e.id?"selected":""),onClick:()=>{return t=e.id,o((e=>(0,Ie.A)((0,Ie.A)({},e),{},{selectedDevice:t}))),void s((e=>(0,Ie.A)((0,Ie.A)({},e),{},{device:""})));var t},children:[(0,Hc.jsx)("div",{className:"device-icon-wrapper ".concat(e.color),children:(0,Hc.jsx)(t,{className:"device-icon"})}),(0,Hc.jsx)("h3",{className:"device-name",children:e.name}),(0,Hc.jsx)("p",{className:"device-description",children:e.description}),(0,Hc.jsx)("div",{className:"device-features",children:e.features.map((e=>(0,Hc.jsxs)("div",{className:"device-feature",children:[(0,Hc.jsx)(Re,{className:"device-feature-icon"}),e]},e)))})]},e.id)}))}),a.device&&(0,Hc.jsx)("div",{className:"error-message text-center",children:a.device}),(0,Hc.jsxs)("div",{className:"form-navigation",children:[(0,Hc.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:g,children:[(0,Hc.jsx)(Xe,{className:"btn-icon"}),"Back"]}),(0,Hc.jsx)("button",{type:"button",className:"btn btn-primary",onClick:m,disabled:!i.selectedDevice||l,children:l?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{className:"loading-spinner"}),"Connecting..."]}):(0,Hc.jsxs)(Hc.Fragment,{children:["Connect Device",(0,Hc.jsx)(Ke,{className:"btn-icon"})]})})]})]}),3===t&&y&&(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("h2",{className:"step-title",children:"Authorize Data Access"}),(0,Hc.jsxs)("div",{className:"auth-device-info",children:[(0,Hc.jsx)("div",{className:"auth-device-icon ".concat(y.color),children:(0,Hc.jsx)(y.icon,{className:"device-icon"})}),(0,Hc.jsx)("h3",{className:"auth-device-name",children:y.name}),(0,Hc.jsx)("p",{className:"auth-device-instructions",children:y.setupInstructions}),u&&(0,Hc.jsx)("div",{className:"connection-status ".concat(u.includes("success")?"success":"info"),children:u})]}),(0,Hc.jsx)(Kc,{title:"Data Privacy & Security",icon:Be,children:"Your health data is encrypted and stored securely. We only access the specific metrics needed for energy management (heart rate, activity levels, sleep). You can revoke access at any time through your device settings or our app."}),(0,Hc.jsxs)("div",{className:"data-permissions",children:[(0,Hc.jsx)("h4",{className:"permissions-title",children:"Data Access Permissions"}),(0,Hc.jsx)("div",{className:"permissions-list",children:y.features.map((e=>(0,Hc.jsxs)("div",{className:"permission-item",children:[(0,Hc.jsx)(Re,{className:"permission-icon"}),e," data"]},e)))})]}),(0,Hc.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i.authorizationGiven){c(!0),s({});try{const t=i.email.trim().toLowerCase(),n=i.password.trim();if(console.log("Starting registration process..."),console.log("Email:",t),console.log("Password length:",n.length),n.length<6)throw new Error("Password must be at least 6 characters long");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Please enter a valid email address");console.log("Checking email availability...");if(await p(t))throw new Error("This email address is already registered. Please use a different email or try signing in.");console.log("Creating Firebase Auth user...");const r=(await(0,Ye.eJ)(qc,t,n)).user;console.log("Firebase Auth user created successfully:",r.uid);const o=(0,Ie.A)((0,Ie.A)({},i),{},{email:t});console.log("Saving user data to Firestore..."),await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;try{const n={uid:e.uid,name:t.name.trim(),email:t.email.toLowerCase().trim(),age:parseInt(t.age),gender:t.gender,weight:t.weight?parseFloat(t.weight):null,height:t.height?parseFloat(t.height):null,covidDate:t.covidDate||null,covidDuration:t.covidDuration||null,severity:t.severity||null,symptoms:t.symptoms||[],medicalConditions:t.medicalConditions||null,selectedDevice:t.selectedDevice,deviceConnected:t.deviceConnected,authorizationGiven:t.authorizationGiven,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),energyProfile:{baselineCalculated:!1,currentEnergyLevel:50,energyEnvelope:null,dailyEnergyBudget:null},preferences:{notifications:!0,reminderFrequency:"daily",dataRetention:"1year"}};return await Lc(Nl(Wc,"users",e.uid),n),console.log("User data saved successfully to Firestore"),n}catch(n){throw console.error("Error saving user data to Firestore:",n),new Error("Failed to save user profile. Please try again.")}}(r,o),console.log("Registration completed successfully"),alert("Registration successful! Welcome to Energy Balance."),e("/login",{state:{message:"Registration successful! Please sign in with your new account.",email:t}})}catch(n){console.error("Registration error:",n),console.error("Error code:",n.code),console.error("Error message:",n.message);let e="Registration failed. Please try again.";"auth/email-already-in-use"===n.code?e="This email address is already registered. Please use a different email or try signing in.":"auth/weak-password"===n.code?e="Password is too weak. Please choose a stronger password with at least 6 characters.":"auth/invalid-email"===n.code?e="Invalid email address format. Please check your email and try again.":"auth/operation-not-allowed"===n.code?e="Email/password accounts are not enabled. Please contact support.":"auth/too-many-requests"===n.code?e="Too many failed attempts. Please wait a few minutes and try again.":n.message.includes("Failed to save user profile")?e="Account created but profile setup failed. Please contact support.":(n.message.includes("already registered")||n.message.includes("Password must be")||n.message.includes("valid email"))&&(e=n.message),s({submit:e})}finally{c(!1)}}else s({authorization:"Please authorize data access to continue"})},children:[(0,Hc.jsxs)("div",{className:"auth-checkbox-wrapper",children:[(0,Hc.jsx)("input",{type:"checkbox",name:"authorizationGiven",checked:i.authorizationGiven,onChange:h,className:"auth-checkbox"}),(0,Hc.jsxs)("label",{className:"auth-checkbox-label",children:["I authorize Energy Balance to access my fitness and health data from ",y.name,"for the purpose of energy monitoring and management. I understand that I can revoke this authorization at any time through my device settings or the Energy Balance app."]})]}),a.authorization&&(0,Hc.jsx)("div",{className:"error-message",children:a.authorization}),a.submit&&(0,Hc.jsx)("div",{className:"error-message text-center",children:a.submit}),(0,Hc.jsxs)("div",{className:"form-navigation",children:[(0,Hc.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:g,children:[(0,Hc.jsx)(Xe,{className:"btn-icon"}),"Back"]}),(0,Hc.jsx)("button",{type:"submit",className:"btn btn-success",disabled:!i.authorizationGiven||l,children:l?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{className:"loading-spinner"}),"Creating Account..."]}):(0,Hc.jsxs)(Hc.Fragment,{children:["Complete Registration",(0,Hc.jsx)(Re,{className:"btn-icon"})]})})]})]}),i.deviceConnected&&"manual"!==i.selectedDevice&&(0,Hc.jsxs)("div",{className:"connection-test slide-in-right",children:[(0,Hc.jsxs)("h4",{className:"connection-test-title",children:[(0,Hc.jsx)(Re,{className:"btn-icon"}),"Connection Test"]}),(0,Hc.jsxs)("div",{className:"test-results",children:[(0,Hc.jsxs)("div",{className:"test-result-item",children:[(0,Hc.jsx)("span",{className:"test-result-label",children:"Device Status:"}),(0,Hc.jsx)("span",{className:"test-result-value",children:"Connected"})]}),(0,Hc.jsxs)("div",{className:"test-result-item",children:[(0,Hc.jsx)("span",{className:"test-result-label",children:"Last Sync:"}),(0,Hc.jsx)("span",{className:"test-result-value",children:"Just now"})]}),(0,Hc.jsxs)("div",{className:"test-result-item",children:[(0,Hc.jsx)("span",{className:"test-result-label",children:"Data Available:"}),(0,Hc.jsx)("span",{className:"test-result-value",children:y.features.join(", ")})]})]})]})]})]}),(0,Hc.jsxs)("div",{className:"progress-summary fade-in-up",children:[(0,Hc.jsx)("h3",{className:"progress-title",children:"Registration Progress"}),(0,Hc.jsxs)("div",{className:"progress-items",children:[(0,Hc.jsxs)("div",{className:"progress-item",children:[(0,Hc.jsx)("span",{className:"progress-item-label",children:"Personal Information"}),(0,Hc.jsx)("div",{className:"progress-item-status",children:t>1?(0,Hc.jsx)(Re,{className:"progress-icon completed"}):(0,Hc.jsx)("div",{className:"progress-circle ".concat(1===t?"active":"inactive")})})]}),(0,Hc.jsxs)("div",{className:"progress-item",children:[(0,Hc.jsx)("span",{className:"progress-item-label",children:"Device Connection"}),(0,Hc.jsx)("div",{className:"progress-item-status",children:t>2?(0,Hc.jsx)(Re,{className:"progress-icon completed"}):(0,Hc.jsx)("div",{className:"progress-circle ".concat(2===t?"active":"inactive")})})]}),(0,Hc.jsxs)("div",{className:"progress-item",children:[(0,Hc.jsx)("span",{className:"progress-item-label",children:"Authorization"}),(0,Hc.jsx)("div",{className:"progress-item-status",children:i.authorizationGiven?(0,Hc.jsx)(Re,{className:"progress-icon completed"}):(0,Hc.jsx)("div",{className:"progress-circle ".concat(3===t?"active":"inactive")})})]})]})]}),(0,Hc.jsx)("div",{className:"help-section",children:(0,Hc.jsxs)("p",{className:"help-text",children:["Need help? ",(0,Hc.jsx)("button",{className:"help-link",children:"Contact Support"})]})})]})})},$c=()=>{const e=window.location.hostname,t=window.location.port;console.log("=== REDIRECT URI DEBUG ==="),console.log("Hostname:",e),console.log("Port:",t),console.log("Full URL:",window.location.href);const n="localhost"===e||"127.0.0.1"===e,r=e.includes("github.io");let i;if(n){i="http://localhost:".concat(t||"64556","/energy_balance/fitbit-dashboard/callback")}else i=r?"https://obuchel.github.io/energy_balance/fitbit-dashboard/callback":"".concat(window.location.origin,"/energy_balance/fitbit-dashboard/callback");return console.log("Generated redirect URI:",i),console.log("This should match your Fitbit app registration EXACTLY"),console.log("=== END DEBUG ==="),i},Jc=()=>{const[e,t]=(0,r.useState)("processing"),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),l=Z(),c=$();(0,r.useEffect)((()=>{const e=async(e,r)=>{try{console.log("Creating Firebase user...");const i=gc(Pl(Wc,"users"),vc("email","==",e.email.toLowerCase()));if(!(await Rc(i)).empty)throw new Error("This email already exists in our database. Please use a different email or sign in.");let s;try{console.log("\ud83d\udd10 Attempting to create new Firebase Auth user...");s=(await(0,Ye.eJ)(qc,e.email.toLowerCase().trim(),e.password)).user,console.log("\u2705 New Firebase Auth user created:",s.uid)}catch(o){if("auth/email-already-in-use"!==o.code)throw o;{console.log("\ud83d\udd04 Email exists in Firebase Auth, but not in Firestore. Completing registration...");const{signInWithEmailAndPassword:r}=await Promise.resolve().then(n.bind(n,9786));try{s=(await r(qc,e.email.toLowerCase().trim(),e.password)).user,console.log("\u2705 Signed in to existing Firebase Auth user:",s.uid),t("Completing your profile setup...")}catch(a){throw new Error("Email exists in Firebase Auth but password doesn't match. Please use the correct password or try password reset.")}}}t("Saving your profile...");const l={uid:s.uid,name:e.name.trim(),email:e.email.toLowerCase().trim(),age:parseInt(e.age),gender:e.gender,weight:e.weight?parseFloat(e.weight):null,height:e.height?parseFloat(e.height):null,covidDate:e.covidDate||null,covidDuration:e.covidDuration||null,severity:e.severity||null,symptoms:e.symptoms||[],medicalConditions:e.medicalConditions||"",selectedDevice:"fitbit",deviceConnected:!0,authorizationGiven:!0,fitbitData:{authCode:r,redirectUri:$c(),authCodeReceivedAt:(new Date).toISOString(),tokensExchanged:!1},latestFitbitData:{date:null,heartRate:null,steps:null,calories:null,distance:null,activeMinutes:null,lastSync:null,needsInitialSync:!0},energyProfile:{baselineCalculated:!1,currentEnergyLevel:50,energyEnvelope:null,dailyEnergyBudget:null},preferences:{notifications:!0,reminderFrequency:"daily",dataRetention:"1year"},createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),registrationComplete:!0,accountStatus:"active"};await Lc(Nl(Wc,"users",s.uid),l),console.log("\u2705 User data saved to Firestore"),sessionStorage.removeItem("registrationData"),sessionStorage.removeItem("fitbitOAuthState"),sessionStorage.removeItem("fitbitAuthStartTime"),console.log("\u2705 Registration completed successfully")}catch(i){throw console.error("\u274c Registration error:",i),"auth/weak-password"===i.code?new Error("Password is too weak. Please choose a stronger password."):"auth/invalid-email"===i.code?new Error("Invalid email address format."):new Error("Registration failed: ".concat(i.message))}};(async()=>{try{console.log("=== Fitbit Callback Started ==="),console.log("Full URL:",window.location.href),console.log("Search params:",c.search);const n=new URLSearchParams(c.search),r=n.get("code"),i=n.get("state"),a=n.get("error"),u=n.get("error_description");if(console.log("Callback params:",{code:r?r.substring(0,10)+"...":null,state:i?i.substring(0,10)+"...":null,error:a,errorDescription:u}),s("Code: ".concat(r?"Present":"Missing",", State: ").concat(i?"Present":"Missing")),a){let e="Fitbit authorization failed";return e="access_denied"===a?"You denied access to Fitbit. Please try again and authorize access.":"Fitbit error: ".concat(u||a),o(e),void t("error")}if(!r)return o("No authorization code received from Fitbit. Please try the registration process again."),void t("error");if(!i)return o("No state parameter received from Fitbit. Please try the registration process again."),void t("error");const d=sessionStorage.getItem("fitbitOAuthState");if(console.log("State verification:",{received:i.substring(0,10)+"...",stored:d?d.substring(0,10)+"...":null}),i!==d)return o("Security validation failed. Please start the registration process again."),void t("error");const h=sessionStorage.getItem("fitbitAuthStartTime");if(h){if(Date.now()-parseInt(h)>6e5)return o("Session expired. Please start the registration process again."),void t("error")}const f=sessionStorage.getItem("registrationData");if(!f)return o("Registration data not found. Please start the registration process again."),void t("error");const p=JSON.parse(f);console.log("Registration data found for:",p.email),t("Creating your account..."),await e(p,r),t("success"),setTimeout((()=>{l("/login",{state:{message:"Registration successful! Your Fitbit has been connected. Sign in to start using the app.",email:p.email}})}),3e3)}catch(i){console.error("Fitbit callback error:",i),o("Failed to complete registration: ".concat(i.message)),t("error")}})()}),[c.search,l]);return(0,Hc.jsxs)("div",{className:"fitbit-callback-container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif",backgroundColor:"#f8f9fa"},children:[(0,Hc.jsxs)("div",{className:"callback-content",style:{textAlign:"center",maxWidth:"500px",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",backgroundColor:"white"},children:[("processing"===e||"Creating your account..."===e||"Saving your profile..."===e)&&(0,Hc.jsxs)("div",{children:[(0,Hc.jsxs)("h2",{style:{color:"#495057",marginBottom:"20px"},children:["\ud83d\udd17 ","processing"===e?"Processing your Fitbit connection...":e]}),(0,Hc.jsx)("div",{className:"spinner",style:{border:"4px solid #e9ecef",borderTop:"4px solid #007bff",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"20px auto"}}),(0,Hc.jsxs)("p",{style:{color:"#6c757d"},children:["processing"===e&&"Please wait while we complete your registration...","Creating your account..."===e&&"Setting up your Firebase account...","Saving your profile..."===e&&"Saving your profile and Fitbit connection..."]}),a&&"processing"===e&&(0,Hc.jsxs)("p",{style:{fontSize:"14px",color:"#6c757d",marginTop:"10px"},children:["Debug: ",a]})]}),"success"===e&&(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("h2",{style:{color:"#28a745",marginBottom:"20px"},children:"\u2705 Registration Completed Successfully!"}),(0,Hc.jsx)("p",{style:{color:"#495057",marginBottom:"10px"},children:"Your account has been created and your Fitbit has been connected."}),(0,Hc.jsx)("p",{style:{color:"#6c757d",fontSize:"14px"},children:"Redirecting to sign in page..."}),(0,Hc.jsx)("div",{className:"success-animation",style:{width:"60px",height:"60px",margin:"20px auto",borderRadius:"50%",backgroundColor:"#28a745",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white",animation:"pulse 2s infinite"},children:"\u2713"}),(0,Hc.jsxs)("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"8px",padding:"12px",marginTop:"20px",fontSize:"14px",color:"#155724"},children:[(0,Hc.jsx)("strong",{children:"Note:"})," Your Fitbit data will be synced when you first access your dashboard."]})]}),"error"===e&&(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("h2",{style:{color:"#dc3545",marginBottom:"20px"},children:"\u274c Registration Failed"}),(0,Hc.jsx)("div",{style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:(0,Hc.jsx)("p",{style:{color:"#721c24",margin:"0",fontSize:"14px"},children:i})}),(0,Hc.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"},children:[(0,Hc.jsx)("button",{onClick:()=>{sessionStorage.removeItem("registrationData"),sessionStorage.removeItem("fitbitOAuthState"),sessionStorage.removeItem("fitbitAuthStartTime"),l("/register")},style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Try Registration Again"}),(0,Hc.jsx)("button",{onClick:()=>{l("/login")},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Go to Login"})]})]})]}),(0,Hc.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { transform: scale(1); opacity: 1; }\n          50% { transform: scale(1.1); opacity: 0.8; }\n        }\n      "})]})};class Zc extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ru;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(eu(this,e))}has(e){return super.has(eu(this,e))}set(e,t){return super.set(tu(this,e),t)}delete(e){return super.delete(nu(this,e))}}Set;function eu(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function tu(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function nu(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function ru(e){return null!==e&&"object"===typeof e?e.valueOf():e}function iu(e){return e}function ou(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return au(e,iu,iu,n)}function au(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const a=new Zc,s=r[o++];let l=-1;for(const t of i){const e=s(t,++l,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[t,n]of a)a.set(t,e(n,o));return t(a)}(e,0)}function su(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function lu(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function cu(e){return e}var uu=1e-6;function du(e){return"translate("+e+",0)"}function hu(e){return"translate(0,"+e+")"}function fu(e){return t=>+e(t)}function pu(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function mu(){return!this.__axis}function gu(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",d=1===e||3===e?du:hu;function h(h){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,p=null==i?t.tickFormat?t.tickFormat.apply(t,n):cu:i,m=Math.max(o,0)+s,g=t.range(),y=+g[0]+l,v=+g[g.length-1]+l,b=(t.bandwidth?pu:fu)(t.copy(),l),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(f,t).order(),_=S.exit(),E=S.enter().append("g").attr("class","tick"),k=S.select("line"),j=S.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(E),k=k.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),j=j.merge(E.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),S=S.transition(h),k=k.transition(h),j=j.transition(h),_=_.transition(h).attr("opacity",uu).attr("transform",(function(e){return isFinite(e=b(e))?d(e+l):this.getAttribute("transform")})),E.attr("opacity",uu).attr("transform",(function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:b(e))+l)}))),_.remove(),x.attr("d",4===e||2===e?a?"M"+c*a+","+y+"H"+l+"V"+v+"H"+c*a:"M"+l+","+y+"V"+v:a?"M"+y+","+c*a+"V"+l+"H"+v+"V"+c*a:"M"+y+","+l+"H"+v),S.attr("opacity",1).attr("transform",(function(e){return d(b(e)+l)})),k.attr(u+"2",c*o),j.attr(u,c*m).text(p),w.filter(mu).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),w.each((function(){this.__axis=b}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(o=a=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(a=+e,h):a},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h.offset=function(e){return arguments.length?(l=+e,h):l},h}function yu(e){return gu(3,e)}function vu(e){return gu(4,e)}function bu(){}function wu(e){return null==e?bu:function(){return this.querySelector(e)}}function xu(){return[]}function Su(e){return null==e?xu:function(){return this.querySelectorAll(e)}}function _u(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function Eu(e){return function(){return this.matches(e)}}function ku(e){return function(t){return t.matches(e)}}var ju=Array.prototype.find;function Ou(){return this.firstElementChild}var Cu=Array.prototype.filter;function Au(){return Array.from(this.children)}function Tu(e){return new Array(e.length)}function Iu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Pu(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Iu(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Nu(e,t,n,r,i,o,a){var s,l,c,u=new Map,d=t.length,h=o.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(e,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new Iu(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(f[s])===l&&(i[s]=l)}function Du(e){return e.__data__}function Mu(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ru(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Iu.prototype={constructor:Iu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Lu="http://www.w3.org/1999/xhtml";const Fu={svg:"http://www.w3.org/2000/svg",xhtml:Lu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uu(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Fu.hasOwnProperty(t)?{space:Fu[t],local:e}:e}function zu(e){return function(){this.removeAttribute(e)}}function Bu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vu(e,t){return function(){this.setAttribute(e,t)}}function qu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wu(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Hu(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Gu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ku(e){return function(){this.style.removeProperty(e)}}function Qu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xu(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Yu(e,t){return e.style.getPropertyValue(t)||Gu(e).getComputedStyle(e,null).getPropertyValue(t)}function $u(e){return function(){delete this[e]}}function Ju(e,t){return function(){this[e]=t}}function Zu(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ed(e){return e.trim().split(/^|\s+/)}function td(e){return e.classList||new nd(e)}function nd(e){this._node=e,this._names=ed(e.getAttribute("class")||"")}function rd(e,t){for(var n=td(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function id(e,t){for(var n=td(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function od(e){return function(){rd(this,e)}}function ad(e){return function(){id(this,e)}}function sd(e,t){return function(){(t.apply(this,arguments)?rd:id)(this,e)}}function ld(){this.textContent=""}function cd(e){return function(){this.textContent=e}}function ud(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function dd(){this.innerHTML=""}function hd(e){return function(){this.innerHTML=e}}function fd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function pd(){this.nextSibling&&this.parentNode.appendChild(this)}function md(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gd(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Lu&&t.documentElement.namespaceURI===Lu?t.createElement(e):t.createElementNS(n,e)}}function yd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vd(e){var t=Uu(e);return(t.local?yd:gd)(t)}function bd(){return null}function wd(){var e=this.parentNode;e&&e.removeChild(this)}function xd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _d(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Ed(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function kd(e,t,n){var r=Gu(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function jd(e,t){return function(){return kd(this,e,t)}}function Od(e,t){return function(){return kd(this,e,t.apply(this,arguments))}}nd.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Cd=[null];function Ad(e,t){this._groups=e,this._parents=t}function Td(){return new Ad([[document.documentElement]],Cd)}Ad.prototype=Td.prototype={constructor:Ad,select:function(e){"function"!==typeof e&&(e=wu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Ad(r,this._parents)},selectAll:function(e){e="function"===typeof e?_u(e):Su(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new Ad(r,i)},selectChild:function(e){return this.select(null==e?Ou:function(e){return function(){return ju.call(this.children,e)}}("function"===typeof e?e:ku(e)))},selectChildren:function(e){return this.selectAll(null==e?Au:function(e){return function(){return Cu.call(this.children,e)}}("function"===typeof e?e:ku(e)))},filter:function(e){"function"!==typeof e&&(e=Eu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Ad(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Du);var n=t?Nu:Pu,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],h=d.length,f=Mu(e.call(u,u&&u.__data__,c,r)),p=f.length,m=s[c]=new Array(p),g=a[c]=new Array(p);n(u,d,m,g,l[c]=new Array(h),f,t);for(var y,v,b=0,w=0;b<p;++b)if(y=m[b]){for(b>=w&&(w=b+1);!(v=g[w])&&++w<p;);y._next=v||null}}return(a=new Ad(a,r))._enter=s,a._exit=l,a},enter:function(){return new Ad(this._enter||this._groups.map(Tu),this._parents)},exit:function(){return new Ad(this._exit||this._groups.map(Tu),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],d=r[l],h=u.length,f=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new Ad(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ru);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Ad(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=Uu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Bu:zu:"function"===typeof t?n.local?Hu:Wu:n.local?qu:Vu)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ku:"function"===typeof t?Xu:Qu)(e,t,null==n?"":n)):Yu(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?$u:"function"===typeof t?Zu:Ju)(e,t)):this.node()[e]},classed:function(e,t){var n=ed(e+"");if(arguments.length<2){for(var r=td(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?sd:t?od:ad)(n,t))},text:function(e){return arguments.length?this.each(null==e?ld:("function"===typeof e?ud:cd)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?dd:("function"===typeof e?fd:hd)(e)):this.node().innerHTML},raise:function(){return this.each(pd)},lower:function(){return this.each(md)},append:function(e){var t="function"===typeof e?e:vd(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:vd(e),r=null==t?bd:"function"===typeof t?t:wu(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(wd)},clone:function(e){return this.select(e?Sd:xd)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Ed:_d,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Od:jd)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Id=Td;var Pd={value:()=>{}};function Nd(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Dd(r)}function Dd(e){this._=e}function Md(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Rd(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Pd,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Dd.prototype=Nd.prototype={constructor:Dd,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=Rd(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Rd(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=Md(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dd(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Ld=Nd;var Fd,Ud,zd=0,Bd=0,Vd=0,qd=0,Wd=0,Hd=0,Gd="object"===typeof performance&&performance.now?performance:Date,Kd="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qd(){return Wd||(Kd(Xd),Wd=Gd.now()+Hd)}function Xd(){Wd=0}function Yd(){this._call=this._time=this._next=null}function $d(e,t,n){var r=new Yd;return r.restart(e,t,n),r}function Jd(){Wd=(qd=Gd.now())+Hd,zd=Bd=0;try{!function(){Qd(),++zd;for(var e,t=Fd;t;)(e=Wd-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zd}()}finally{zd=0,function(){var e,t,n=Fd,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Fd=t);Ud=e,eh(r)}(),Wd=0}}function Zd(){var e=Gd.now(),t=e-qd;t>1e3&&(Hd-=t,qd=e)}function eh(e){zd||(Bd&&(Bd=clearTimeout(Bd)),e-Wd>24?(e<1/0&&(Bd=setTimeout(Jd,e-Gd.now()-Hd)),Vd&&(Vd=clearInterval(Vd))):(Vd||(qd=Gd.now(),Vd=setInterval(Zd,1e3)),zd=1,Kd(Jd)))}function th(e,t,n){var r=new Yd;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}Yd.prototype=$d.prototype={constructor:Yd,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Qd():+n)+(null==t?0:+t),this._next||Ud===this||(Ud?Ud._next=this:Fd=this,Ud=this),this._call=e,this._time=n,eh()},stop:function(){this._call&&(this._call=null,this._time=1/0,eh())}};var nh=Ld("start","end","cancel","interrupt"),rh=[];function ih(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return th(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(th((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=$d(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:nh,tween:rh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function oh(e,t){var n=sh(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ah(e,t){var n=sh(e,t);if(n.state>3)throw new Error("too late; already running");return n}function sh(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ch,uh=180/Math.PI,dh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hh(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*uh,skewX:Math.atan(l)*uh,scaleX:a,scaleY:s}}function fh(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:lh(e,i)},{i:l-2,x:lh(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:lh(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:lh(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:lh(e,n)},{i:s-2,x:lh(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var ph=fh((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dh:hh(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),mh=fh((function(e){return null==e?dh:(ch||(ch=document.createElementNS("http://www.w3.org/2000/svg","g")),ch.setAttribute("transform",e),(e=ch.transform.baseVal.consolidate())?hh((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):dh)}),", ",")",")");function gh(e,t){var n,r;return function(){var i=ah(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function yh(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=ah(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function vh(e,t,n){var r=e._id;return e.each((function(){var e=ah(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return sh(e,r).value[t]}}function bh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xh(){}var Sh=.7,_h=1/Sh,Eh="\\s*([+-]?\\d+)\\s*",kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oh=/^#([0-9a-f]{3,8})$/,Ch=new RegExp("^rgb\\(".concat(Eh,",").concat(Eh,",").concat(Eh,"\\)$")),Ah=new RegExp("^rgb\\(".concat(jh,",").concat(jh,",").concat(jh,"\\)$")),Th=new RegExp("^rgba\\(".concat(Eh,",").concat(Eh,",").concat(Eh,",").concat(kh,"\\)$")),Ih=new RegExp("^rgba\\(".concat(jh,",").concat(jh,",").concat(jh,",").concat(kh,"\\)$")),Ph=new RegExp("^hsl\\(".concat(kh,",").concat(jh,",").concat(jh,"\\)$")),Nh=new RegExp("^hsla\\(".concat(kh,",").concat(jh,",").concat(jh,",").concat(kh,"\\)$")),Dh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mh(){return this.rgb().formatHex()}function Rh(){return this.rgb().formatRgb()}function Lh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Oh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Fh(t):3===n?new Bh(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Uh(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Uh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ch.exec(e))?new Bh(t[1],t[2],t[3],1):(t=Ah.exec(e))?new Bh(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Th.exec(e))?Uh(t[1],t[2],t[3],t[4]):(t=Ih.exec(e))?Uh(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ph.exec(e))?Kh(t[1],t[2]/100,t[3]/100,1):(t=Nh.exec(e))?Kh(t[1],t[2]/100,t[3]/100,t[4]):Dh.hasOwnProperty(e)?Fh(Dh[e]):"transparent"===e?new Bh(NaN,NaN,NaN,0):null}function Fh(e){return new Bh(e>>16&255,e>>8&255,255&e,1)}function Uh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Bh(e,t,n,r)}function zh(e,t,n,r){return 1===arguments.length?((i=e)instanceof xh||(i=Lh(i)),i?new Bh((i=i.rgb()).r,i.g,i.b,i.opacity):new Bh):new Bh(e,t,n,null==r?1:r);var i}function Bh(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Vh(){return"#".concat(Gh(this.r)).concat(Gh(this.g)).concat(Gh(this.b))}function qh(){const e=Wh(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Hh(this.r),", ").concat(Hh(this.g),", ").concat(Hh(this.b)).concat(1===e?")":", ".concat(e,")"))}function Wh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gh(e){return((e=Hh(e))<16?"0":"")+e.toString(16)}function Kh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xh(e,t,n,r)}function Qh(e){if(e instanceof Xh)return new Xh(e.h,e.s,e.l,e.opacity);if(e instanceof xh||(e=Lh(e)),!e)return new Xh;if(e instanceof Xh)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Xh(a,s,l,e.opacity)}function Xh(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Yh(e){return(e=(e||0)%360)<0?e+360:e}function $h(e){return Math.max(0,Math.min(1,e||0))}function Jh(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Zh(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}bh(xh,Lh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mh,formatHex:Mh,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Qh(this).formatHsl()},formatRgb:Rh,toString:Rh}),bh(Bh,zh,wh(xh,{brighter(e){return e=null==e?_h:Math.pow(_h,e),new Bh(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Sh:Math.pow(Sh,e),new Bh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bh(Hh(this.r),Hh(this.g),Hh(this.b),Wh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vh,formatHex:Vh,formatHex8:function(){return"#".concat(Gh(this.r)).concat(Gh(this.g)).concat(Gh(this.b)).concat(Gh(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:qh,toString:qh})),bh(Xh,(function(e,t,n,r){return 1===arguments.length?Qh(e):new Xh(e,t,n,null==r?1:r)}),wh(xh,{brighter(e){return e=null==e?_h:Math.pow(_h,e),new Xh(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Sh:Math.pow(Sh,e),new Xh(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Bh(Jh(e>=240?e-240:e+120,i,r),Jh(e,i,r),Jh(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Xh(Yh(this.h),$h(this.s),$h(this.l),Wh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wh(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Yh(this.h),", ").concat(100*$h(this.s),"%, ").concat(100*$h(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ef=e=>()=>e;function tf(e,t){return function(n){return e+n*t}}function nf(e){return 1===(e=+e)?rf:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):ef(isNaN(t)?n:t)}}function rf(e,t){var n=t-e;return n?tf(e,n):ef(isNaN(e)?t:e)}const of=function e(t){var n=nf(t);function r(e,t){var r=n((e=zh(e)).r,(t=zh(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=rf(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function af(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=zh(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}af((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Zh((n-r/t)*t,a,i,o,s)}})),af((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Zh((n-r/t)*t,i,o,a,s)}}));var sf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lf=new RegExp(sf.source,"g");function cf(e,t){var n,r,i,o=sf.lastIndex=lf.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=sf.exec(e))&&(r=lf.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:lh(n,r)})),o=lf.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function uf(e,t){var n;return("number"===typeof t?lh:t instanceof Lh?of:(n=Lh(t))?(t=n,of):cf)(e,t)}function df(e){return function(){this.removeAttribute(e)}}function hf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ff(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function pf(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function mf(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function gf(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function yf(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function vf(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function bf(e,t){return function(){oh(this,e).delay=+t.apply(this,arguments)}}function wf(e,t){return t=+t,function(){oh(this,e).delay=t}}function xf(e,t){return function(){ah(this,e).duration=+t.apply(this,arguments)}}function Sf(e,t){return t=+t,function(){ah(this,e).duration=t}}var _f=Id.prototype.constructor;function Ef(e){return function(){this.style.removeProperty(e)}}var kf=0;function jf(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Of(){return++kf}var Cf=Id.prototype;jf.prototype=function(e){return Id().transition(e)}.prototype={constructor:jf,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=wu(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,ih(d[h],t,n,h,d,sh(s,n)));return new jf(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Su(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),p=sh(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&ih(h,t,n,m,f,p);o.push(f),a.push(l)}return new jf(o,a,t,n)},selectChild:Cf.selectChild,selectChildren:Cf.selectChildren,filter:function(e){"function"!==typeof e&&(e=Eu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new jf(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<r;++s)a[s]=t[s];return new jf(a,this._parents,this._name,this._id)},selection:function(){return new _f(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Of(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=sh(a,t);ih(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jf(r,this._parents,e,n)},call:Cf.call,nodes:Cf.nodes,node:Cf.node,size:Cf.size,empty:Cf.empty,each:Cf.each,on:function(e,t){var n=this._id;return arguments.length<2?sh(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?oh:ah;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=Uu(e),r="transform"===n?mh:uf;return this.attrTween(e,"function"===typeof t?(n.local?gf:mf)(n,r,vh(this,"attr."+e,t)):null==t?(n.local?hf:df)(n):(n.local?pf:ff)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Uu(e);return this.tween(n,(r.local?yf:vf)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?ph:uf;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Yu(this,e),a=(this.style.removeProperty(e),Yu(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,Ef(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=Yu(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Yu(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,vh(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=ah(this,e),c=l.on,u=null==l.value[a]?o||(o=Ef(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=Yu(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(vh(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=sh(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?gh:yh)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?bf:wf)(t,e)):sh(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?xf:Sf)(t,e)):sh(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){ah(this,e).ease=t}}(t,e)):sh(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;ah(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each((function(){var n=ah(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:Cf[Symbol.iterator]};var Af={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Tf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Id.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)}))},Id.prototype.transition=function(e){var t,n;e instanceof jf?(t=e._id,e=e._name):(t=Of(),(n=Af).time=Qd(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&ih(a,e,t,c,s,n||Tf(a,t));return new jf(r,this._parents,e,t)};const{abs:If,max:Pf,min:Nf}=Math;function Df(e){return[+e[0],+e[1]]}function Mf(e){return[Df(e[0]),Df(e[1])]}["w","e"].map(Rf),["n","s"].map(Rf),["n","w","e","s","nw","ne","sw","se"].map(Rf);function Rf(e){return{type:e}}function Lf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ff(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}const Uf=Symbol("implicit");function zf(){var e=new Zc,t=[],n=[],r=Uf;function i(i){let o=e.get(i);if(void 0===o){if(r!==Uf)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Zc;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return zf(t,n).unknown(r)},Lf.apply(i,arguments),i}function Bf(){var e,t,n=zf().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Bf(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Lf.apply(d(),arguments)}function Vf(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Vf(t())},e}function qf(){return Vf(Bf.apply(null,arguments).paddingInner(1))}const Wf=Math.sqrt(50),Hf=Math.sqrt(10),Gf=Math.sqrt(2);function Kf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Wf?10:o>=Hf?5:o>=Gf?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Kf(e,t,2*n):[s,l,c]}function Qf(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?Kf(t,e,n):Kf(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Xf(e,t,n){return Kf(e=+e,t=+t,n=+n)[2]}function Yf(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Xf(t,e,n):Xf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $f(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jf(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zf(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=$f,n=(t,n)=>$f(e(t),n),r=(t,n)=>e(t)-n):(t=e===$f||e===Jf?e:ep,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function ep(){return 0}function tp(e){return null===e?NaN:+e}const np=Zf($f),rp=np.right,ip=(np.left,Zf(tp).center,rp);function op(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=cp(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function ap(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sp(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=cp(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function lp(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function cp(e,t){var n,r=typeof t;return null==t||"boolean"===r?ef(t):("number"===r?lh:"string"===r?(n=Lh(t))?(t=n,of):cf:t instanceof Lh?of:t instanceof Date?ap:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?lp:Array.isArray(t)?op:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?sp:lh)(e,t)}function up(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dp(e){return+e}var hp=[0,1];function fp(e){return e}function pp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function mp(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=pp(i,r),o=n(a,o)):(r=pp(r,i),o=n(o,a)),function(e){return o(r(e))}}function gp(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=pp(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=ip(e,t,1,r)-1;return o[n](i[n](t))}}function yp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vp(){var e,t,n,r,i,o,a=hp,s=hp,l=cp,c=fp;function u(){var e=Math.min(a.length,s.length);return c!==fp&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?gp:mp,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),lh)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,dp),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=up,u()},d.clamp=function(e){return arguments.length?(c=!!e||fp,u()):c!==fp},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function bp(){return vp()(fp,fp)}var wp,xp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sp(e){if(!(t=xp.exec(e)))throw new Error("invalid format: "+e);var t;return new _p({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _p(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ep(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function kp(e){return(e=Ep(Math.abs(e)))?e[1]:NaN}function jp(e,t){var n=Ep(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Sp.prototype=_p.prototype,_p.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Op={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jp(100*e,t),r:jp,s:function(e,t){var n=Ep(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(wp=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ep(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Cp(e){return e}var Ap,Tp,Ip,Pp=Array.prototype.map,Np=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Dp(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Cp:(t=Pp.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Cp:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Pp.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Sp(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Op[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",x=Op[v],S=/[defgprs%]/.test(v);function _(e){var i,o,l,h=b,_=w;if("c"===v)_=x(e)+_,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,_=("s"===v?Np[8+wp/3]:"")+_+(E&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=h.length+e.length+_.length,j=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(j+e,j.length?p-_.length:1/0),j=""),n){case"<":e=h+e+_+j;break;case"=":e=h+j+e+_;break;case"^":e=j.slice(0,k=j.length>>1)+h+e+_+j.slice(k);break;default:e=j+h+e+_}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=Sp(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(kp(t)/3))),i=Math.pow(10,-r),o=Np[8+r/3];return function(e){return n(i*e)+o}}}}function Mp(e,t,n,r){var i,o=Yf(e,t,n);switch((r=Sp(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kp(t)/3)))-kp(Math.abs(e)))}(o,a))||(r.precision=i),Ip(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kp(t)-kp(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-kp(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Tp(r)}function Rp(e){var t=e.domain;return e.ticks=function(e){var n=t();return Qf(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Mp(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Xf(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Lp(){var e=bp();return e.copy=function(){return yp(e,Lp())},Lf.apply(e,arguments),Rp(e)}function Fp(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,dp),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Fp(e).unknown(t)},e=arguments.length?Array.from(e,dp):[0,1],Rp(n)}function Up(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function zp(e){return Math.log(e)}function Bp(e){return Math.exp(e)}function Vp(e){return-Math.log(-e)}function qp(e){return-Math.exp(-e)}function Wp(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hp(e){return(t,n)=>-e(-t,n)}function Gp(e){const t=e(zp,Bp),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Wp:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=Hp(r),i=Hp(i),e(Vp,qp)):e(zp,Bp),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Qf(a,s,f))}else p=Qf(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=Sp(n)).precision||(n.trim=!0),n=Tp(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(Up(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Kp(){const e=Gp(vp()).domain([1,10]);return e.copy=()=>yp(e,Kp()).base(e.base()),Lf.apply(e,arguments),e}function Qp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Xp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yp(e){var t=1,n=e(Qp(t),Xp(t));return n.constant=function(n){return arguments.length?e(Qp(t=+n),Xp(t)):t},Rp(n)}function $p(){var e=Yp(vp());return e.copy=function(){return yp(e,$p()).constant(e.constant())},Lf.apply(e,arguments)}function Jp(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zp(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function em(e){return e<0?-e*e:e*e}function tm(e){var t=e(fp,fp),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(fp,fp):.5===n?e(Zp,em):e(Jp(n),Jp(1/n)):n},Rp(t)}function nm(){var e=tm(vp());return e.copy=function(){return yp(e,nm()).exponent(e.exponent())},Lf.apply(e,arguments),e}function rm(){return nm.apply(null,arguments).exponent(.5)}function im(e){return Math.sign(e)*e*e}function om(){var e,t=bp(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(im(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,dp)).map(im)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return om(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Lf.apply(i,arguments),Rp(i)}function am(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$f;if(e===$f)return lm;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function lm(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function cm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?lm:sm(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);cm(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(um(e,n,t),i(e[r],o)>0&&um(e,n,r);a<s;){for(um(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?um(e,n,s):(++s,um(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function um(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function dm(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return am(e);if(t>=1)return su(e);var r,i=(r-1)*t,o=Math.floor(i),a=su(cm(e,o).subarray(0,o+1));return a+(am(e.subarray(o+1))-a)*(i-o)}}function hm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tp;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function fm(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=hm(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[ip(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort($f),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return fm().domain(t).range(n).unknown(e)},Lf.apply(o,arguments)}function pm(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[ip(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return pm().domain([t,n]).range(o).unknown(e)},Lf.apply(Rp(a),arguments)}function mm(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[ip(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return mm().domain(t).range(n).unknown(e)},Lf.apply(i,arguments)}Ap=Dp({thousands:",",grouping:[3],currency:["$",""]}),Tp=Ap.format,Ip=Ap.formatPrefix;const gm=1e3,ym=6e4,vm=36e5,bm=864e5,wm=6048e5,xm=2592e6,Sm=31536e6,_m=new Date,Em=new Date;function km(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>km((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(_m.setTime(+t),Em.setTime(+r),e(_m),e(Em),Math.floor(n(_m,Em))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const jm=km((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));jm.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?km((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):jm:null);jm.range;const Om=km((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*gm)}),((e,t)=>(t-e)/gm),(e=>e.getUTCSeconds())),Cm=(Om.range,km((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gm)}),((e,t)=>{e.setTime(+e+t*ym)}),((e,t)=>(t-e)/ym),(e=>e.getMinutes()))),Am=(Cm.range,km((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*ym)}),((e,t)=>(t-e)/ym),(e=>e.getUTCMinutes()))),Tm=(Am.range,km((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gm-e.getMinutes()*ym)}),((e,t)=>{e.setTime(+e+t*vm)}),((e,t)=>(t-e)/vm),(e=>e.getHours()))),Im=(Tm.range,km((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*vm)}),((e,t)=>(t-e)/vm),(e=>e.getUTCHours()))),Pm=(Im.range,km((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ym)/bm),(e=>e.getDate()-1))),Nm=(Pm.range,km((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/bm),(e=>e.getUTCDate()-1))),Dm=(Nm.range,km((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/bm),(e=>Math.floor(e/bm))));Dm.range;function Mm(e){return km((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ym)/wm))}const Rm=Mm(0),Lm=Mm(1),Fm=Mm(2),Um=Mm(3),zm=Mm(4),Bm=Mm(5),Vm=Mm(6);Rm.range,Lm.range,Fm.range,Um.range,zm.range,Bm.range,Vm.range;function qm(e){return km((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/wm))}const Wm=qm(0),Hm=qm(1),Gm=qm(2),Km=qm(3),Qm=qm(4),Xm=qm(5),Ym=qm(6),$m=(Wm.range,Hm.range,Gm.range,Km.range,Qm.range,Xm.range,Ym.range,km((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Jm=($m.range,km((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Zm=(Jm.range,km((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Zm.every=e=>isFinite(e=Math.floor(e))&&e>0?km((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;Zm.range;const eg=km((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));eg.every=e=>isFinite(e=Math.floor(e))&&e>0?km((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;eg.range;function tg(e,t,n,r,i,o){const a=[[Om,1,gm],[Om,5,5e3],[Om,15,15e3],[Om,30,3e4],[o,1,ym],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,vm],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,bm],[r,2,1728e5],[n,1,wm],[t,1,xm],[t,3,7776e6],[e,1,Sm]];function s(t,n,r){const i=Math.abs(n-t)/r,o=Zf((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(Yf(t/Sm,n/Sm,r));if(0===o)return jm.every(Math.max(Yf(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[ng,rg]=tg(eg,Jm,Wm,Dm,Im,Am),[ig,og]=tg(Zm,$m,Rm,Pm,Tm,Cm);function ag(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var cg,ug,dg,hg={"-":"",_:" ",0:"0"},fg=/^\s*\d+/,pg=/^%/,mg=/[\\^$*+?|[\]().{}]/g;function gg(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function yg(e){return e.replace(mg,"\\$&")}function vg(e){return new RegExp("^(?:"+e.map(yg).join("|")+")","i")}function bg(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function wg(e,t,n){var r=fg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function xg(e,t,n){var r=fg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Sg(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _g(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Eg(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kg(e,t,n){var r=fg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function jg(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Og(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cg(e,t,n){var r=fg.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ag(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Tg(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ig(e,t,n){var r=fg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Pg(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ng(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Dg(e,t,n){var r=fg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Mg(e,t,n){var r=fg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Rg(e,t,n){var r=fg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lg(e,t,n){var r=pg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Fg(e,t,n){var r=fg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ug(e,t,n){var r=fg.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function zg(e,t){return gg(e.getDate(),t,2)}function Bg(e,t){return gg(e.getHours(),t,2)}function Vg(e,t){return gg(e.getHours()%12||12,t,2)}function qg(e,t){return gg(1+Pm.count(Zm(e),e),t,3)}function Wg(e,t){return gg(e.getMilliseconds(),t,3)}function Hg(e,t){return Wg(e,t)+"000"}function Gg(e,t){return gg(e.getMonth()+1,t,2)}function Kg(e,t){return gg(e.getMinutes(),t,2)}function Qg(e,t){return gg(e.getSeconds(),t,2)}function Xg(e){var t=e.getDay();return 0===t?7:t}function Yg(e,t){return gg(Rm.count(Zm(e)-1,e),t,2)}function $g(e){var t=e.getDay();return t>=4||0===t?zm(e):zm.ceil(e)}function Jg(e,t){return e=$g(e),gg(zm.count(Zm(e),e)+(4===Zm(e).getDay()),t,2)}function Zg(e){return e.getDay()}function ey(e,t){return gg(Lm.count(Zm(e)-1,e),t,2)}function ty(e,t){return gg(e.getFullYear()%100,t,2)}function ny(e,t){return gg((e=$g(e)).getFullYear()%100,t,2)}function ry(e,t){return gg(e.getFullYear()%1e4,t,4)}function iy(e,t){var n=e.getDay();return gg((e=n>=4||0===n?zm(e):zm.ceil(e)).getFullYear()%1e4,t,4)}function oy(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gg(t/60|0,"0",2)+gg(t%60,"0",2)}function ay(e,t){return gg(e.getUTCDate(),t,2)}function sy(e,t){return gg(e.getUTCHours(),t,2)}function ly(e,t){return gg(e.getUTCHours()%12||12,t,2)}function cy(e,t){return gg(1+Nm.count(eg(e),e),t,3)}function uy(e,t){return gg(e.getUTCMilliseconds(),t,3)}function dy(e,t){return uy(e,t)+"000"}function hy(e,t){return gg(e.getUTCMonth()+1,t,2)}function fy(e,t){return gg(e.getUTCMinutes(),t,2)}function py(e,t){return gg(e.getUTCSeconds(),t,2)}function my(e){var t=e.getUTCDay();return 0===t?7:t}function gy(e,t){return gg(Wm.count(eg(e)-1,e),t,2)}function yy(e){var t=e.getUTCDay();return t>=4||0===t?Qm(e):Qm.ceil(e)}function vy(e,t){return e=yy(e),gg(Qm.count(eg(e),e)+(4===eg(e).getUTCDay()),t,2)}function by(e){return e.getUTCDay()}function wy(e,t){return gg(Hm.count(eg(e)-1,e),t,2)}function xy(e,t){return gg(e.getUTCFullYear()%100,t,2)}function Sy(e,t){return gg((e=yy(e)).getUTCFullYear()%100,t,2)}function _y(e,t){return gg(e.getUTCFullYear()%1e4,t,4)}function Ey(e,t){var n=e.getUTCDay();return gg((e=n>=4||0===n?Qm(e):Qm.ceil(e)).getUTCFullYear()%1e4,t,4)}function ky(){return"+0000"}function jy(){return"%"}function Oy(e){return+e}function Cy(e){return Math.floor(+e/1e3)}function Ay(e){return new Date(e)}function Ty(e){return e instanceof Date?+e:+new Date(+e)}function Iy(e,t,n,r,i,o,a,s,l,c){var u=bp(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Ty)):h().map(Ay)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Up(n,e)):u},u.copy=function(){return yp(u,Iy(e,t,n,r,i,o,a,s,l,c))},u}function Py(){return Lf.apply(Iy(ig,og,Zm,$m,Rm,Pm,Tm,Cm,Om,ug).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ny(){return Lf.apply(Iy(ng,rg,eg,Jm,Wm,Nm,Im,Am,Om,dg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dy(){var e,t,n,r,i,o=0,a=1,s=fp,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(cp),c.rangeRound=u(up),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function My(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ry(){var e=Rp(Dy()(fp));return e.copy=function(){return My(e,Ry())},Ff.apply(e,arguments)}function Ly(){var e=Gp(Dy()).domain([1,10]);return e.copy=function(){return My(e,Ly()).base(e.base())},Ff.apply(e,arguments)}function Fy(){var e=Yp(Dy());return e.copy=function(){return My(e,Fy()).constant(e.constant())},Ff.apply(e,arguments)}function Uy(){var e=tm(Dy());return e.copy=function(){return My(e,Uy()).exponent(e.exponent())},Ff.apply(e,arguments)}function zy(){return Uy.apply(null,arguments).exponent(.5)}function By(){var e=[],t=fp;function n(n){if(null!=n&&!isNaN(n=+n))return t((ip(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort($f),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>dm(e,r/t)))},n.copy=function(){return By(t).domain(e)},Ff.apply(n,arguments)}function Vy(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=fp,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=cp);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(cp),f.rangeRound=p(up),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function qy(){var e=Rp(Vy()(fp));return e.copy=function(){return My(e,qy())},Ff.apply(e,arguments)}function Wy(){var e=Gp(Vy()).domain([.1,1,10]);return e.copy=function(){return My(e,Wy()).base(e.base())},Ff.apply(e,arguments)}function Hy(){var e=Yp(Vy());return e.copy=function(){return My(e,Hy()).constant(e.constant())},Ff.apply(e,arguments)}function Gy(){var e=tm(Vy());return e.copy=function(){return My(e,Gy()).exponent(e.exponent())},Ff.apply(e,arguments)}function Ky(){return Gy.apply(null,arguments).exponent(.5)}function Qy(e){return"string"===typeof e?new Ad([[document.querySelector(e)]],[document.documentElement]):new Ad([[e]],Cd)}!function(e){cg=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=vg(i),u=bg(i),d=vg(o),h=bg(o),f=vg(a),p=bg(a),m=vg(s),g=bg(s),y=vg(l),v=bg(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:zg,e:zg,f:Hg,g:ny,G:iy,H:Bg,I:Vg,j:qg,L:Wg,m:Gg,M:Kg,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Oy,s:Cy,S:Qg,u:Xg,U:Yg,V:Jg,w:Zg,W:ey,x:null,X:null,y:ty,Y:ry,Z:oy,"%":jy},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:ay,e:ay,f:dy,g:Sy,G:Ey,H:sy,I:ly,j:cy,L:uy,m:hy,M:fy,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Oy,s:Cy,S:py,u:my,U:gy,V:vy,w:by,W:wy,x:null,X:null,y:xy,Y:_y,Z:ky,"%":jy},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Tg,e:Tg,f:Rg,g:jg,G:kg,H:Pg,I:Pg,j:Ig,L:Mg,m:Ag,M:Ng,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Cg,Q:Fg,s:Ug,S:Dg,u:xg,U:Sg,V:_g,w:wg,W:Eg,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:jg,Y:kg,Z:Og,"%":Lg};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=hg[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=lg(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=sg(lg(o.y,0,1))).getUTCDay(),r=i>4||0===i?Hm.ceil(r):Hm(r),r=Nm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ag(lg(o.y,0,1))).getDay(),r=i>4||0===i?Lm.ceil(r):Lm(r),r=Pm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?sg(lg(o.y,0,1)).getUTCDay():ag(lg(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,sg(o)):ag(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in hg?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),ug=cg.format,cg.parse,dg=cg.utcFormat,cg.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Xy,Yy,$y,Jy,Zy,ev,tv,nv,rv,iv,ov,av,sv,lv;Array.prototype.slice;function cv(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function uv(e){return function(){return e}}function dv(e){this._context=e}function hv(e){return new dv(e)}function fv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const pv=Math.PI,mv=2*pv,gv=1e-6,yv=mv-gv;function vv(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class bv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?vv:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return vv;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Xy||(Xy=fv(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Yy||(Yy=fv(["Z"]))))}lineTo(e,t){this._append($y||($y=fv(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Jy||(Jy=fv(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(Zy||(Zy=fv(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append(ev||(ev=fv(["M",",",""])),this._x1=e,this._y1=t);else if(d>gv)if(Math.abs(u*s-l*c)>gv&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((pv-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>gv&&this._append(nv||(nv=fv(["L",",",""])),e+b*c,t+b*u),this._append(rv||(rv=fv(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+w*s,this._y1=t+w*l)}else this._append(tv||(tv=fv(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append(iv||(iv=fv(["M",",",""])),l,c):(Math.abs(this._x1-l)>gv||Math.abs(this._y1-c)>gv)&&this._append(ov||(ov=fv(["L",",",""])),l,c),n&&(d<0&&(d=d%mv+mv),d>yv?this._append(av||(av=fv(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-s,n,n,u,this._x1=l,this._y1=c):d>gv&&this._append(sv||(sv=fv(["A",",",",0,",",",",",",",""])),n,n,+(d>=pv),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(lv||(lv=fv(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function wv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new bv(t)}function xv(e){return e[0]}function Sv(e){return e[1]}function _v(e,t){var n=uv(!0),r=null,i=hv,o=null,a=wv(s);function s(s){var l,c,u,d=(s=cv(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?xv:uv(e),t="function"===typeof t?t:void 0===t?Sv:uv(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:uv(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:uv(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:uv(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function Ev(e){return e<0?-1:1}function kv(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ev(o)+Ev(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function jv(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ov(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Cv(e){this._context=e}function Av(e){this._context=new Tv(e)}function Tv(e){this._context=e}function Iv(e){return new Cv(e)}function Pv(e,t,n){this.k=e,this.x=t,this.y=n}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ov(this,this._t0,jv(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ov(this,jv(this,n=kv(this,e,t)),n);break;default:Ov(this,this._t0,n=kv(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Av.prototype=Object.create(Cv.prototype)).point=function(e,t){Cv.prototype.point.call(this,t,e)},Tv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Pv.prototype={constructor:Pv,scale:function(e){return 1===e?this:new Pv(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Pv(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Pv(1,0,0);Pv.prototype;const Nv=function(){const e=Z(),[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),a=(0,r.useRef)(null),s=(0,r.useCallback)((async()=>{try{const t=localStorage.getItem("userData");if(!t)return void e("/login");const r=JSON.parse(t);if(r.id){const e=Nl(Wc,"users",r.id),t=await Dc(e);t.exists()?n((0,Ie.A)({id:r.id},t.data())):n(r)}else n(r)}catch(t){console.error("Error checking authentication:",t),e("/login")}finally{o(!1)}}),[e]);(0,r.useEffect)((()=>{s()}),[s]),(0,r.useEffect)((()=>{if(!a.current||i||null===t)return;a.current.innerHTML="",l();const e=()=>{a.current&&(a.current.innerHTML="",l())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[i,t]);const l=()=>{const e=20,t=20,n=30,r=40,i=a.current.clientWidth-r-t,o=200-e-n,s=Qy(a.current).append("svg").attr("width",i+r+t).attr("height",o+e+n).append("g").attr("transform","translate(".concat(r,", ").concat(e,")")),l=["8AM","10AM","12PM","2PM","4PM","6PM","8PM"],c=[{hour:"8AM",value:90,actual:!0},{hour:"10AM",value:78,actual:!0},{hour:"12PM",value:62,actual:!1},{hour:"2PM",value:75,actual:!1},{hour:"4PM",value:68,actual:!1},{hour:"6PM",value:55,actual:!1},{hour:"8PM",value:40,actual:!1}],u=Bf().range([0,i]).domain(l).padding(.2);s.append("g").attr("transform","translate(0, ".concat(o,")")).call(yu(u));const d=Lp().domain([0,100]).range([o,0]);s.append("g").call(vu(d));const h=_v().x((e=>u(e.hour)+u.bandwidth()/2)).y((e=>d(e.value))).curve(Iv);s.append("path").datum(c).attr("fill","none").attr("stroke","#4299e1").attr("stroke-width",3).attr("d",h),s.selectAll(".dot").data(c).enter().append("circle").attr("class","dot").attr("cx",(e=>u(e.hour)+u.bandwidth()/2)).attr("cy",(e=>d(e.value))).attr("r",5).attr("fill",(e=>e.actual?"#4299e1":"#E2E8F0")).attr("stroke","#4299e1").attr("stroke-width",2);const f=(new Date).getHours();let p=Math.floor((f-8)/2);if(p>=0&&p<l.length-1){const e=u(l[p])+u.bandwidth()/2,t=e+f%2/2*(u(l[p+1])+u.bandwidth()/2-e);s.append("line").attr("x1",t).attr("x2",t).attr("y1",0).attr("y2",o).attr("stroke","#FC8181").attr("stroke-width",2).attr("stroke-dasharray","5,5"),s.append("text").attr("x",t).attr("y",10).attr("text-anchor","middle").style("font-size","10px").style("fill","#FC8181").text("Now")}},c="fitbit"===(null===t||void 0===t?void 0:t.selectedDevice)&&!0===(null===t||void 0===t?void 0:t.deviceConnected);return i?(0,Hc.jsxs)("div",{className:"loading-container",children:[(0,Hc.jsx)("div",{className:"loading-spinner"}),(0,Hc.jsx)("p",{children:"Loading your dashboard..."})]}):(0,Hc.jsxs)("div",{className:"dashboard-container",children:[(0,Hc.jsxs)("div",{className:"header",children:[(0,Hc.jsx)("h1",{children:"Energy Management Dashboard"}),(0,Hc.jsxs)("div",{className:"user-info",children:[(0,Hc.jsxs)("span",{children:["Welcome, ",(null===t||void 0===t?void 0:t.name)||"User","!"]}),(0,Hc.jsxs)("div",{className:"user-actions",children:[(0,Hc.jsx)("button",{onClick:()=>{e("/personal-settings")},className:"settings-btn",children:"\u2699\ufe0f Settings"}),(0,Hc.jsx)("button",{onClick:async()=>{console.log("Logout clicked - starting complete logout process");try{qc.currentUser?(console.log("Signing out Firebase user:",qc.currentUser.email),await(0,Ye.CI)(qc),console.log("Firebase signOut successful")):console.log("No Firebase user to sign out"),console.log("Clearing localStorage userData"),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("Cleared sessionStorage"),n(null),o(!1),console.log("Complete logout finished, navigating to login..."),e("/login",{replace:!0})}catch(t){console.error("Error during logout:",t),localStorage.removeItem("userData"),sessionStorage.clear(),n(null),e("/login",{replace:!0})}},className:"logout-btn",children:"Logout"})]})]}),(0,Hc.jsx)("div",{className:"date",id:"current-date",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,Hc.jsxs)("div",{className:"dashboard",children:[(0,Hc.jsxs)("div",{className:"card energy-gauge-container",children:[(0,Hc.jsxs)("h3",{className:"card-title",children:["Daily Energy Forecast",(0,Hc.jsx)("span",{className:"info-icon",title:"Predicts how your energy levels will change throughout the day based on planned activities and historical patterns.",children:"\u24d8"})]}),(0,Hc.jsx)("div",{id:"forecast-chart",ref:a,className:"forecast-chart"})]}),(0,Hc.jsxs)("div",{className:"card status-summary-container",children:[(0,Hc.jsxs)("h3",{className:"card-title",children:["Quick Actions",(0,Hc.jsx)("span",{className:"info-icon",title:"One-tap access to common activities for logging your day and managing your condition.",children:"\u24d8"})]}),(0,Hc.jsxs)("div",{className:"quick-actions",children:[(0,Hc.jsx)("button",{className:"action-button meal",onClick:()=>{e("/food-tracker")},children:"\ud83d\udcdd Track Meal"}),c&&(0,Hc.jsx)("button",{className:"action-button activity",onClick:()=>{e("/fitbit-dashboard")},children:"\ud83d\udcca View Activity Data"})]})]})]})]})};const Dv=function(){var e,t;const[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),d=Z(),h=$(),f=null===(e=h.state)||void 0===e?void 0:e.message,p=null===(t=h.state)||void 0===t?void 0:t.email;return r.useEffect((()=>{p&&i(p)}),[p]),(0,Hc.jsx)("div",{className:"signin-container",children:(0,Hc.jsxs)("div",{className:"signin-card",children:[(0,Hc.jsxs)("div",{className:"signin-header",children:[(0,Hc.jsx)("h1",{children:"Welcome Back"}),(0,Hc.jsx)("p",{children:"Sign in to your Energy Balance account"})]}),f&&(0,Hc.jsx)("div",{className:"success-message",children:f}),s&&(0,Hc.jsx)("div",{className:"error-message",children:s}),(0,Hc.jsxs)("form",{className:"signin-form",onSubmit:async e=>{e.preventDefault(),l(""),u(!0);try{var t,r,i;const e=n.toLowerCase().trim(),s=o.trim();if(!e||!s)throw new Error("Please enter both email and password");if(s.length<6)throw new Error("Password must be at least 6 characters long");if(!qc)throw new Error("Firebase Auth not properly configured");console.log("Attempting Firebase Auth login for:",e),console.log("Password length:",s.length),console.log("Firebase Auth config:",{apiKey:null!==(t=qc.config)&&void 0!==t&&t.apiKey?"Present":"Missing",authDomain:null===(r=qc.config)||void 0===r?void 0:r.authDomain,projectId:null===(i=qc.config)||void 0===i?void 0:i.projectId}),qc.currentUser&&(console.log("Clearing previous auth state for:",qc.currentUser.email),await(0,Ye.CI)(qc)),localStorage.removeItem("userData"),console.log("Cleared localStorage userData"),console.log("Calling signInWithEmailAndPassword...");const c=(await(0,Ye.signInWithEmailAndPassword)(qc,e,s)).user;if(console.log("Firebase Auth successful for:",c.email),console.log("New user UID:",c.uid),console.log("Email verified:",c.emailVerified),c.email.toLowerCase()!==e)throw console.error("Email mismatch!"),console.error("Requested:",e),console.error("Authenticated:",c.email),new Error("Authentication error - email mismatch");console.log("Looking for Firestore document with UID:",c.uid);const h=Nl(Wc,"users",c.uid),f=await Dc(h);if(!f.exists())return console.error("User document not found in Firestore for UID:",c.uid),console.error("Firebase Auth email:",c.email),console.error("Firebase Auth UID:",c.uid),l("User profile not found. Please contact support or try registering again."),await(0,Ye.CI)(qc),void u(!1);const p=f.data();console.log("User profile loaded from Firestore"),console.log("Firestore email:",p.email),console.log("Auth email match:",p.email===c.email),p.email&&p.email.toLowerCase()!==c.email.toLowerCase()&&(console.warn("Email mismatch between Firebase Auth and Firestore"),console.warn("Firebase Auth:",c.email),console.warn("Firestore:",p.email));const m={id:c.uid,uid:c.uid,email:c.email,emailVerified:c.emailVerified,name:p.name,age:p.age,gender:p.gender,selectedDevice:p.selectedDevice,deviceConnected:p.deviceConnected,authorizationGiven:p.authorizationGiven,energyProfile:p.energyProfile,preferences:p.preferences,createdAt:p.createdAt,lastLoginAt:(new Date).toISOString(),device:p.selectedDevice,devicePermission:p.authorizationGiven,registrationComplete:!0,accountStatus:"active"};console.log("Setting localStorage with secure session data"),console.log("Session data being stored:",{id:m.id,uid:m.uid,email:m.email,name:m.name}),localStorage.setItem("userData",JSON.stringify(m));const g=JSON.parse(localStorage.getItem("userData"));console.log("Verification - data actually stored in localStorage:",{id:g.id,uid:g.uid,email:g.email,name:g.name});try{await Fc(Nl(Wc,"users",c.uid),{lastLoginAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()})}catch(a){console.warn("Could not update last login time:",a)}console.log("Login successful, navigating to dashboard"),d("/dashboard",{replace:!0})}catch(s){console.error("Firebase Auth error:",s),console.error("Error code:",s.code),console.error("Error message:",s.message),console.error("Full error object:",JSON.stringify(s,null,2));try{qc.currentUser&&await(0,Ye.CI)(qc),localStorage.removeItem("userData")}catch(c){console.warn("Error during cleanup:",c)}let t="An error occurred during sign in. Please try again.";switch(s.code){case"auth/user-not-found":t="No account found with this email address. Please check your email or register first.";break;case"auth/wrong-password":t="Incorrect password. Please try again.";break;case"auth/invalid-email":t="Invalid email address format.";break;case"auth/user-disabled":t="This account has been disabled. Please contact support.";break;case"auth/too-many-requests":t="Too many failed login attempts. Please wait a few minutes and try again.";break;case"auth/network-request-failed":t="Network error. Please check your internet connection and try again.";break;case"auth/invalid-credential":t="Invalid login credentials. Please check your email and password.";break;case"auth/operation-not-allowed":t="Email/password authentication is not enabled. Please contact support.";break;case"auth/weak-password":t="Password is too weak. Please choose a stronger password.";break;default:s.message.includes("User profile not found")?t=s.message:s.message.includes("email mismatch")?t="Authentication error. Please try again.":s.code&&(t="Authentication failed: ".concat(s.code,". Please try again or contact support."))}console.error("Final error message shown to user:",t),l(t)}finally{u(!1)}},children:[(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Hc.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>i(e.target.value),placeholder:"Enter your email",required:!0,autoComplete:"email"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Hc.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>a(e.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",minLength:"6"}),(0,Hc.jsx)("div",{className:"forgot-password",children:(0,Hc.jsx)("a",{href:"#forgot",children:"Forgot your password?"})})]}),(0,Hc.jsxs)("button",{type:"submit",className:"signin-button",disabled:c,children:[c&&(0,Hc.jsx)("span",{className:"loading-spinner"}),c?"Signing in...":"Sign In"]})]}),(0,Hc.jsx)("div",{className:"divider",children:"or"}),(0,Hc.jsxs)("div",{className:"signup-link",children:["Don't have an account? ",(0,Hc.jsx)(Ce,{to:"/register",children:"Sign up here"})]}),(0,Hc.jsxs)("div",{className:"about-section",children:[(0,Hc.jsx)("h3",{children:"About Energy Balance"}),(0,Hc.jsx)("p",{children:"Energy Balance is a comprehensive health management system designed to help individuals recovering from Long COVID. Our platform helps you track and manage your energy levels, physical activity, and overall well-being through seamless integration with your wearable devices."}),(0,Hc.jsx)("p",{children:"By monitoring your daily activities and energy expenditure, we help you maintain a healthy balance and prevent post-exertional malaise (PEM) episodes."}),(0,Hc.jsxs)("div",{className:"supported-devices",children:[(0,Hc.jsx)("h4",{children:"Supported Devices"}),(0,Hc.jsxs)("div",{className:"device-icons",children:[(0,Hc.jsxs)("div",{className:"device-item",children:[(0,Hc.jsx)("span",{className:"device-icon",children:"\u231a"}),(0,Hc.jsx)("span",{children:"Apple Watch"})]}),(0,Hc.jsxs)("div",{className:"device-item",children:[(0,Hc.jsx)("span",{className:"device-icon",children:"\ud83d\udcf1"}),(0,Hc.jsx)("span",{children:"Fitbit"})]}),(0,Hc.jsxs)("div",{className:"device-item",children:[(0,Hc.jsx)("span",{className:"device-icon",children:"\u231a"}),(0,Hc.jsx)("span",{children:"Garmin"})]}),(0,Hc.jsxs)("div",{className:"device-item",children:[(0,Hc.jsx)("span",{className:"device-icon",children:"\ud83d\udcf1"}),(0,Hc.jsx)("span",{children:"Samsung Health"})]}),(0,Hc.jsxs)("div",{className:"device-item",children:[(0,Hc.jsx)("span",{className:"device-icon",children:"\ud83d\udcca"}),(0,Hc.jsx)("span",{children:"Manual Entry"})]})]})]})]}),!1]})})},Mv=(e,t)=>{const n=e.time,r=n.match(/(\d+):/),i=r?parseInt(r[1],10):12,o=n.toLowerCase().includes("pm");let a=i;o&&12!==i&&(a+=12),o||12!==i||(a=0);const s=.2*(parseFloat(e.protein)||0),l=.1*(parseFloat(e.carbs)||0),c=.15*(parseFloat(e.fat)||0);let u=1;a<6||a>20?u=.7:a>=7&&a<=10?u=1.2:a>=17&&a<=19&&(u=.9);const d={Breakfast:1.3,"Morning Snack":.9,Lunch:1.1,"Afternoon Snack":.8,Dinner:.9,"Late Night Snack":.6}[e.mealType]||1;let h=Math.min(100,10*(s+l+c))*u*d;if(e.longCovidAdjust&&null!==t&&void 0!==t&&t.hasLongCovid){h*={mild:.95,moderate:.85,severe:.75,"very severe":.65}[null===(f=t.longCovidSeverity)||void 0===f?void 0:f.toLowerCase()]||.85,e.longCovidBenefits&&e.longCovidBenefits.length>0&&(h*=1.1),e.longCovidCautions&&e.longCovidCautions.length>0&&(h*=.9)}var f;return Math.min(100,Math.max(0,h))},Rv=e=>{const t=e.split("-");return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]))},Lv=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)};console.log("Testing with sample data:");const Fv=((e,t)=>{console.log("=== DEBUGGING EFFICIENCY CALCULATION ==="),console.log("Input mealData:",e),console.log("Input userProfile:",t);const n=e.time;console.log("Time string:",n);const r=n.match(/(\d+):/),i=r?parseInt(r[1],10):12,o=n.toLowerCase().includes("pm");console.log("Parsed hour:",i,"isPM:",o);let a=i;o&&12!==i&&(a+=12),o||12!==i||(a=0),console.log("24-hour format:",a);const s=parseFloat(e.protein)||0,l=parseFloat(e.carbs)||0,c=parseFloat(e.fat)||0;console.log("Macros - Protein:",s,"Carbs:",l,"Fat:",c);const u=.2*s,d=.1*l,h=.15*c;console.log("Macro factors - Protein:",u,"Carbs:",d,"Fat:",h);let f=1;a<6||a>20?f=.7:a>=7&&a<=10?f=1.2:a>=17&&a<=19&&(f=.9),console.log("Time factor:",f);const p={Breakfast:1.3,"Morning Snack":.9,Lunch:1.1,"Afternoon Snack":.8,Dinner:.9,"Late Night Snack":.6,Snack:.8}[e.mealType]||1;console.log("Meal type:",e.mealType,"Factor:",p);const m=Math.min(100,10*(u+d+h));console.log("Macro balance:",m);let g=m*f*p;if(console.log("Base efficiency:",g),e.longCovidAdjust&&null!==t&&void 0!==t&&t.hasLongCovid){var y;console.log("Applying Long COVID adjustments...");const n={mild:.95,moderate:.85,severe:.75,"very severe":.65}[(null===(y=t.longCovidSeverity)||void 0===y?void 0:y.toLowerCase())||"moderate"]||.85;console.log("Severity factor:",n),g*=n,console.log("After severity adjustment:",g),e.longCovidBenefits&&e.longCovidBenefits.length>0&&(g*=1.1,console.log("After benefits boost:",g)),e.longCovidCautions&&e.longCovidCautions.length>0&&(g*=.9,console.log("After cautions reduction:",g))}const v=Math.min(100,Math.max(0,g));return console.log("Final efficiency:",v),console.log("=== END DEBUGGING ===\n"),v})({name:"Greek Yogurt with Berries",protein:20,carbs:35,fat:8,calories:320,mealType:"Breakfast",time:"8:00 AM",longCovidAdjust:!0,longCovidBenefits:["High protein for recovery","Probiotics for gut health"]},{hasLongCovid:!0,longCovidSeverity:"moderate"});function Uv(e){let{userData:t,userIntake:n={}}=e;const i=(0,r.useRef)(null),[o,a]=(0,r.useState)(null),s=(0,r.useCallback)((e=>{const t=(e,t)=>e&&t?e/Math.pow(t/100,2):null,n=(e=>{const{age:n,gender:r,weight:i,height:o,activity_level:a}=e;if(!n||!i||!o)return 2e3;let s;s="female"===r?10*i+6.25*o-5*n-161:10*i+6.25*o-5*n+5;let l=s*({sedentary:1.2,light:1.375,moderate:1.55,very:1.725,extreme:1.9}[a]||1.375);e.covid_condition&&(l*=1.07);const c=t(i,o);return c&&(c<18.5?l*=1.1:c>30&&(l*=.9)),Math.round(l)})(e),r=((e,n)=>{if(!e)return null;let r=.25,i=.45,o=.3;n.covid_condition&&(r=.3,i=.4,o=.3);const a=t(n.weight,n.height);if(a&&a<18.5&&(o=.35,i=.45,r=.2),a&&a>30&&(r=.35,i=.35,o=.3),n.age>65){r=Math.min(r+.05,.4);const e=1-r;i=e*(i/(i+o)),o=e*(o/(i+o))}return{protein:r,carbs:i,fat:o}})(n,e),i=(n*r.protein/4).toFixed(1),o=(n*r.carbs/4).toFixed(1),a=(n*r.fat/9).toFixed(1),s="Increased to support immune function and tissue repair",l="Focus on complex carbs with anti-inflammatory properties",c="Higher proportion of omega-3s recommended to reduce inflammation";return{protein:{value:parseFloat(i),covidNote:e.covid_condition?s:null},carbs:{value:parseFloat(o),covidNote:e.covid_condition?l:null},fat:{value:parseFloat(a),covidNote:e.covid_condition?c:null},calories:{value:n}}}),[]);return(0,r.useEffect)((()=>{if(t){const e=s(t);a(e)}}),[t,s]),(0,r.useEffect)((()=>{if(!i.current||!o||!n)return;Qy(i.current).selectAll("*").remove();const e=40,r=180,a=60,s=70,l=700-s-r,c=350-e-a,u=Qy(i.current).append("svg").attr("width",l+s+r).attr("height",c+e+a).append("g").attr("transform","translate(".concat(s,",").concat(e,")")),d=["protein","carbs","fat"],h=[(0,Ie.A)({name:"Current Intake"},n),{name:"Recommended",protein:o.protein.value,carbs:o.carbs.value,fat:o.fat.value}],f={protein:"#22c55e",carbs:"#3b82f6",fat:"#f59e0b"},p=Bf().domain(h.map((e=>e.name))).range([0,l]).padding(.3),m=su(h,(e=>e.protein+e.carbs+e.fat)),g=Lp().domain([0,1.1*m]).range([c,0]);u.append("g").attr("transform","translate(0,".concat(c,")")).call(yu(p)).selectAll("text").attr("font-size","12px").attr("font-weight",(e=>"Recommended"===e?"bold":"normal")),u.append("g").call(vu(g).ticks(5)).selectAll("text").attr("font-size","12px"),u.append("text").attr("transform","rotate(-90)").attr("y",20-s).attr("x",-c/2).attr("font-size","14px").attr("text-anchor","middle").attr("fill","#666").text("Grams");const y=(new Date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});u.append("text").attr("x",l/2).attr("y",-e/2).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold").attr("fill","#333").text("Long COVID Macronutrient Analysis - ".concat(y)),h.forEach((e=>{let t=0;e.stackedData=d.map((n=>({nutrient:n,y0:t,y1:t+=e[n]||0})))}));const v=Qy("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("background-color","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","8px").style("font-size","12px").style("pointer-events","none").style("opacity",0).style("box-shadow","0 2px 4px rgba(0,0,0,0.1)").style("z-index",100);u.selectAll(".bar-group").data(h).join("g").attr("class","bar-group").attr("transform",(e=>"translate(".concat(p(e.name),",0)"))).selectAll("rect").data((e=>e.stackedData)).join("rect").attr("width",p.bandwidth()).attr("y",(e=>g(e.y1))).attr("height",(e=>g(e.y0)-g(e.y1))).attr("fill",(e=>f[e.nutrient])).attr("stroke","white").attr("stroke-width",1).on("mouseover",(function(e,t){const n=Qy(this.parentNode).datum(),r=n[t.nutrient].toFixed(1),i=(n[t.nutrient]/(n.protein+n.carbs+n.fat)*100).toFixed(1),a="fat"===t.nutrient?9:4,s=(n[t.nutrient]*a).toFixed(0),l="Recommended"===n.name&&o[t.nutrient].covidNote?'<br><span style="color:#6366f1;font-style:italic">'.concat(o[t.nutrient].covidNote,"</span>"):"";v.style("opacity",1).html('\n          <div style="font-weight:bold;text-transform:capitalize;color:'.concat(f[t.nutrient],'">').concat(t.nutrient,'</div>\n          <div style="margin:4px 0">\n            <b>Amount:</b> ').concat(r,"g\n            <br><b>Percentage:</b> ").concat(i,"%\n            <br><b>Calories:</b> ").concat(s," kcal\n            ").concat(l,"\n          </div>\n        ")).style("left",e.pageX+10+"px").style("top",e.pageY-28+"px"),Qy(this).attr("stroke","#333").attr("stroke-width",2)})).on("mouseout",(function(){v.style("opacity",0),Qy(this).attr("stroke","white").attr("stroke-width",1)}));const b=u.append("g").attr("class","legend").attr("transform","translate(".concat(l+20,", 0)"));d.forEach(((e,t)=>{const n=b.append("g").attr("transform","translate(0, ".concat(25*t,")"));n.append("rect").attr("width",15).attr("height",15).attr("fill",f[e]),n.append("text").attr("x",24).attr("y",12).attr("text-anchor","start").style("text-transform","capitalize").style("font-size","14px").text(e)})),null!==t&&void 0!==t&&t.covid_condition&&u.append("text").attr("x",l/2).attr("y",c+40).attr("text-anchor","middle").attr("font-size","12px").attr("font-style","italic").attr("fill","#6366f1").text("Note: RDA values adjusted for Long COVID recovery needs");const w=u.append("g").attr("class","calorie-info").attr("transform","translate(".concat(l+20,", ").concat(25*d.length+20,")"));return w.append("text").attr("font-size","14px").attr("font-weight","bold").text("Total Calories:"),w.append("text").attr("y",25).attr("font-size","14px").text("Intake: ".concat((e=>(4*e.protein+4*e.carbs+9*e.fat).toFixed(0))(n)," kcal")),w.append("text").attr("y",50).attr("font-size","14px").text("Recommended: ".concat(o.calories.value.toFixed(0)," kcal")),()=>{Qy(".d3-tooltip").remove()}}),[i,o,n,t]),(0,Hc.jsx)("div",{className:"w-full",children:(0,Hc.jsx)("div",{ref:i,className:"macro-chart mx-auto overflow-visible",style:{minHeight:"350px"}})})}function zv(e){let{data:t,userData:n,foodDatabase:i}=e;const o=(0,r.useRef)(null),[a,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{if(!t||0===t.length)return;const e=new Date,r=new Date;r.setDate(e.getDate()-7);const i=Lv(r),o=t.filter((e=>{try{return t=e.date,n=i,Rv(t)>=Rv(n)}catch(r){return console.warn("Error parsing date:",e.date),!1}var t,n})).map(((e,t)=>{try{let t=e.efficiency||e.metabolicEfficiency;return!t||t<=0?(console.log("Recalculating efficiency for ".concat(e.name," (was ").concat(t,")")),t=Mv(e,n)):console.log("Using existing efficiency for ".concat(e.name,": ").concat(t)),(0,Ie.A)((0,Ie.A)({},e),{},{originalEfficiency:e.efficiency||80,efficiency:t,actualEnergy:Math.round(e.calories*(t/100)),wastedEnergy:Math.round(e.calories*((100-t)/100))})}catch(r){console.warn("Error processing meal ".concat(t,":"),r);const n=e.efficiency||e.metabolicEfficiency||80;return(0,Ie.A)((0,Ie.A)({},e),{},{efficiency:n,actualEnergy:Math.round(e.calories*(n/100)),wastedEnergy:Math.round(e.calories*((100-n)/100))})}})),a=o.filter((e=>"Pre-workout"!==e.mealType&&"Post-workout"!==e.mealType));console.log("ProcessedData with preserved efficiency:",a),s(a)}),[t,n,i]),(0,r.useEffect)((()=>{if(!o.current||!a||0===a.length)return;Qy(o.current).selectAll("*").remove();const e=60,t=120,n=140,r=70,i=800-r-t,s=500-e-n,l=Qy(o.current).append("svg").attr("width",i+r+t).attr("height",s+e+n).append("g").attr("transform","translate(".concat(r,",").concat(e,")"));l.append("text").attr("x",i/2).attr("y",-30).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").text("Metabolic Efficiency Chart"),l.append("text").attr("x",i/2).attr("y",-10).attr("text-anchor","middle").style("font-size","14px").style("font-style","italic").text("How efficiently your body converts food into usable energy");const c=Qy("body").append("div").attr("class","chart-tooltip").style("position","absolute").style("visibility","hidden").style("background-color","white").style("border","1px solid #ddd").style("border-radius","5px").style("padding","12px").style("font-size","14px").style("box-shadow","0 3px 14px rgba(0,0,0,0.25)").style("z-index","10").style("max-width","300px"),u=[],d=new Date;for(let o=6;o>=0;o--){const e=new Date;e.setDate(d.getDate()-o);const t=Lv(e);u.push(t)}console.log("=== CHART DEBUG ==="),console.log("processedData:",a);const h=[],f=ou(a,(e=>e.date)),p=u;p.forEach((e=>{const t=f.get(e)||[];if(t.length>0){ou(t,(e=>e.mealType)).forEach(((t,n)=>{const r=lu(t,(e=>e.calories)),i=t.reduce(((e,t)=>{const n=t.efficiency||0,i=r>0?t.calories/r:0;return console.log("Meal: ".concat(t.name,", efficiency: ").concat(n,", calories: ").concat(t.calories,", weight: ").concat(i)),e+n*i}),0);console.log("Combined efficiency for ".concat(n," on ").concat(e,": ").concat(i));const o=lu(t,(e=>e.actualEnergy||e.calories*(e.efficiency/100))),a=r-o;h.push({date:e,mealType:n,time:t[0].time,name:"".concat(n," (").concat(t.length," items)"),efficiency:Math.round(i),calories:r,actualEnergy:o,wastedEnergy:a,originalMeals:t})}))}})),console.log("Final combinedData:",h),console.log("=== END CHART DEBUG ===");const m=[...h].sort(((e,t)=>e.date!==t.date?e.date.localeCompare(t.date):e.time.localeCompare(t.time))),g=Bf().domain(p).range([0,i]).padding(.2),y=Bf().domain(["Breakfast","Morning Snack","Lunch","Afternoon Snack","Dinner","Late Night Snack"]).range([0,g.bandwidth()]).padding(.1),v=su(h,(e=>e.calories))||1e3,b=Lp().domain([0,v]).range([s,0]),w=Lp().domain([0,100]).range([s,0]);var x;l.append("g").attr("transform","translate(0,".concat(s,")")).call(yu(g).tickFormat((e=>{const t=e.split("-");return"".concat(parseInt(t[1]),"/").concat(parseInt(t[2]))}))).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),l.append("g").call(vu(b)).append("text").attr("transform","rotate(-90)").attr("y",-50).attr("x",-s/2).attr("text-anchor","middle").style("fill","#000").text("Calories"),l.append("g").attr("transform","translate(".concat(i,", 0)")).call((x=w,gu(2,x))).append("text").attr("transform","rotate(-90)").attr("y",50).attr("x",-s/2).attr("text-anchor","middle").style("fill","#000").text("Metabolic Efficiency (%)");const S={Breakfast:"#FF9F1C","Morning Snack":"#FFB84D",Lunch:"#2EC4B6","Afternoon Snack":"#4ECDC4",Dinner:"#E71D36","Late Night Snack":"#FF6B6B"};if(h.forEach((e=>{const t=S[e.mealType]||"#999999",n=g(e.date)+y(e.mealType),r=y.bandwidth();l.append("rect").attr("class","actual-energy-bar").attr("x",n).attr("y",b(e.actualEnergy)).attr("width",r).attr("height",s-b(e.actualEnergy)).attr("fill",t).attr("opacity",.9).attr("stroke","#333").attr("stroke-width",1).on("mouseover",(function(t){Qy(this).attr("opacity",.7),c.style("visibility","visible").html('\n            <div style="font-weight:bold;margin-bottom:10px;font-size:15px;">'.concat(e.date," - ").concat(e.mealType,'</div>\n            <div style="margin-bottom:6px;">Total Calories: ').concat(Math.round(e.calories),'</div>\n            <div style="margin-bottom:6px;"><strong>Usable Energy: ').concat(Math.round(e.actualEnergy)," cal (").concat(e.efficiency,'% efficient)</strong></div>\n            <div style="margin-bottom:12px;">Energy Lost: ').concat(Math.round(e.wastedEnergy),' cal</div>\n            <div style="font-weight:bold;margin-bottom:5px;">Individual Items:</div>\n            <ul style="margin-top:0;padding-left:20px;">\n              ').concat(e.originalMeals.map((t=>"\n                <li>".concat(t.name," - ").concat(t.calories," cal (").concat(t.efficiency||e.efficiency,"% efficient)</li>\n              "))).join(""),"\n            </ul>\n          ")).style("left","".concat(t.pageX+15,"px")).style("top","".concat(t.pageY-10,"px"))})).on("mouseout",(function(){Qy(this).attr("opacity",.9),c.style("visibility","hidden")})),l.append("rect").attr("class","potential-energy-bar").attr("x",n).attr("y",b(e.calories)).attr("width",r).attr("height",b(e.actualEnergy)-b(e.calories)).attr("fill",t).attr("opacity",.3).attr("stroke","#333").attr("stroke-width",1).attr("stroke-dasharray","3,3").on("mouseover",(function(t){Qy(this).attr("opacity",.5),c.style("visibility","visible").html('\n            <div style="font-weight:bold;margin-bottom:10px;font-size:15px;">'.concat(e.date," - ").concat(e.mealType,'</div>\n            <div style="margin-bottom:6px;">Total Calories: ').concat(Math.round(e.calories),'</div>\n            <div style="margin-bottom:6px;">Usable Energy: ').concat(Math.round(e.actualEnergy)," cal (").concat(e.efficiency,'% efficient)</div>\n            <div style="margin-bottom:12px;"><strong>Energy Lost: ').concat(Math.round(e.wastedEnergy)," cal</strong></div>\n          ")).style("left","".concat(t.pageX+15,"px")).style("top","".concat(t.pageY-10,"px"))})).on("mouseout",(function(){Qy(this).attr("opacity",.3),c.style("visibility","hidden")}))})),m.length>0){const e=_v().x((e=>g(e.date)+y(e.mealType)+y.bandwidth()/2)).y((e=>w(e.efficiency))).defined((e=>null!=e.efficiency)).curve(Iv);l.append("path").datum(m).attr("fill","none").attr("stroke","#FF5733").attr("stroke-width",3).attr("d",e),l.selectAll(".efficiency-point").data(h).enter().append("circle").attr("class","efficiency-point").attr("cx",(e=>g(e.date)+y(e.mealType)+y.bandwidth()/2)).attr("cy",(e=>w(e.efficiency))).attr("r",5).attr("fill","#FF5733").attr("stroke","#333").attr("stroke-width",1).on("mouseover",(function(e,t){Qy(this).attr("r",8),c.style("visibility","visible").html('\n            <div style="font-weight:bold;font-size:16px;">'.concat(t.mealType," on ").concat(t.date,"</div>\n            <div>Metabolic Efficiency: <strong>").concat(t.efficiency,'%</strong></div>\n            <div style="margin-top:6px">Your body converts <strong>').concat(t.efficiency,"%</strong> of consumed calories into usable energy.</div>\n          ")).style("left","".concat(e.pageX+15,"px")).style("top","".concat(e.pageY-10,"px"))})).on("mouseout",(function(){Qy(this).attr("r",5),c.style("visibility","hidden")}))}const _=s+80;l.append("line").attr("x1",10).attr("x2",40).attr("y1",_).attr("y2",_).attr("stroke","#FF5733").attr("stroke-width",3),l.append("circle").attr("cx",25).attr("cy",_).attr("r",5).attr("fill","#FF5733").attr("stroke","#333").attr("stroke-width",1),l.append("text").attr("x",50).attr("y",_+4).style("font-size","12px").text("Efficiency (%)");const E=[{label:"Usable Energy",color:"#2EC4B6",opacity:.9},{label:"Energy Lost",color:"#2EC4B6",opacity:.3}];l.selectAll(".legend-rect").data(E).enter().append("rect").attr("x",200).attr("y",((e,t)=>_-10+20*t)).attr("width",15).attr("height",15).attr("fill",(e=>e.color)).attr("opacity",(e=>e.opacity)).attr("stroke","#333").attr("stroke-width",1),l.selectAll(".legend-text").data(E).enter().append("text").attr("x",225).attr("y",((e,t)=>_+2+20*t)).style("font-size","12px").text((e=>e.label));const k=Object.entries(S).map((e=>{let[t,n]=e;return{type:t,color:n}}));return l.selectAll(".meal-type-rect").data(k).enter().append("rect").attr("x",((e,t)=>400+130*Math.floor(t/2))).attr("y",((e,t)=>_-10+t%2*20)).attr("width",15).attr("height",15).attr("fill",(e=>e.color)).attr("stroke","#333").attr("stroke-width",1),l.selectAll(".meal-type-text").data(k).enter().append("text").attr("x",((e,t)=>425+130*Math.floor(t/2))).attr("y",((e,t)=>_+2+t%2*20)).style("font-size","11px").text((e=>e.type)),()=>{Qy(".chart-tooltip").remove()}}),[o,a,n]),a&&0!==a.length?(0,Hc.jsxs)("div",{className:"chart-container",children:[(0,Hc.jsx)("div",{ref:o,className:"efficiency-chart",style:{minHeight:"500px"}}),(0,Hc.jsxs)("div",{className:"chart-info",children:[(0,Hc.jsx)("h4",{children:"Understanding Metabolic Efficiency"}),(0,Hc.jsx)("p",{children:"Metabolic efficiency refers to how effectively your body converts the calories you consume into usable energy. The chart shows both the energy your body successfully uses (solid bars) and the energy that's lost during digestion and metabolism (transparent sections)."}),(0,Hc.jsx)("p",{children:(0,Hc.jsx)("strong",{children:"Key insights:"})}),(0,Hc.jsxs)("ul",{children:[(0,Hc.jsx)("li",{children:"Higher efficiency percentages mean more of your food energy is being utilized"}),(0,Hc.jsx)("li",{children:"The red line tracks your efficiency over time across different meals"}),(0,Hc.jsx)("li",{children:"Different meal types and timing can affect how efficiently your body processes food"}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Snack Timing:"})," Morning snacks (90%) are more efficient than late night snacks (60%)"]})]})]})]}):(0,Hc.jsx)("div",{className:"chart-container",children:(0,Hc.jsx)("div",{ref:o,className:"efficiency-chart",children:(0,Hc.jsx)("div",{className:"placeholder",children:(0,Hc.jsx)("p",{children:"No meal data available. Please add some meals to see your metabolic efficiency chart."})})})})}console.log("Expected result: ~74 (should be > 0)"),console.log("Actual result:",Fv),console.log("\n=== COMMON ISSUES TO CHECK ==="),console.log("1. Are protein/carbs/fat values numbers or strings?"),console.log("2. Is mealType exactly matching the case in mealTypeFactors?"),console.log('3. Is time format consistent (e.g., "8:00 AM" vs "8:00 am")?'),console.log("4. Is longCovidSeverity exactly matching the case in severityFactors?"),console.log("5. Are the macro values realistic (not 0 or undefined)?");const Bv=e=>{if(!e)return"";const[t,n]=e.split(" ");if(!t||!n)return e;let[r,i]=t.split(":"),o=parseInt(r,10);"AM"===n.toUpperCase()?12===o&&(o=0):"PM"===n.toUpperCase()&&12!==o&&(o+=12);const a=o.toString().padStart(2,"0");return"".concat(a,":").concat(i)};console.log("Testing convertTo24Hour function:"),console.log("12:30 AM ->",Bv("12:30 AM")),console.log("1:30 AM  ->",Bv("1:30 AM")),console.log("11:59 AM ->",Bv("11:59 AM")),console.log("12:00 PM ->",Bv("12:00 PM")),console.log("1:30 PM  ->",Bv("1:30 PM")),console.log("11:59 PM ->",Bv("11:59 PM"));const Vv=e=>{if(console.log("prepareChartData called with:",e),!e||!Array.isArray(e))return console.warn("prepareChartData: Invalid input data"),[];try{const t=e.map(((e,t)=>{try{let t=e.time||"12:00 PM";if(t.match(/^\d{1,2}:\d{2}$/)&&!t.includes("AM")&&!t.includes("PM")){const[n,r]=t.split(":"),i=parseInt(n,10),o=i<12?"AM":"PM";t="".concat(0===i?12:i>12?i-12:i,":").concat(r," ").concat(o),console.log("Converted time from ".concat(e.time," to ").concat(t))}return(0,Ie.A)((0,Ie.A)({},e),{},{time:t})}catch(n){return console.warn("Error processing meal ".concat(t," in prepareChartData:"),n),(0,Ie.A)((0,Ie.A)({},e),{},{time:"12:00 PM"})}}));return(e=>{console.log("=== MEAL DATA DEBUGGER ===");const t=[...e].sort(((e,t)=>e.time.localeCompare(t.time)));t.forEach((e=>{console.log('Time: "'.concat(e.time,'" | ')+'MealType: "'.concat(e.mealType,'" | ')+'Date: "'.concat(e.date,'"'))})),console.log("=== END MEAL DATA ===")})(t),console.log("prepareChartData completed successfully:",t.length,"items"),t}catch(t){return console.error("Error in prepareChartData:",t),e||[]}},qv=e=>{let{data:t,maxPercent:n}=e;const r=Math.min(100,t.value/t.rda*100),i=Math.min(100,100),o=(a=r)>=100?"#4CAF50":a>=70?"#8BC34A":a>=50?"#FFC107":a>=30?"#FF9800":"#F44336";var a;return(0,Hc.jsxs)("div",{className:"bullet-chart",children:[(0,Hc.jsxs)("div",{className:"bullet-chart-header",children:[(0,Hc.jsxs)("div",{className:"bullet-chart-title",children:[(0,Hc.jsx)("span",{className:"nutrient-name",children:t.name}),t.isAdjusted&&(0,Hc.jsx)("span",{className:"adjusted-badge",children:"Adjusted"})]}),(0,Hc.jsxs)("div",{className:"bullet-chart-values",children:[t.value," / ",t.rda," ",t.unit,(0,Hc.jsxs)("span",{className:"bullet-chart-percentage",style:{color:o},children:["(",Math.round(r),"%)"]})]})]}),(0,Hc.jsxs)("div",{className:"bullet-chart-track",children:[(0,Hc.jsx)("div",{className:"threshold-marker",style:{left:"70%"}}),(0,Hc.jsx)("div",{className:"actual-value-bar",style:{width:"".concat(r,"%"),backgroundColor:o}}),(0,Hc.jsx)("div",{className:"target-line",style:{left:"".concat(i,"%")}})]})]})},Wv={vitamin_a:{value:900,unit:"mcg",femaleAdjust:.78,description:"Supports vision, immune function, and cell growth"},vitamin_c:{value:90,unit:"mg",femaleAdjust:.83,description:"Antioxidant that supports immune function and collagen production"},vitamin_d:{value:15,unit:"mcg",femaleAdjust:1,description:"Crucial for calcium absorption and bone health"},vitamin_e:{value:15,unit:"mg",femaleAdjust:1,description:"Antioxidant that protects cells from damage"},vitamin_b6:{value:1.3,unit:"mg",femaleAdjust:1,description:"Important for metabolism and brain development"},vitamin_b12:{value:2.4,unit:"mcg",femaleAdjust:1,description:"Essential for nerve function and blood cell formation"},folate:{value:400,unit:"mcg",femaleAdjust:1,description:"Critical for cell division and DNA synthesis"},iron:{value:8,unit:"mg",femaleAdjust:2.25,description:"Essential for oxygen transport in the blood"},calcium:{value:1e3,unit:"mg",femaleAdjust:1,description:"Critical for bone health and muscle function"},magnesium:{value:420,unit:"mg",femaleAdjust:.76,description:"Involved in over 300 biochemical reactions in the body"},zinc:{value:11,unit:"mg",femaleAdjust:.73,description:"Important for immune function and wound healing"},selenium:{value:55,unit:"mcg",femaleAdjust:1,description:"Antioxidant that helps protect cells from damage"},copper:{value:.9,unit:"mg",femaleAdjust:1,description:"Important for red blood cell formation and nerve function"},vitamin_b1:{value:1.2,unit:"mg",femaleAdjust:.92,description:"Essential for energy metabolism"},vitamin_b2:{value:1.3,unit:"mg",femaleAdjust:.85,description:"Important for energy production and cell function"},vitamin_b3:{value:16,unit:"mg",femaleAdjust:.875,description:"Helps convert food into energy"}};function Hv(e){let{data:t,userData:n}=e;const i={vitamin_a:{value:450,unit:"mcg"},vitamin_c:{value:45,unit:"mg"},vitamin_d:{value:8,unit:"mcg"},vitamin_e:{value:7,unit:"mg"},vitamin_b6:{value:.8,unit:"mg"},vitamin_b12:{value:1.5,unit:"mcg"},folate:{value:200,unit:"mcg"},iron:{value:12,unit:"mg"},calcium:{value:800,unit:"mg"},magnesium:{value:200,unit:"mg"},zinc:{value:6,unit:"mg"},selenium:{value:35,unit:"mcg"},copper:{value:.5,unit:"mg"},vitamin_b1:{value:.9,unit:"mg"},vitamin_b2:{value:1,unit:"mg"},vitamin_b3:{value:12,unit:"mg"}};console.log("Using test data:",i);const[o,a]=(0,r.useState)(n),[s,l]=(0,r.useState)([]),[c]=(0,r.useState)(function(e,t){const n=t;return Object.keys(e).forEach((t=>{n[t]=e[t]})),n}(i,Wv)),[u,d]=(0,r.useState)({}),[h,f]=(0,r.useState)("all"),[p,m]=(0,r.useState)(!0),[g,y]=(0,r.useState)("all"),v=(0,r.useCallback)(((e,t)=>{if(console.log("=== DEBUGGING calculatePersonalizedRDA ==="),console.log("Input baseRDAData_:",e),console.log("Input userData:",t),!e||0===Object.keys(e).length)return console.error("\u274c baseRDAData_ is empty or invalid!"),{};const n=JSON.parse(JSON.stringify(e));return Object.keys(n).forEach((r=>{if(console.log("\n--- Processing ".concat(r," ---")),console.log("Initial data:",n[r]),!n[r]||"number"!==typeof n[r].value)return void console.error("\u274c Invalid data structure for ".concat(r,":"),n[r]);let i=n[r].value;if(console.log("Starting value: ".concat(i)),t.gender&&"female"===t.gender.toLowerCase()){const e=n[r].femaleAdjust||1;i*=e,console.log("After female adjust (".concat(e,"): ").concat(i))}else console.log("No female adjustment applied (gender: ".concat(t.gender,")"));if(t.age){let e=1;t.age>=70?("vitamin_d"===r&&(e=1.2),"vitamin_b12"===r&&(e=1.1),"calcium"===r&&(e=1.15)):t.age>=50?("vitamin_d"===r&&(e=1.1),"vitamin_b12"===r&&(e=1.05)):t.age<=18&&("calcium"===r&&(e=1.15),"iron"===r&&(e=1.1)),1!==e?(i*=e,console.log("After age adjust (".concat(e,"): ").concat(i))):console.log("No age adjustment applied for ".concat(r," at age ").concat(t.age))}const o=t.covid_severity||t.longCovidSeverity,a=o&&"None"!==o&&null!==o&&void 0!==o;if(console.log('COVID check - severity: "'.concat(o,'", hasCovidCondition: ').concat(a)),a){console.log('Applying COVID adjustments for severity: "'.concat(o,'"'));const e=(e=>{if(console.log("getSeverityFactor called with:",e),!e||"None"===e||null===e||void 0===e)return console.log("Returning 1.0 for None/null severity"),1;const t=e.toString().toLowerCase(),n={mild:1.1,moderate:1.3,severe:1.5,"very severe":1.7}[t]||1;return console.log('Severity "'.concat(e,'" normalized to "').concat(t,'" -> factor: ').concat(n)),n})(o);if(console.log("Severity factor: ".concat(e)),["vitamin_c","vitamin_d","zinc","selenium"].includes(r)){const t=Math.min(1.5*e,2.5);i*=t,console.log("After COVID high-priority adjust (".concat(t,"): ").concat(i))}else if(["vitamin_a","vitamin_e","vitamin_b6","vitamin_b12","folate","iron"].includes(r)){const t=Math.min(1.3*e,2);i*=t,console.log("After COVID medium-priority adjust (".concat(t,"): ").concat(i))}else if(["magnesium","copper","vitamin_b1","vitamin_b2","vitamin_b3"].includes(r)){const t=Math.min(1.1*e,1.5);i*=t,console.log("After COVID low-priority adjust (".concat(t,"): ").concat(i))}}else console.log("No COVID adjustments applied - using baseline RDA");(isNaN(i)||!isFinite(i)||i<=0)&&(console.error("\u274c Invalid final value for ".concat(r,": ").concat(i,", resetting to base")),i=n[r].value);const s=Math.round(10*i)/10;console.log("Final rounded value: ".concat(s)),n[r]=(0,Ie.A)((0,Ie.A)({},n[r]),{},{value:s,isAdjusted:s!==e[r].value})})),console.log("Final personalRDA:",n),console.log("=== END calculatePersonalizedRDA DEBUG ===\n"),n}),[]),b=(0,r.useCallback)(((e,t)=>{if(console.log("=== DEBUGGING processNutrientData ==="),console.log("Input intake:",e),console.log("Input rdaValues:",t),!t||0===Object.keys(t).length)return void console.error("No RDA values provided to processNutrientData");let r=e;if(n.covid_severity||n.longCovidSeverity){r=((e,t)=>{const n={mild:1.2,moderate:1.5,severe:1.8,"very severe":2}[null===t||void 0===t?void 0:t.toLowerCase()]||1,r={},i=["vitamin_c","vitamin_d","zinc","selenium","vitamin_b6","vitamin_b12","folate","iron","magnesium"];return Object.entries(e).forEach((e=>{let[o,a]=e;i.includes(o)?r[o]=(0,Ie.A)((0,Ie.A)({},a),{},{recommendedValue:(a.value||0)*n,isEnhanced:!0,reason:"Increased for Long COVID ".concat(t," severity")}):r[o]=(0,Ie.A)((0,Ie.A)({},a),{},{recommendedValue:a.value||0,isEnhanced:!1})})),r})(e,n.covid_severity||n.longCovidSeverity)}else r=((e,t)=>{const n={};return Object.entries(e).forEach((e=>{let[r,i]=e,o=1;t.age>65&&["vitamin_d","vitamin_b12","calcium"].includes(r)&&(o*=1.2),"female"===t.gender&&"iron"===r&&(o*=2.25),"high"!==t.activityLevel&&"very_high"!==t.activityLevel||["magnesium","iron","vitamin_b1","vitamin_b2"].includes(r)&&(o*=1.3),n[r]=(0,Ie.A)((0,Ie.A)({},i),{},{recommendedValue:(i.value||0)*o,isEnhanced:o>1,reason:o>1?"Adjusted for demographics and activity":"Standard recommendation"})})),n})(e,n);let i=Object.entries(r).map((e=>{var n;let[r,i]=e;if(console.log("Processing ".concat(r,":"),i,"RDA:",t[r]),!t[r])return console.warn("No RDA data for ".concat(r)),null;const o="object"===typeof i?i.value||i.recommendedValue||0:i||0,a=t[r].value;if(isNaN(o)||isNaN(a)||0===a)return console.warn("Invalid values for ".concat(r,": intake=").concat(o,", rda=").concat(a)),null;const s=t[r].unit||"mg",l=o/a*100,c=r.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),u=t[r].isAdjusted||i.isEnhanced&&i.isEnhanced,d=(null===(n=Wv[r])||void 0===n?void 0:n.value)||a,h=r.includes("vitamin")?"vitamins":"minerals",f={name:c,key:r,percentOfRDA:Math.min(l,150),fullPercent:l,value:o,unit:s,rda:a,standardRDA:d,isAdjusted:u,description:t[r].description||"",category:h,enhancementReason:i.reason||null};return console.log("".concat(r," result:"),f),f})).filter((e=>null!==e));"deficient"===h?i=i.filter((e=>e.percentOfRDA<90)):"optimal"===h&&(i=i.filter((e=>e.percentOfRDA>=90))),"all"!==g&&(i=i.filter((e=>e.category===g))),i.sort(((e,t)=>e.percentOfRDA-t.percentOfRDA)),console.log("Final processedData:",i),console.log("=== END processNutrientData DEBUG ==="),l(i)}),[h,g,n]);(0,r.useEffect)((()=>{(e=>{console.log("=== USER DATA STRUCTURE ==="),console.log("userData:",e),console.log("covid_severity:",e.covid_severity,typeof e.covid_severity),console.log("longCovidSeverity:",e.longCovidSeverity),console.log("hasLongCovid:",e.hasLongCovid),console.log("age:",e.age),console.log("gender:",e.gender),console.log("weight:",e.weight),console.log("height:",e.height),console.log("=== END USER DATA ===")})(o),setTimeout((()=>{try{const e=v(Wv,o);if(!e||0===Object.keys(e).length)return void console.error("Failed to calculate RDA values");d(e),b(c,e),m(!1)}catch(e){console.error("Error in useEffect:",e),m(!1)}}),500)}),[o,v,b,c]);const w=e=>{f(e),b(c,u)},x=e=>{y(e),b(c,u)};if(p)return(0,Hc.jsx)("div",{className:"loading-container",children:(0,Hc.jsxs)("div",{className:"loading-indicator",children:[(0,Hc.jsx)("div",{className:"spinner"}),(0,Hc.jsx)("p",{className:"loading-text",children:"Loading personalized micronutrient data..."})]})});const S=s.filter((e=>e.percentOfRDA<70)).length;return(0,Hc.jsxs)("div",{className:"micronutrient-chart-container",children:[(0,Hc.jsxs)("div",{className:"chart-card",children:[(0,Hc.jsxs)("div",{className:"chart-header",children:[(0,Hc.jsx)("h2",{className:"chart-title",children:"Micronutrient Status"}),(0,Hc.jsxs)("div",{className:"display-mode-buttons",children:[(0,Hc.jsx)("button",{onClick:()=>w("all"),className:"mode-button ".concat("all"===h?"mode-button-active":""),children:"All"}),(0,Hc.jsx)("button",{onClick:()=>w("deficient"),className:"mode-button ".concat("deficient"===h?"mode-button-deficient":""),children:"Deficient"}),(0,Hc.jsx)("button",{onClick:()=>w("optimal"),className:"mode-button ".concat("optimal"===h?"mode-button-optimal":""),children:"Optimal"})]})]}),(0,Hc.jsxs)("div",{className:"category-filter",children:[(0,Hc.jsx)("button",{onClick:()=>x("all"),className:"category-button ".concat("all"===g?"category-button-active":""),children:"All Nutrients"}),(0,Hc.jsx)("button",{onClick:()=>x("vitamins"),className:"category-button ".concat("vitamins"===g?"category-button-active":""),children:"Vitamins"}),(0,Hc.jsx)("button",{onClick:()=>x("minerals"),className:"category-button ".concat("minerals"===g?"category-button-active":""),children:"Minerals"})]}),S>0&&(0,Hc.jsx)("div",{className:"deficiency-alert",children:(0,Hc.jsxs)("p",{className:"deficiency-message",children:[S," ",1===S?"nutrient is":"nutrients are"," below recommended levels."]})}),o.covid_severity&&(0,Hc.jsxs)("div",{className:"covid-alert ".concat((e=>{switch(e){case"Mild":return"covid-severity-mild";case"Moderate":return"covid-severity-moderate";case"Severe":return"covid-severity-severe";case"Very Severe":return"covid-severity-very-severe";default:return"covid-severity-unknown"}})(o.covid_severity)),children:[(0,Hc.jsxs)("p",{className:"covid-title",children:["Long COVID Condition - ",o.covid_severity," Severity"]}),(0,Hc.jsx)("p",{className:"covid-description",children:"Recommended values have been adjusted for immune system support"})]}),(0,Hc.jsx)("div",{className:"chart-content",children:s.map((e=>(0,Hc.jsx)(qv,{data:e,maxPercent:150},e.key)))}),(0,Hc.jsxs)("div",{className:"chart-legend",children:[(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-color legend-optimal"}),(0,Hc.jsx)("span",{className:"legend-text",children:"\u2265 100% (Optimal)"})]}),(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-color legend-good"}),(0,Hc.jsx)("span",{className:"legend-text",children:"70-99% (Good)"})]}),(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-color legend-moderate"}),(0,Hc.jsx)("span",{className:"legend-text",children:"50-69% (Moderate)"})]}),(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-color legend-low"}),(0,Hc.jsx)("span",{className:"legend-text",children:"30-49% (Low)"})]}),(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-color legend-very-low"}),(0,Hc.jsx)("span",{className:"legend-text",children:"0-29% (Very Low)"})]}),(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-target"}),(0,Hc.jsx)("span",{className:"legend-text",children:"Target (100% RDA)"})]}),(0,Hc.jsxs)("div",{className:"legend-item",children:[(0,Hc.jsx)("div",{className:"legend-threshold"}),(0,Hc.jsx)("span",{className:"legend-text",children:"Deficiency Threshold (70%)"})]})]})]}),(0,Hc.jsxs)("div",{className:"profile-card",children:[(0,Hc.jsx)("h3",{className:"profile-title",children:"User Profile"}),(0,Hc.jsxs)("div",{className:"profile-grid",children:[(0,Hc.jsxs)("div",{className:"profile-item",children:[(0,Hc.jsx)("p",{className:"profile-label",children:"Age"}),(0,Hc.jsxs)("p",{className:"profile-value",children:[o.age," years"]})]}),(0,Hc.jsxs)("div",{className:"profile-item",children:[(0,Hc.jsx)("p",{className:"profile-label",children:"Gender"}),(0,Hc.jsx)("p",{className:"profile-value",children:o.gender?o.gender.charAt(0).toUpperCase()+o.gender.slice(1):"Not specified"})]}),(0,Hc.jsxs)("div",{className:"profile-item",children:[(0,Hc.jsx)("p",{className:"profile-label",children:"BMI"}),(0,Hc.jsx)("p",{className:"profile-value",children:o.weight&&o.height?Math.round(o.weight/Math.pow(o.height/100,2)*10)/10:"N/A"})]}),(0,Hc.jsxs)("div",{className:"profile-item",children:[(0,Hc.jsx)("p",{className:"profile-label",children:"Activity Level"}),(0,Hc.jsx)("p",{className:"profile-value",children:o.activity_level||"Not specified"})]}),(0,Hc.jsxs)("div",{className:"profile-item",children:[(0,Hc.jsx)("p",{className:"profile-label",children:"Medical Conditions"}),(0,Hc.jsx)("p",{className:"profile-value",children:o.medical_conditions&&o.medical_conditions.length>0?o.medical_conditions.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", "):"None"})]}),(0,Hc.jsxs)("div",{className:"profile-item",children:[(0,Hc.jsx)("p",{className:"profile-label",children:"COVID Status"}),(0,Hc.jsxs)("button",{onClick:()=>{const e=[null,"mild","moderate","severe","very severe"],t=o.covid_severity||o.longCovidSeverity||null,n=e.indexOf(t),r=e[(n+1)%e.length];console.log('Toggling COVID severity from "'.concat(t,'" to "').concat(r,'"'));const i=(0,Ie.A)((0,Ie.A)({},o),{},{covid_severity:r,longCovidSeverity:r,hasLongCovid:null!==r});null===r&&(delete i.covid_severity,delete i.longCovidSeverity,i.hasLongCovid=!1),console.log("Updated user info:",i),a(i)},className:"covid-toggle-button",style:{padding:"8px 12px",backgroundColor:"#e3f2fd",border:"2px solid #2196f3",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:"#1976d2",transition:"all 0.2s ease",minWidth:"120px"},onMouseEnter:e=>{e.target.style.backgroundColor="#bbdefb",e.target.style.transform="scale(1.02)"},onMouseLeave:e=>{e.target.style.backgroundColor="#e3f2fd",e.target.style.transform="scale(1)"},children:[(()=>{const e=o.covid_severity||o.longCovidSeverity;return e&&null!==e?e.charAt(0).toUpperCase()+e.slice(1):"None"})()," (Click to change)"]})]})]})]})]})}function Gv(e){let{foodLog:t,userProfile:n}=e;if(!t||!Array.isArray(t))return(0,Hc.jsxs)("div",{className:"analysis-error",children:[(0,Hc.jsx)("h3",{children:"Data Error"}),(0,Hc.jsx)("p",{children:"Unable to load food log data. Please try refreshing the page."})]});if(!n)return(0,Hc.jsxs)("div",{className:"analysis-error",children:[(0,Hc.jsx)("h3",{children:"Profile Error"}),(0,Hc.jsx)("p",{children:"User profile data is missing. Please check your account settings."})]});const r=Lv(new Date),i=t.length>0?t[0].date:r,o=t.filter((e=>e.date===r)),{macroSums:a,microSums:s,efficiencyData:l}=(()=>{if(0===t.length)return{macroSums:{},microSums:{},efficiencyData:[]};const e=t[0].date,n=t.filter((t=>t.date===e));console.log("=== DEBUGGING getChartData ==="),console.log("lastDayEntries:",n);const r=n.reduce(((e,t)=>(e.protein=(e.protein||0)+(parseFloat(t.protein)||0),e.carbs=(e.carbs||0)+(parseFloat(t.carbs)||0),e.fat=(e.fat||0)+(parseFloat(t.fat)||0),e.calories=(e.calories||0)+(parseFloat(t.calories)||0),e)),{});n.forEach(((e,t)=>{console.log("\nEntry ".concat(t,": ").concat(e.name)),console.log("micronutrients:",e.micronutrients),e.micronutrients?Object.entries(e.micronutrients).forEach((e=>{let[t,n]=e;console.log("  ".concat(t,":"),n)})):console.warn("\u274c No micronutrients data for ".concat(e.name))}));const i=n.reduce(((e,t)=>(t.micronutrients&&Object.entries(t.micronutrients).forEach((t=>{let[n,r]=t;if(!["protein","carbs","fat","calories","name","unit"].includes(n)){const t="object"===typeof r?r.value||0:r,i=parseFloat(t)||0;e[n]=(e[n]||0)+i,console.log("Adding ".concat(n,": ").concat(i,", running total: ").concat(e[n]))}})),e)),{});console.log("Final macroSums:",r),console.log("Final microSums:",i),console.log("=== END getChartData DEBUG ===\n");return{macroSums:r,microSums:i,efficiencyData:t}})();return(0,Hc.jsxs)("div",{className:"food-analysis-section",children:[(0,Hc.jsxs)("div",{className:"analysis-header",children:[(0,Hc.jsx)("h3",{children:"\ud83d\udcca Nutritional Analysis Dashboard"}),(0,Hc.jsxs)("p",{className:"analysis-date",children:["Analysis for ",i]}),(0,Hc.jsx)("div",{className:"analysis-summary",children:(0,Hc.jsxs)("span",{className:"summary-stat",children:[(0,Hc.jsx)("strong",{children:o.length})," meals logged today (",r,")"]})})]}),(0,Hc.jsxs)("div",{className:"charts-container",children:[(0,Hc.jsxs)("div",{className:"chart-wrapper",children:[(0,Hc.jsxs)("div",{className:"chart-header",children:[(0,Hc.jsx)("h4",{children:"\ud83c\udf4e Macronutrient Balance"}),(0,Hc.jsx)("p",{className:"chart-description",children:"Your protein, carbohydrate, and fat intake compared to personalized recommendations"})]}),(0,Hc.jsx)(Uv,{userData:n,userIntake:a})]}),(0,Hc.jsxs)("div",{className:"chart-wrapper",children:[(0,Hc.jsxs)("div",{className:"chart-header",children:[(0,Hc.jsx)("h4",{children:"\ud83d\udc8a Micronutrient Status"}),(0,Hc.jsx)("p",{className:"chart-description",children:"Essential vitamins and minerals as percentage of recommended daily amounts"})]}),(0,Hc.jsx)(Hv,{data:s,userData:n})]}),(0,Hc.jsxs)("div",{className:"chart-wrapper one",children:[(0,Hc.jsxs)("div",{className:"chart-header",children:[(0,Hc.jsx)("h4",{children:"\u26a1 Metabolic Efficiency"}),(0,Hc.jsx)("p",{className:"chart-description",children:"How effectively your body converts food calories into usable energy"})]}),(0,Hc.jsx)(zv,{data:Vv(l),userData:n})]})]})]})}const Kv=["Breakfast","Morning Snack","Lunch","Afternoon Snack","Dinner","Late Night Snack"],Qv=["Add Food","Food Journal","Analysis"];const Xv=function(){var e;const t=Z(),[n,i]=(0,r.useState)([]),[o,a]=(0,r.useState)("loading"),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)({age:30,gender:"female",weight:65,height:165,activityLevel:"moderate",hasLongCovid:!1,longCovidSeverity:"moderate"}),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)("Add Food"),[y,v]=(0,r.useState)(""),[b,w]=(0,r.useState)([]),[x,S]=(0,r.useState)(null),[_,E]=(0,r.useState)({}),[k,j]=(0,r.useState)("Breakfast"),[O,C]=(0,r.useState)((()=>(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))),[A,T]=(0,r.useState)((()=>(new Date).toISOString().slice(0,10))),[I,P]=(0,r.useState)(!0),[N,D]=(0,r.useState)(!1),[M,R]=(0,r.useState)(""),[L,F]=(0,r.useState)(""),[U,z]=(0,r.useState)([]),[B,V]=(0,r.useState)(!1),[q,W]=(0,r.useState)(""),[H,G]=(0,r.useState)(1),[K,Q]=(0,r.useState)(null),[X,Y]=(0,r.useState)(null),[$,J]=(0,r.useState)(!1),[ee,te]=(0,r.useState)({}),ne=e=>{let{entryId:t,entryName:n,onConfirm:r,onCancel:i}=e;return(0,Hc.jsx)("div",{className:"modal-overlay",children:(0,Hc.jsxs)("div",{className:"delete-confirm-modal",children:[(0,Hc.jsx)("h3",{children:"\ud83d\uddd1\ufe0f Delete Food Entry"}),(0,Hc.jsx)("p",{children:"Are you sure you want to delete this food entry?"}),(0,Hc.jsx)("div",{className:"entry-preview",children:(0,Hc.jsx)("strong",{children:n})}),(0,Hc.jsx)("p",{className:"warning-text",children:"This action cannot be undone."}),(0,Hc.jsxs)("div",{className:"modal-actions",children:[(0,Hc.jsx)("button",{className:"cancel-button",onClick:i,disabled:$,children:"Cancel"}),(0,Hc.jsx)("button",{className:"delete-button",onClick:()=>r(t),disabled:$,children:$?"Deleting...":"Delete Entry"})]})]})})},re=(0,r.useCallback)((async()=>{try{const e=localStorage.getItem("userData");if(!e)return void t("/login");const n=JSON.parse(e);u(n),n.id?await(async e=>{try{const t=Nl(Wc,"users",e),n=await Dc(t);if(n.exists()){const e=n.data();h((0,Ie.A)({age:e.age||30,gender:e.gender||"female",weight:e.weight||65,height:e.height||165,activityLevel:e.activityLevel||"moderate",hasLongCovid:e.hasLongCovid||!1,longCovidSeverity:e.longCovidSeverity||"moderate"},e))}else console.log("No user profile found, using defaults")}catch(t){console.error("Error fetching user profile:",t),F("Failed to load user profile")}})(n.id):h((e=>(0,Ie.A)((0,Ie.A)({},e),n)))}catch(L){console.error("Error checking authentication:",L),t("/login")}finally{p(!1)}}),[t]);(0,r.useEffect)((()=>{re()}),[re]);const ie=(0,r.useCallback)((async()=>{if(!c||!c.id)return;const e=(new Date).toISOString().split("T")[0],t=new Date;t.setDate(t.getDate()-1);const n=[{name:"Greek Yogurt with Berries",protein:20,carbs:35,fat:8,calories:320,serving:200,micronutrients:{vitamin_c:{value:25,unit:"mg"},calcium:{value:200,unit:"mg"},vitamin_b12:{value:1.2,unit:"mcg"}},mealType:"Breakfast",time:"8:00 AM",date:e,longCovidAdjust:d.hasLongCovid,longCovidBenefits:["High protein for recovery","Probiotics for gut health"],longCovidCautions:[],longCovidRelevance:{antiInflammatory:"moderate"},metabolicEfficiency:85,createdAt:Vt.now()},{name:"Quinoa Salad with Grilled Chicken",protein:32,carbs:42,fat:15,calories:450,serving:300,micronutrients:{iron:{value:3.5,unit:"mg"},magnesium:{value:60,unit:"mg"},vitamin_b6:{value:.8,unit:"mg"},folate:{value:80,unit:"mcg"}},mealType:"Lunch",time:"12:30 PM",date:e,longCovidAdjust:d.hasLongCovid,longCovidBenefits:["Complete protein","Anti-inflammatory nutrients"],longCovidCautions:[],longCovidRelevance:{antiInflammatory:"high"},metabolicEfficiency:88,createdAt:Vt.now()},{name:"Grilled Salmon with Sweet Potato",protein:38,carbs:30,fat:28,calories:520,serving:250,micronutrients:{vitamin_d:{value:15,unit:"mcg"},vitamin_b12:{value:3.2,unit:"mcg"},selenium:{value:45,unit:"mcg"},vitamin_a:{value:300,unit:"mcg"}},mealType:"Dinner",time:"7:00 PM",date:e,longCovidAdjust:d.hasLongCovid,longCovidBenefits:["Omega-3 fatty acids","High vitamin D","Anti-inflammatory"],longCovidCautions:[],longCovidRelevance:{antiInflammatory:"high",brainFogImpact:"positive",energyImpact:"positive"},metabolicEfficiency:90,createdAt:Vt.now()}];try{const e=n.map((e=>Uc(Pl(Wc,"users",c.id,"food_journal"),e)));await Promise.all(e),z(n.map(((e,t)=>(0,Ie.A)({id:"sample_".concat(t)},e)))),console.log("Sample food data created successfully")}catch(L){console.error("Error creating sample data:",L),z(n.map(((e,t)=>(0,Ie.A)({id:"sample_".concat(t)},e))))}}),[c,d.hasLongCovid]),oe=(0,r.useCallback)((async()=>{if(c&&c.id)try{const e=gc(Pl(Wc,"users",c.id,"food_journal"),xc("date","desc"),xc("createdAt","desc"),_c(20)),t=(await Rc(e)).docs.map((e=>(0,Ie.A)({id:e.id},e.data())));t.length>0?z(t):await ie()}catch(L){console.error("Error initializing food log data:",L),await ie()}}),[c,ie]);(0,r.useEffect)((()=>{c&&c.id&&!f&&oe()}),[c,f,oe]);const ae=e=>{let{foodName:t,mealData:n}=e;if(n&&(n.longCovidRelevance||n.longCovidBenefits||n.longCovidCautions)){const e=n.longCovidRelevance||{},r=n.longCovidBenefits||[],i=n.longCovidCautions||[],o=n.functionalCompounds||{};let a="neutral";r.length>i.length&&(a="beneficial"),i.length>r.length&&(a="caution");const s=e.antiInflammatory||"unknown";return(0,Hc.jsxs)("div",{className:"long-covid-food-info ".concat(a),children:[(0,Hc.jsxs)("div",{className:"food-info-header",children:[(0,Hc.jsx)("span",{className:"category-icon ".concat(a),children:"beneficial"===a?"\u2705":"caution"===a?"\u26a0\ufe0f":"\u2139\ufe0f"}),(0,Hc.jsxs)("strong",{children:["Database Analysis: ",t]})]}),(0,Hc.jsxs)("div",{className:"inflammatory-level",children:[(0,Hc.jsx)("h5",{children:"\ud83d\udd25 Anti-Inflammatory Level"}),(0,Hc.jsxs)("div",{className:"level-indicator level-".concat(s),children:[(0,Hc.jsxs)("span",{className:"level-value",children:[" ",s.toUpperCase()]}),(0,Hc.jsx)("span",{className:"level-description",children:"high"===s?"Excellent for reducing inflammation":"moderate"===s?"Moderately helpful for inflammation":"low"===s?"Limited anti-inflammatory effects":"neutral"===s?"No significant inflammatory impact":"Not assessed"})]})]}),Object.keys(o).length>0&&(0,Hc.jsxs)("div",{className:"functional-compounds",children:[(0,Hc.jsx)("h5",{children:"\ud83e\uddec Functional Compounds"}),(0,Hc.jsx)("div",{className:"compounds-grid",children:Object.entries(o).map((e=>{let[t,n]=e;return(0,Hc.jsxs)("div",{className:"compound-item",children:[(0,Hc.jsx)("span",{className:"compound-name",children:t.replace(/_/g," ")}),(0,Hc.jsxs)("span",{className:"compound-level level-".concat(n),children:[" ",n]})]},t)}))})]}),r.length>0&&(0,Hc.jsxs)("div",{className:"benefits-list",children:[(0,Hc.jsx)("h5",{children:"\u2728 Benefits for Long COVID Recovery"}),(0,Hc.jsx)("ul",{children:r.map(((e,t)=>(0,Hc.jsx)("li",{children:e},t)))})]}),i.length>0&&(0,Hc.jsxs)("div",{className:"cautions-list",children:[(0,Hc.jsx)("h5",{children:"\u26a0\ufe0f Important Considerations"}),(0,Hc.jsx)("ul",{children:i.map(((e,t)=>(0,Hc.jsx)("li",{children:e},t)))})]})]})}return(0,Hc.jsxs)("div",{className:"no-food-info",children:[(0,Hc.jsx)("div",{className:"no-data-icon",children:"\ud83d\udcca"}),(0,Hc.jsx)("h4",{children:"No Long COVID Data Available"}),(0,Hc.jsx)("p",{children:"This food doesn't have specific Long COVID information in our database yet."}),(0,Hc.jsx)("p",{children:"Consider general anti-inflammatory principles:"}),(0,Hc.jsxs)("ul",{className:"general-tips",children:[(0,Hc.jsx)("li",{children:"Choose whole, unprocessed versions when possible"}),(0,Hc.jsx)("li",{children:"Pay attention to how it affects your symptoms"}),(0,Hc.jsx)("li",{children:"Consider portion sizes and frequency"}),(0,Hc.jsx)("li",{children:"Pair with known anti-inflammatory foods"})]})]})},se=e=>{let{selectedFood:t,selectedMeal:n,foodLog:r=[],isSearching:i=!1,searchTerm:o=""}=e;return t&&n?(0,Hc.jsxs)("div",{className:"long-covid-side-panel",children:[(0,Hc.jsx)("h3",{children:"\ud83e\udda0 Long COVID Nutrition Guide"}),(0,Hc.jsxs)("div",{className:"selected-food-analysis",children:[(0,Hc.jsx)(ae,{foodName:t,mealData:n}),(0,Hc.jsx)("div",{className:"back-to-guide",children:(0,Hc.jsx)("p",{className:"guide-hint",children:(0,Hc.jsx)("em",{children:"Clear selection to see the full nutrition guide"})})})]})]}):i&&o.length>=2?(0,Hc.jsxs)("div",{className:"long-covid-side-panel",children:[(0,Hc.jsx)("h3",{children:"\ud83e\udda0 Long COVID Nutrition Guide"}),(0,Hc.jsx)("div",{className:"search-status",children:(0,Hc.jsx)("p",{className:"search-hint",children:(0,Hc.jsxs)("em",{children:['Searching for "',o,'"... Select a food above to see its specific analysis.']})})}),(0,Hc.jsx)("div",{className:"nutrition-categories",children:(0,Hc.jsxs)("div",{className:"category-section beneficial",children:[(0,Hc.jsx)("h4",{children:"\u2705 Quick Anti-Inflammatory Guide"}),(0,Hc.jsx)("p",{children:"Focus on omega-3 rich fish, berries, leafy greens, and anti-inflammatory spices."})]})})]}):(0,Hc.jsxs)("div",{className:"long-covid-side-panel",children:[(0,Hc.jsx)("h3",{children:"\ud83e\udda0 Long COVID Nutrition Guide"}),(0,Hc.jsxs)("div",{className:"nutrition-categories",children:[(0,Hc.jsxs)("div",{className:"category-section beneficial",children:[(0,Hc.jsx)("h4",{children:"\u2705 Anti-Inflammatory Foods"}),(0,Hc.jsxs)("ul",{children:[(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Fatty Fish:"})," Salmon, mackerel, sardines (omega-3s)"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Berries:"})," Blueberries, strawberries (antioxidants)"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Leafy Greens:"})," Spinach, kale (vitamins, minerals)"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Nuts:"})," Walnuts, almonds (healthy fats)"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Turmeric:"})," Contains curcumin (anti-inflammatory)"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Ginger:"})," Natural anti-inflammatory"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Green Tea:"})," Polyphenols reduce inflammation"]})]})]}),(0,Hc.jsxs)("div",{className:"category-section neutral",children:[(0,Hc.jsx)("h4",{children:"\u2139\ufe0f Recommended Foods"}),(0,Hc.jsxs)("ul",{children:[(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Whole Grains:"})," Oats, quinoa, brown rice"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Lean Proteins:"})," Chicken, turkey, legumes"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Citrus Fruits:"})," High in vitamin C"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Olive Oil:"})," Monounsaturated fats"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Garlic & Onions:"})," Immune support"]})]})]}),(0,Hc.jsxs)("div",{className:"category-section caution",children:[(0,Hc.jsx)("h4",{children:"\u26a0\ufe0f Foods to Limit"}),(0,Hc.jsxs)("ul",{children:[(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Processed Foods:"})," High in inflammation-promoting ingredients"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Refined Sugars:"})," Can worsen inflammation"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Red/Processed Meat:"})," May increase inflammatory markers"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Trans Fats:"})," Found in margarine, processed foods"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Refined Carbs:"})," White bread, pastries"]}),(0,Hc.jsxs)("li",{children:[(0,Hc.jsx)("strong",{children:"Fried Foods:"})," High in inflammatory compounds"]})]})]})]}),(0,Hc.jsxs)("div",{className:"additional-tips",children:[(0,Hc.jsx)("h4",{children:"\ud83d\udca1 General Tips"}),(0,Hc.jsxs)("ul",{children:[(0,Hc.jsx)("li",{children:"Stay well hydrated (8+ glasses water daily)"}),(0,Hc.jsx)("li",{children:"Consider vitamin D supplementation"}),(0,Hc.jsx)("li",{children:"Eat regular, smaller meals to maintain energy"}),(0,Hc.jsx)("li",{children:"Focus on nutrient-dense, whole foods"}),(0,Hc.jsx)("li",{children:"Limit alcohol and caffeine if they worsen symptoms"})]})]})]})},le=e=>{const t=e.toLowerCase();return["salmon","mackerel","sardines","tuna","trout","blueberries","strawberries","raspberries","blackberries","spinach","kale","broccoli","brussels sprouts","walnuts","almonds","chia seeds","flax seeds","turmeric","ginger","garlic","onion","olive oil","avocado","sweet potato","green tea","dark chocolate"].some((e=>t.includes(e)))?"beneficial":["processed meat","bacon","sausage","hot dog","french fries","fried chicken","fried","white bread","white rice","pastry","candy","soda","sugar","margarine","ice cream","chips"].some((e=>t.includes(e)))?"caution":"neutral"},ce=e=>{const t=e.time,n=t.match(/(\d+):/),r=n?parseInt(n[1],10):12,i=t.toLowerCase().includes("pm");let o=r;i&&12!==r&&(o+=12),i||12!==r||(o=0);const a=.2*(parseFloat(e.protein)||0),s=.1*(parseFloat(e.carbs)||0),l=.15*(parseFloat(e.fat)||0);let c=1;o<6||o>20?c=.7:o>=7&&o<=10?c=1.2:o>=17&&o<=19&&(c=.9);const u={Breakfast:1.3,"Morning Snack":.9,Lunch:1.1,"Afternoon Snack":.8,Dinner:.9,"Late Night Snack":.6,Snack:.8}[e.mealType]||1;let h=Math.min(100,10*(a+s+l))*c*u;if(e.longCovidAdjust&&null!==d&&void 0!==d&&d.hasLongCovid){h*={mild:.95,moderate:.85,severe:.75,"very severe":.65}[d.longCovidSeverity]||.85,e.longCovidBenefits&&e.longCovidBenefits.length>0&&(h*=1.1),e.longCovidCautions&&e.longCovidCautions.length>0&&(h*=.9)}return Math.min(100,Math.max(0,h))},ue=((e,t)=>{const[n,i]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=setTimeout((()=>{i(e)}),t);return()=>clearTimeout(n)}),[e,t]),n})(y,300),de=(0,r.useCallback)((async()=>{const e=y.toLowerCase().trim();if(e.length<2)return void w([]);if(ee[e])return void w(ee[e]);const t=(e,t)=>{const n=(e.name||"").toLowerCase(),r=(e.category||"").toLowerCase(),i=(e.description||"").toLowerCase();let o=0;n===t?o+=1:n.startsWith(t)?o+=.8:n.includes(t)&&(o+=.6),r.includes(t)&&(o+=.3),i.includes(t)&&(o+=.2);const a=n.split(" "),s=t.split(" ");let l=0;return s.forEach((e=>{a.forEach((t=>{t.startsWith(e)&&l++}))})),o+=l/Math.max(s.length,1)*.4,o},r=(e,n)=>n.filter((t=>{if(!t.name)return!1;const n=t.name.toLowerCase(),r=(t.category||"").toLowerCase(),i=(t.description||"").toLowerCase(),o=(t.longCovidBenefits||[]).join(" ").toLowerCase();return n.includes(e)||n.startsWith(e)||r.includes(e)||i.includes(e)||o.includes(e)||n.split(" ").some((t=>t.startsWith(e)))})).map((n=>(0,Ie.A)((0,Ie.A)({},n),{},{searchMethod:"javascript",searchScore:t(n,e)}))).sort(((t,n)=>{const r=(t.name||"").toLowerCase(),i=(n.name||"").toLowerCase();return r===e&&i!==e?-1:i===e&&r!==e?1:r.startsWith(e)&&!i.startsWith(e)?-1:i.startsWith(e)&&!r.startsWith(e)?1:(n.searchScore||0)-(t.searchScore||0)})).slice(0,15);try{console.log('\ud83d\udd0d Enhanced search for: "'.concat(e,'"'));let t=n;if(0===t.length){console.log("\ud83d\udce5 Fetching food database...");const e=gc(Pl(Wc,"meals"),_c(500));if(t=(await Rc(e)).docs.map((e=>(0,Ie.A)({id:e.id},e.data()))),i(t),console.log("\ud83d\udcca Loaded ".concat(t.length," foods into cache")),window.pyodideReady&&!s)try{console.log("\ud83c\udfd7\ufe0f Building search index...");const e=await window.pyodide.runPython("\n              result = search_engine.build_index('".concat(JSON.stringify(t).replace(/'/g,"\\'"),"')\n              result\n            "));l(!0),window.searchIndexBuilt=!0,console.log("\u2705 Search index built:",e)}catch(L){console.error("\u274c Error building Python index:",L)}}let o=[];if(window.pyodideReady&&s)try{console.log("\ud83d\ude80 Using AI-powered search");const t=await window.pyodide.runPython('\n            results = search_engine.search("'.concat(e.replace(/"/g,'\\"'),'", 15)\n            json.dumps(results)\n          '));o=JSON.parse(t),console.log("\ud83c\udfaf AI search returned ".concat(o.length," results")),o=o.map((e=>(0,Ie.A)((0,Ie.A)({},e),{},{searchMethod:"ai",searchScore:e.search_score||0})))}catch(L){console.error("\u274c Python search failed, using fallback:",L),o=r(e,t)}else console.log("\ud83d\udcdd Using fallback JavaScript search"),o=r(e,t);te((t=>(0,Ie.A)((0,Ie.A)({},t),{},{[e]:o}))),w(o)}catch(o){console.error("\u274c Search error:",o),w([])}}),[y,ee,n,s]);(0,r.useEffect)((()=>{const e=()=>{window.pyodideReady?a("ready"):window.pyodide?a("loading"):a("unavailable")};e();const t=()=>{a("ready"),console.log("\ud83c\udf89 Pyodide ready event received")},n=()=>{a("unavailable"),console.log("\u26a0\ufe0f Pyodide error event received")};window.addEventListener("pyodideReady",t),window.addEventListener("pyodideError",n);const r=setInterval(e,2e3);return()=>{window.removeEventListener("pyodideReady",t),window.removeEventListener("pyodideError",n),clearInterval(r)}}),[]),(0,r.useEffect)((()=>{ue.length<2?w([]):de()}),[ue,de]);const he=e=>{var t,n,r,i,o;S(e),v(e.name),w([]);const a=(null===(t=e.nutrients)||void 0===t?void 0:t.per100g)||{};E({name:e.name,protein:(null===(n=a.protein)||void 0===n?void 0:n.value)||"",carbs:(null===(r=a.carbs)||void 0===r?void 0:r.value)||"",fat:(null===(i=a.fat)||void 0===i?void 0:i.value)||"",calories:(null===(o=a.calories)||void 0===o?void 0:o.value)||"",serving:100,micronutrients:a,longCovidBenefits:e.longCovidBenefits||[],longCovidCautions:e.longCovidCautions||[],longCovidRelevance:e.longCovidRelevance||{}})},fe=e=>{const{name:t,value:n}=e.target;"serving"===t?(E((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n}))),(e=>{var t;if(!x||null===(t=x.nutrients)||void 0===t||!t.per100g)return;const n=parseFloat(e)/100;isNaN(n)||E((e=>{var t,r,i,o;const a=(0,Ie.A)({},e),s=x.nutrients.per100g;return a.protein=((null===(t=s.protein)||void 0===t?void 0:t.value)*n).toFixed(1),a.carbs=((null===(r=s.carbs)||void 0===r?void 0:r.value)*n).toFixed(1),a.fat=((null===(i=s.fat)||void 0===i?void 0:i.value)*n).toFixed(1),a.calories=((null===(o=s.calories)||void 0===o?void 0:o.value)*n).toFixed(0),a.micronutrients={},Object.entries(s).forEach((e=>{let[t,r]=e;["protein","carbs","fat","calories","name","unit"].includes(t)||(a.micronutrients[t]=(0,Ie.A)((0,Ie.A)({},r),{},{value:(r.value*n).toFixed(1)}))})),a}))})(n)):E((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n})))},pe=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(c&&c.id){V(!0),1===e&&z([]),W("");try{const t=gc(Pl(Wc,"users",c.id,"food_journal"),xc("date","desc"),xc("createdAt","desc"),_c(20*e)),n=(await Rc(t)).docs.map((e=>(0,Ie.A)({id:e.id},e.data())));z(n),G(e)}catch(t){console.error("Error fetching food log:",t),W("Failed to load journal: ".concat(t.message))}finally{V(!1)}}}),[c]);(0,r.useEffect)((()=>{"Food Journal"===m&&c&&pe(1)}),[m,c,pe]);const me=()=>{t("/dashboard")};return f?(0,Hc.jsx)("div",{className:"food-tracker-container",children:(0,Hc.jsx)("div",{className:"loading-indicator",children:"Loading..."})}):c?(0,Hc.jsxs)("div",{className:"food-tracker-container",children:[X&&(0,Hc.jsx)(ne,{entryId:X,entryName:(null===(e=U.find((e=>e.id===X)))||void 0===e?void 0:e.name)||"Unknown",onConfirm:async e=>{if(c&&e){J(!0),W("");try{await(t=Nl(Wc,"users",c.id,"food_journal",e),zc(kl(t.firestore,Ml),[new Mi(t._key,Si.none())])),z((t=>t.filter((t=>t.id!==e)))),R("Food entry deleted successfully!"),setTimeout((()=>R("")),3e3)}catch(n){console.error("Error deleting entry:",n),W("Failed to delete entry: ".concat(n.message))}finally{J(!1),Y(null)}var t}},onCancel:()=>Y(null)}),(0,Hc.jsxs)("div",{className:"tracker-header",children:[(0,Hc.jsx)("button",{onClick:me,className:"back-button",children:"\u2190 Back to Dashboard"}),(0,Hc.jsx)("button",{onClick:async()=>{console.log("Logout clicked - starting complete logout process");try{console.log("Clearing localStorage userData"),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("Cleared sessionStorage"),u(null),p(!1),console.log("Complete logout finished, navigating to login..."),t("/login",{replace:!0})}catch(L){console.error("Error during logout:",L),localStorage.removeItem("userData"),sessionStorage.clear(),u(null),t("/login",{replace:!0})}},className:"logout-btn",children:"Logout"})]}),(0,Hc.jsx)("h2",{children:"\ud83e\udde0 AI-Powered Meal Tracker"}),(0,Hc.jsxs)("div",{className:"ai-status-banner ".concat(o),children:["ready"===o&&(0,Hc.jsxs)("div",{className:"ai-ready",children:["\ud83d\ude80 ",(0,Hc.jsx)("strong",{children:"AI Search Enabled:"})," Advanced food matching with intelligent recommendations"]}),"loading"===o&&(0,Hc.jsxs)("div",{className:"ai-loading",children:["\ud83d\udd04 ",(0,Hc.jsx)("strong",{children:"Loading AI:"})," Preparing enhanced search capabilities..."]}),"unavailable"===o&&(0,Hc.jsxs)("div",{className:"ai-fallback",children:["\ud83d\udcdd ",(0,Hc.jsx)("strong",{children:"Basic Search:"})," AI unavailable, using standard search"]})]}),(0,Hc.jsx)("div",{className:"food-tabs",children:Qv.map((e=>(0,Hc.jsx)("button",{className:"food-tab".concat(m===e?" active":""),onClick:()=>g(e),children:e},e)))}),"Add Food"===m&&(0,Hc.jsxs)("div",{className:"food-form-section",children:[(0,Hc.jsxs)("div",{className:"food-form-left",children:[K&&(0,Hc.jsxs)("div",{className:"edit-mode-banner",children:[(0,Hc.jsxs)("div",{className:"edit-indicator",children:[(0,Hc.jsx)("span",{className:"edit-icon",children:"\u270f\ufe0f"}),(0,Hc.jsxs)("span",{className:"edit-text",children:[(0,Hc.jsx)("strong",{children:"Editing:"})," ",K.name]})]}),(0,Hc.jsx)("button",{className:"cancel-edit-btn",onClick:()=>{Q(null),E({}),S(null),v(""),R(""),F("")},type:"button",children:"Cancel Edit"})]}),(0,Hc.jsxs)("div",{className:"form-group long-covid-checkbox-group",children:[(0,Hc.jsxs)("label",{className:"long-covid-checkbox-label",children:[(0,Hc.jsx)("input",{type:"checkbox",checked:I,onChange:e=>P(e.target.checked),className:"long-covid-checkbox"}),(0,Hc.jsx)("span",{className:"checkbox-text",children:"I have Long COVID - Show food recommendations and adjustments"})]}),I&&(0,Hc.jsx)("div",{className:"long-covid-info-banner",children:(0,Hc.jsxs)("p",{children:["\ud83d\udd2c ",(0,Hc.jsx)("strong",{children:"Long COVID Mode:"})," Food recommendations will be adjusted to focus on anti-inflammatory options that may help manage symptoms and support recovery."]})})]}),(0,Hc.jsxs)("div",{className:"form-group search-group",children:[(0,Hc.jsx)("label",{children:"Search Food"}),(0,Hc.jsxs)("div",{className:"search-input-container",children:[(0,Hc.jsx)("input",{type:"text",value:y,onChange:e=>{v(e.target.value),S(null)},placeholder:"ready"===o?"\ud83e\udde0 AI-powered search ready...":"loading"===o?"\ud83d\udd04 Loading AI search...":"Search foods...",autoComplete:"off",className:"search-input enhanced-search"}),(0,Hc.jsxs)("div",{className:"search-status ".concat(o),children:["ready"===o&&s&&(0,Hc.jsx)("span",{className:"status-ready",children:"\ud83d\ude80 AI Search Active"}),"ready"===o&&!s&&(0,Hc.jsx)("span",{className:"status-indexing",children:"\u26a1 Building AI Index..."}),"loading"===o&&(0,Hc.jsx)("span",{className:"status-loading",children:"\ud83d\udd04 Loading AI..."}),"unavailable"===o&&(0,Hc.jsx)("span",{className:"status-basic",children:"\ud83d\udcdd Basic Search"}),b.length>0&&(0,Hc.jsxs)("span",{className:"result-count",children:["(",b.length," results)"]})]})]}),b.length>0&&(0,Hc.jsx)("ul",{className:"suggestions-list enhanced",children:b.map(((e,t)=>(0,Hc.jsxs)("li",{onClick:()=>he(e),children:[(0,Hc.jsxs)("div",{className:"suggestion-main",children:[(0,Hc.jsx)("div",{className:"suggestion-name",children:e.name}),e.category&&(0,Hc.jsx)("div",{className:"suggestion-category",children:e.category}),(0,Hc.jsxs)("div",{className:"suggestion-meta",children:[e.searchScore&&(0,Hc.jsxs)("span",{className:"search-score",children:[(100*e.searchScore).toFixed(0),"% match"]}),"ai"===e.searchMethod&&(0,Hc.jsx)("span",{className:"ai-badge",children:"\ud83e\udde0 AI"}),"javascript"===e.searchMethod&&(0,Hc.jsx)("span",{className:"js-badge",children:"JS"}),e.match_type&&(0,Hc.jsx)("span",{className:"match-type",children:e.match_type})]})]}),(0,Hc.jsx)("div",{className:"suggestion-indicators",children:I&&(0,Hc.jsx)("span",{className:"covid-indicator ".concat(le(e.name)),children:"beneficial"===le(e.name)?"\u2705":"caution"===le(e.name)?"\u26a0\ufe0f":"\u2139\ufe0f"})})]},e.id||t)))})]}),(0,Hc.jsxs)("div",{className:"form-row",children:[(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Protein (g)"}),(0,Hc.jsx)("input",{name:"protein",value:_.protein||"",onChange:fe,type:"number",step:"0.1"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Carbs (g)"}),(0,Hc.jsx)("input",{name:"carbs",value:_.carbs||"",onChange:fe,type:"number",step:"0.1"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Fat (g)"}),(0,Hc.jsx)("input",{name:"fat",value:_.fat||"",onChange:fe,type:"number",step:"0.1"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Serving (g)"}),(0,Hc.jsx)("input",{name:"serving",value:_.serving||"",onChange:fe,type:"number",step:"1",className:"serving-input"})]})]}),(0,Hc.jsxs)("div",{className:"form-row",children:[(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Meal Type"}),(0,Hc.jsx)("select",{value:k,onChange:e=>j(e.target.value),children:Kv.map((e=>(0,Hc.jsx)("option",{value:e,children:e},e)))})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Time"}),(0,Hc.jsx)("input",{type:"time",value:(e=>{if(!e)return"";const[t,n]=e.split(" ");if(!t||!n)return e;let[r,i]=t.split(":");return"12"===r&&(r="00"),"PM"===n&&(r=String(parseInt(r,10)+12)),r=String(r),"".concat(r.padStart(2,"0"),":").concat(i)})(O),onChange:e=>{const t=e.target.value;if(!t)return;const n=new Date("2000-01-01T".concat(t)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});C(n)}})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Date"}),(0,Hc.jsx)("input",{type:"date",value:A,onChange:e=>T(e.target.value)})]})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("label",{children:"Calories"}),(0,Hc.jsx)("input",{name:"calories",value:_.calories||"",onChange:fe,type:"number",step:"1"})]}),(0,Hc.jsxs)("div",{className:"form-group",children:[(0,Hc.jsx)("button",{className:"submit-button ".concat(K?"update-mode":""),onClick:async()=>{if(c&&c.id){D(!0),F(""),R("");try{if(!_.name)throw new Error("Food name is required");const e={name:_.name,protein:parseFloat(_.protein)||0,carbs:parseFloat(_.carbs)||0,fat:parseFloat(_.fat)||0,calories:parseFloat(_.calories)||0,serving:parseFloat(_.serving)||100,micronutrients:_.micronutrients||{},mealType:k,time:O,date:A,longCovidAdjust:I,longCovidBenefits:_.longCovidBenefits||[],longCovidCautions:_.longCovidCautions||[],longCovidRelevance:_.longCovidRelevance||{},mealId:(null===x||void 0===x?void 0:x.id)||null};if(e.metabolicEfficiency=ce(e),K)await Fc(Nl(Wc,"users",c.id,"food_journal",K.id),(0,Ie.A)((0,Ie.A)({},e),{},{updatedAt:Vt.now()})),z((t=>t.map((t=>t.id===K.id?(0,Ie.A)((0,Ie.A)((0,Ie.A)({},t),e),{},{id:K.id}):t)))),R("Food entry updated successfully!"),Q(null);else{e.createdAt=Vt.now();const t=await Uc(Pl(Wc,"users",c.id,"food_journal"),e),n=(0,Ie.A)({id:t.id},e);z((e=>[n,...e])),R("Food logged successfully!")}E({}),S(null),v("")}catch(e){console.error("Error logging food:",e),F("Failed to ".concat(K?"update":"log"," food: ").concat(e.message))}finally{D(!1)}}else F("Please log in to save your meals")},disabled:N||!_.name,children:N?K?"Updating...":"Logging...":K?"Update Food":"Log Food"}),M&&(0,Hc.jsx)("div",{className:"success-message",children:M}),L&&(0,Hc.jsx)("div",{className:"error-message",children:L})]})]}),(0,Hc.jsxs)("div",{className:"food-form-right",children:[I&&(0,Hc.jsx)(se,{selectedFood:_.name,selectedMeal:x,foodLog:U,isSearching:y.length>=2&&!x,searchTerm:y}),!I&&(0,Hc.jsxs)("div",{className:"general-nutrition-info",children:[(0,Hc.jsx)("h3",{children:"\ud83d\udcca Nutrition Tips"}),(0,Hc.jsx)("p",{children:"Enable Long COVID mode above to get personalized food recommendations and anti-inflammatory guidance."}),"ready"===o&&(0,Hc.jsx)("div",{className:"ai-tip",children:(0,Hc.jsxs)("p",{children:["\ud83d\udca1 ",(0,Hc.jsx)("strong",{children:"AI Tip:"})," The search above uses machine learning to find the most relevant foods for your queries!"]})})]})]})]}),"Food Journal"===m&&(0,Hc.jsxs)("div",{className:"food-journal-section",children:[(0,Hc.jsxs)("div",{className:"journal-header",children:[(0,Hc.jsx)("h3",{children:"Your Food Journal"}),(0,Hc.jsx)("button",{className:"refresh-button",onClick:()=>pe(1),disabled:B,children:B?"Loading...":"Refresh"})]}),q&&(0,Hc.jsx)("div",{className:"error-message",children:q}),M&&(0,Hc.jsx)("div",{className:"success-message",children:M}),B&&0===U.length?(0,Hc.jsx)("div",{className:"loading-indicator",children:"Loading your food journal..."}):0===U.length?(0,Hc.jsxs)("div",{className:"empty-state",children:[(0,Hc.jsx)("p",{children:"No entries found in your food journal."}),(0,Hc.jsx)("p",{children:'Start by adding a meal in the "Add Food" tab!'})]}):(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{className:"journal-summary",children:(0,Hc.jsxs)("p",{children:["Showing ",U.length," meal entries"]})}),(0,Hc.jsx)("div",{className:"journal-table-container",children:(0,Hc.jsxs)("table",{className:"food-log-table compact",children:[(0,Hc.jsx)("thead",{children:(0,Hc.jsxs)("tr",{children:[(0,Hc.jsx)("th",{className:"date-time-col",children:"Date/Time"}),(0,Hc.jsx)("th",{className:"meal-type-col",children:"Meal"}),(0,Hc.jsx)("th",{className:"food-col",children:"Food"}),(0,Hc.jsx)("th",{className:"serving-col",children:"Serving"}),(0,Hc.jsx)("th",{className:"macro-col",children:"P"}),(0,Hc.jsx)("th",{className:"macro-col",children:"C"}),(0,Hc.jsx)("th",{className:"macro-col",children:"F"}),(0,Hc.jsx)("th",{className:"calories-col",children:"Cal"}),(0,Hc.jsx)("th",{className:"efficiency-col",children:"Eff%"}),(0,Hc.jsx)("th",{className:"actions-col",children:"Actions"})]})}),(0,Hc.jsx)("tbody",{children:U.map((e=>(0,Hc.jsxs)("tr",{children:[(0,Hc.jsx)("td",{className:"date-time-cell",children:((e,t)=>{const n=e.split("-"),r=parseInt(n[1],10),i=parseInt(n[2],10),o=t.replace(":00","").replace(" ","");return"".concat(r,"/").concat(i," ").concat(o)})(e.date,e.time)}),(0,Hc.jsx)("td",{className:"meal-type-cell",children:(0,Hc.jsx)("span",{className:"meal-badge ".concat((e.mealType||"unknown").trim().toLowerCase().replace(/\s+/g,"-")),children:(e=>{switch(e){case"Breakfast":return"B";case"Morning Snack":return"MS";case"Lunch":return"L";case"Afternoon Snack":return"AS";case"Dinner":return"D";case"Late Night Snack":return"LN";case"Snack":return"S";default:return e.charAt(0)}})(e.mealType||"Unknown")})}),(0,Hc.jsx)("td",{className:"food-cell",title:e.name,children:e.name.length>20?"".concat(e.name.substring(0,20),"..."):e.name}),(0,Hc.jsxs)("td",{className:"serving-cell",children:[e.serving||"0","g"]}),(0,Hc.jsx)("td",{className:"macro-cell",children:"number"===typeof e.protein?e.protein.toFixed(1):e.protein||"0"}),(0,Hc.jsx)("td",{className:"macro-cell",children:"number"===typeof e.carbs?e.carbs.toFixed(1):e.carbs||"0"}),(0,Hc.jsx)("td",{className:"macro-cell",children:"number"===typeof e.fat?e.fat.toFixed(1):e.fat||"0"}),(0,Hc.jsx)("td",{className:"calories-cell",children:e.calories||"0"}),(0,Hc.jsx)("td",{className:"efficiency-cell",children:(0,Hc.jsx)("span",{className:"efficiency-badge ".concat("number"===typeof e.metabolicEfficiency?e.metabolicEfficiency>=80?"high":e.metabolicEfficiency>=60?"medium":"low":"unknown"),children:"number"===typeof e.metabolicEfficiency?e.metabolicEfficiency.toFixed(0):"N/A"})}),(0,Hc.jsx)("td",{className:"actions-cell",children:(0,Hc.jsxs)("div",{className:"action-buttons compact",children:[(0,Hc.jsx)("button",{className:"edit-btn compact",onClick:()=>(e=>{E({name:e.name,protein:e.protein,carbs:e.carbs,fat:e.fat,calories:e.calories,serving:e.serving||100,micronutrients:e.micronutrients||{},longCovidBenefits:e.longCovidBenefits||[],longCovidCautions:e.longCovidCautions||[],longCovidRelevance:e.longCovidRelevance||{}}),j(e.mealType),C(e.time),T(e.date),P(e.longCovidAdjust||!1),v(e.name),Q(e),g("Add Food")})(e),title:"Edit entry",children:"\u270f\ufe0f"}),(0,Hc.jsx)("button",{className:"delete-btn compact",onClick:()=>Y(e.id),title:"Delete entry",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)))})]})}),U.length>=20*H&&(0,Hc.jsx)("div",{className:"load-more-container",children:(0,Hc.jsx)("button",{className:"load-more-button",onClick:()=>pe(H+1),disabled:B,children:B?"Loading...":"Load More Entries"})})]})]}),"Analysis"===m&&(0,Hc.jsx)(Gv,{foodLog:U,userProfile:d})]}):(0,Hc.jsx)("div",{className:"food-tracker-container",children:(0,Hc.jsxs)("div",{className:"auth-required",children:[(0,Hc.jsx)("h2",{children:"Authentication Required"}),(0,Hc.jsx)("p",{children:"Please log in to use the food tracker."}),(0,Hc.jsx)("button",{onClick:me,className:"back-button",children:"Back to Dashboard"})]})})};function Yv(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Yv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const $v=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Yv(e))&&(r&&(r+=" "),r+=t);return r};var Jv=n(9889),Zv=n.n(Jv),eb=n(620),tb=n.n(eb),nb=n(5268),rb=n.n(nb),ib=n(3097),ob=n.n(ib),ab=n(9160),sb=n.n(ab),lb=function(e){return 0===e?0:e>0?1:-1},cb=function(e){return tb()(e)&&e.indexOf("%")===e.length-1},ub=function(e){return sb()(e)&&!rb()(e)},db=function(e){return ub(e)||tb()(e)},hb=0,fb=function(e){var t=++hb;return"".concat(e||"").concat(t)},pb=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ub(e)&&!tb()(e))return r;if(cb(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return rb()(n)&&(n=r),i&&n>t&&(n=t),n},mb=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},gb=function(e,t){return ub(e)&&ub(t)?function(n){return e+n*(t-e)}:function(){return t}};function yb(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):ob()(e,t))===n})):null}var vb=function(e,t){return ub(e)&&ub(t)?e-t:tb()(e)&&tb()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},bb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},wb=n(9686),xb=n.n(wb),Sb=n(1629),_b=n.n(Sb),Eb=n(6686),kb=n.n(Eb),jb=n(9062);function Ob(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Cb(e){return Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(e)}var Ab=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tb=["points","pathLength"],Ib={svg:["viewBox","children"],polygon:Tb,polyline:Tb},Pb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nb=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!kb()(n))return null;var i={};return Object.keys(n).forEach((function(e){Pb.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})})),i},Db=function(e,t,n){if(!kb()(e)||"object"!==Cb(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Pb.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},Mb=["children"],Rb=["children"];function Lb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fb(e){return Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(e)}var Ub={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},zb=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Bb=null,Vb=null,qb=function e(t){if(t===Bb&&Array.isArray(Vb))return Vb;var n=[];return r.Children.forEach(t,(function(t){xb()(t)||((0,jb.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),Vb=n,Bb=t,n};function Wb(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return zb(e)})):[zb(t)],qb(e).forEach((function(e){var t=ob()(e,"type.displayName")||ob()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function Hb(e,t){var n=Wb(e,t);return n&&n[0]}var Gb=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!ub(n)||n<=0||!ub(r)||r<=0)},Kb=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qb=function(e){return e&&e.type&&tb()(e.type)&&Kb.indexOf(e.type)>=0},Xb=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!kb()(i))return null;var o={};return Object.keys(i).forEach((function(e){var r;(function(e,t,n,r){var i,o=null!==(i=null===Ib||void 0===Ib?void 0:Ib[r])&&void 0!==i?i:[];return t.startsWith("data-")||!_b()(e)&&(r&&o.includes(t)||Ab.includes(t))||n&&Pb.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(o[e]=i[e])})),o},Yb=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return $b(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!$b(a,s))return!1}return!0},$b=function(e,t){if(xb()(e)&&xb()(t))return!0;if(!xb()(e)&&!xb()(t)){var n=e.props||{},r=n.children,i=Lb(n,Mb),o=t.props||{},a=o.children,s=Lb(o,Rb);return r&&a?Ob(i,s)&&Yb(r,a):!r&&!a&&Ob(i,s)}return!1},Jb=function(e,t){var n=[],r={};return qb(e).forEach((function(e,i){if(Qb(e))n.push(e);else if(e){var o=zb(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n},Zb=function(e,t){return qb(t).indexOf(e)};function ew(e){return ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(e)}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach((function(t){rw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ew(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ew(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ow(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ow(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aw=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,r.useRef)(null),_=(0,r.useRef)();_.current=b,(0,r.useImperativeHandle)(t,(function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})}));var E=iw((0,r.useState)({containerWidth:o.width,containerHeight:o.height}),2),k=E[0],j=E[1],O=(0,r.useCallback)((function(e,t){j((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;O(r,i),null===(t=_.current)||void 0===t||t.call(_,r,i)};g>0&&(e=Zv()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return O(r,i),t.observe(S.current),function(){t.disconnect()}}),[O,g]);var C=(0,r.useMemo)((function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;bb(cb(s)||cb(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),bb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=cb(s)?e:s,o=cb(c)?t:c;n&&n>0&&(i?o=i/n:o&&(i=o*n),f&&o>f&&(o=f)),bb(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,d,h,n);var a=!Array.isArray(p)&&zb(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,nw({width:i,height:o},a?{style:nw({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e}))}),[n,p,c,f,h,d,k,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:$v("recharts-responsive-container",v),style:nw(nw({},x),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},C)})),sw=n(6604),lw=n.n(sw),cw=n(7424),uw=n.n(cw),dw="Invariant failed";function hw(e,t){if(!e)throw new Error(dw)}var fw=["children","width","height","viewBox","className","style","title","desc"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(this,arguments)}function mw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gw(e){var t=e.children,n=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=mw(e,fw),d=o||{width:n,height:i,x:0,y:0},h=$v("recharts-surface",a);return r.createElement("svg",pw({},Xb(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),t)}var yw=["children","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(this,arguments)}function bw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ww=r.forwardRef((function(e,t){var n=e.children,i=e.className,o=bw(e,yw),a=$v("recharts-layer",i);return r.createElement("g",vw({className:a},Xb(o,!0),{ref:t}),n)}));function xw(e){return xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(this,arguments)}function _w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(n),!0).forEach((function(t){Ow(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ow(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cw(e){return Array.isArray(e)&&db(e[0])&&db(e[1])?e.join(" ~ "):e}var Aw=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=jw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=jw({margin:0},c),x=!xb()(m),S=x?m:"",_=$v("recharts-default-tooltip",f),E=$v("recharts-tooltip-label",p);x&&g&&void 0!==u&&null!==u&&(S=g(m,u));var k=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",Sw({className:_,style:b},k),r.createElement("p",{className:E,style:w},r.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?uw()(u,h):u).map((function(e,t){if("none"===e.type)return null;var i=jw({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||Cw,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var f=o(a,l,e,t,u);if(Array.isArray(f)){var p=_w(f,2);c=p[0],h=p[1]}else c=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},db(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,db(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Tw(e){return Tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(e)}function Iw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pw="recharts-tooltip-wrapper",Nw={visibility:"hidden"};function Dw(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return $v(Pw,Iw(Iw(Iw(Iw({},"".concat(Pw,"-right"),ub(n)&&t&&ub(t.x)&&n>=t.x),"".concat(Pw,"-left"),ub(n)&&t&&ub(t.x)&&n<t.x),"".concat(Pw,"-bottom"),ub(r)&&t&&ub(t.y)&&r>=t.y),"".concat(Pw,"-top"),ub(r)&&t&&ub(t.y)&&r<t.y))}function Mw(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ub(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function Rw(e){return Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(e)}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lw(Object(n),!0).forEach((function(t){Ww(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hw(r.key),r)}}function zw(e,t,n){return t=Vw(t),function(e,t){if(t&&("object"===Rw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bw()?Reflect.construct(t,n||[],Vw(e).constructor):t.apply(e,n))}function Bw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bw=function(){return!!e})()}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vw(e)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qw(e,t)}function Ww(e,t,n){return(t=Hw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hw(e){var t=function(e,t){if("object"!=Rw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rw(t)?t:t+""}var Gw=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ww(e=zw(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ww(e,"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}(t,e),n=t,i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Mw({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Mw({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Nw,cssClasses:Dw({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,w=Fw(Fw({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}],i&&Uw(n.prototype,i),o&&Uw(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent),Kw={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Kw[e]},set:function(e,t){if("string"===typeof e)Kw[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){Kw[t]=e[t]}))}}},Qw=n(977),Xw=n.n(Qw);function Yw(e,t,n){return!0===t?Xw()(e,n):_b()(t)?Xw()(e,t):e}function $w(e){return $w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(e)}function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jw(Object(n),!0).forEach((function(t){ox(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ax(r.key),r)}}function tx(e,t,n){return t=rx(t),function(e,t){if(t&&("object"===$w(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nx()?Reflect.construct(t,n||[],rx(e).constructor):t.apply(e,n))}function nx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nx=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rx(e)}function ix(e,t){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ix(e,t)}function ox(e,t,n){return(t=ax(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ax(e){var t=function(e,t){if("object"!=$w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$w(t)?t:t+""}function sx(e){return e.dataKey}var lx=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tx(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ix(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=Yw(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,sx));var w=b.length>0;return r.createElement(Gw,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:w,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(Aw,t)}(s,Zw(Zw({},this.props),{},{payload:b})))}}])&&ex(n.prototype,i),o&&ex(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);ox(lx,"displayName","Tooltip"),ox(lx,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Kw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cx=n(643),ux=n.n(cx);Math.abs,Math.atan2;const dx=Math.cos,hx=(Math.max,Math.min,Math.sin),fx=Math.sqrt,px=Math.PI,mx=2*px;const gx={draw(e,t){const n=fx(t/px);e.moveTo(n,0),e.arc(0,0,n,0,mx)}},yx={draw(e,t){const n=fx(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vx=fx(1/3),bx=2*vx,wx={draw(e,t){const n=fx(t/bx),r=n*vx;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xx={draw(e,t){const n=fx(t),r=-n/2;e.rect(r,r,n,n)}},Sx=hx(px/10)/hx(7*px/10),_x=hx(mx/10)*Sx,Ex=-dx(mx/10)*Sx,kx={draw(e,t){const n=fx(.8908130915292852*t),r=_x*n,i=Ex*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=mx*o/5,a=dx(t),s=hx(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},jx=fx(3),Ox={draw(e,t){const n=-fx(t/(3*jx));e.moveTo(0,2*n),e.lineTo(-jx*n,-n),e.lineTo(jx*n,-n),e.closePath()}},Cx=-.5,Ax=fx(3)/2,Tx=1/fx(12),Ix=3*(Tx/2+1),Px={draw(e,t){const n=fx(t/Ix),r=n/2,i=n*Tx,o=r,a=n*Tx+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Cx*r-Ax*i,Ax*r+Cx*i),e.lineTo(Cx*o-Ax*a,Ax*o+Cx*a),e.lineTo(Cx*s-Ax*l,Ax*s+Cx*l),e.lineTo(Cx*r+Ax*i,Cx*i-Ax*r),e.lineTo(Cx*o+Ax*a,Cx*a-Ax*o),e.lineTo(Cx*s+Ax*l,Cx*l-Ax*s),e.closePath()}};fx(3),fx(3);function Nx(e){return Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(e)}var Dx=["type","size","sizeType"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function Rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(n),!0).forEach((function(t){Fx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Nx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ux(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zx={symbolCircle:gx,symbolCross:yx,symbolDiamond:wx,symbolSquare:xx,symbolStar:kx,symbolTriangle:Ox,symbolWye:Px},Bx=Math.PI/180,Vx=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,l=Lx(Lx({},Ux(e,Dx)),{},{type:n,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Xb(l,!0);return u===+u&&d===+d&&o===+o?r.createElement("path",Mx({},h,{className:$v("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(ux()(e));return zx[t]||gx}(n),t=function(e,t){let n=null,r=wv(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:uv(e||gx),t="function"===typeof t?t:uv(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:uv(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:uv(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Bx;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function qx(e){return qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(e)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(this,arguments)}function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jx(r.key),r)}}function Kx(e,t,n){return t=Xx(t),function(e,t){if(t&&("object"===qx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qx()?Reflect.construct(t,n||[],Xx(e).constructor):t.apply(e,n))}function Qx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qx=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xx(e)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yx(e,t)}function $x(e,t,n){return(t=Jx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jx(e){var t=function(e,t){if("object"!=qx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qx(t)?t:t+""}Vx.registerSymbol=function(e,t){zx["symbol".concat(ux()(e))]=t};var Zx=32,eS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kx(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=Zx/6,o=Zx/3,a=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Zx,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(Zx,"M").concat(2*o,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Zx,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hx(Object(n),!0).forEach((function(t){$x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(Vx,{fill:a,cx:n,cy:n,size:Zx,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:Zx,height:Zx},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,d=$v($x($x({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=_b()(t.value)?null:t.value;bb(!_b()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return r.createElement("li",Wx({className:d,style:c,key:"legend-item-".concat(n)},Db(e.props,t,n)),r.createElement(gw,{width:i,height:i,viewBox:l,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&Gx(n.prototype,i),o&&Gx(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function tS(e){return tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tS(e)}$x(eS,"displayName","Legend"),$x(eS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nS=["ref"];function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(n),!0).forEach((function(t){uS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dS(r.key),r)}}function aS(e,t,n){return t=lS(t),function(e,t){if(t&&("object"===tS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sS()?Reflect.construct(t,n||[],lS(e).constructor):t.apply(e,n))}function sS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sS=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lS(e)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cS(e,t)}function uS(e,t,n){return(t=dS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dS(e){var t=function(e,t){if("object"!=tS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tS(t)?t:t+""}function hS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fS(e){return e.value}var pS=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uS(e=aS(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?iS({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),iS(iS({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=iS(iS({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=hS(t,nS);return r.createElement(eS,n)}(n,iS(iS({},this.props),{},{payload:Yw(l,s,fS)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=iS(iS({},this.defaultProps),e.props).layout;return"vertical"===n&&ub(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],i&&oS(n.prototype,i),o&&oS(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mS.apply(this,arguments)}uS(pS,"displayName","Legend"),uS(pS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gS=function(e){var t=e.cx,n=e.cy,i=e.r,o=e.className,a=$v("recharts-dot",o);return t===+t&&n===+n&&i===+i?r.createElement("circle",mS({},Xb(e,!1),Nb(e),{className:a,cx:t,cy:n,r:i})):null},yS=n(5173),vS=n.n(yS),bS=Object.getOwnPropertyNames,wS=Object.getOwnPropertySymbols,xS=Object.prototype.hasOwnProperty;function SS(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function _S(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function ES(e){return bS(e).concat(wS(e))}var kS=Object.hasOwn||function(e,t){return xS.call(e,t)};function jS(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var OS=Object.getOwnPropertyDescriptor,CS=Object.keys;function AS(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function TS(e,t){return jS(e.getTime(),t.getTime())}function IS(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function PS(e,t){return e===t}function NS(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var DS=jS;function MS(e,t,n){var r=CS(e),i=r.length;if(CS(t).length!==i)return!1;for(;i-- >0;)if(!VS(e,t,n,r[i]))return!1;return!0}function RS(e,t,n){var r,i,o,a=ES(e),s=a.length;if(ES(t).length!==s)return!1;for(;s-- >0;){if(!VS(e,t,n,r=a[s]))return!1;if(i=OS(e,r),o=OS(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function LS(e,t){return jS(e.valueOf(),t.valueOf())}function FS(e,t){return e.source===t.source&&e.flags===t.flags}function US(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function zS(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function BS(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VS(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||kS(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var qS=Array.isArray,WS="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,HS=Object.assign,GS=Object.prototype.toString.call.bind(Object.prototype.toString);var KS=QS();QS({strict:!0}),QS({circular:!0}),QS({circular:!0,strict:!0}),QS({createInternalComparator:function(){return jS}}),QS({strict:!0,createInternalComparator:function(){return jS}}),QS({circular:!0,createInternalComparator:function(){return jS}}),QS({circular:!0,createInternalComparator:function(){return jS},strict:!0});function QS(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?RS:AS,areDatesEqual:TS,areErrorsEqual:IS,areFunctionsEqual:PS,areMapsEqual:r?SS(NS,RS):NS,areNumbersEqual:DS,areObjectsEqual:r?RS:MS,arePrimitiveWrappersEqual:LS,areRegExpsEqual:FS,areSetsEqual:r?SS(US,RS):US,areTypedArraysEqual:r?RS:zS,areUrlsEqual:BS};if(n&&(i=HS({},i,n(i))),t){var o=_S(i.areArraysEqual),a=_S(i.areMapsEqual),s=_S(i.areObjectsEqual),l=_S(i.areSetsEqual);i=HS({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(qS(e))return t(e,f,p);if(null!=WS&&WS(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return o(e,f,p);if(g===Set)return u(e,f,p);var y=GS(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?o(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function XS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function YS(e){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YS(e)}function $S(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return JS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZS(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=$S(r),o=i[0],a=i.slice(1);return"number"===typeof o?void XS(n.bind(null,a),o):(n(o),void XS(n.bind(null,a)))}"object"===YS(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function e_(e){return e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(e)}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach((function(t){r_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==e_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i_=function(e){return e},o_=function(e,t){return Object.keys(t).reduce((function(n,r){return n_(n_({},n),{},r_({},r,e(r,t[r])))}),{})},a_=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function s_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||c_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l_(e){return function(e){if(Array.isArray(e))return u_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c_(e,t){if(e){if("string"===typeof e)return u_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u_(e,t):void 0}}function u_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d_=1e-4,h_=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},f_=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},p_=function(e,t){return function(n){var r=h_(e,t);return f_(r,n)}},m_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=s_(l,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=p_(r,o),f=p_(i,a),p=(u=r,d=o,function(e){var t=h_(u,d),n=[].concat(l_(t.map((function(e,t){return e*t})).slice(1)),[0]);return f_(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=p(n);if(Math.abs(i-t)<d_||o<d_)return f(n);n=m(n-i/o)}return f(n)};return g.isStepper=!1,g},g_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return m_(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<d_&&Math.abs(o)<d_?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return m_(r)}return"function"===typeof r?r:null};function y_(e){return y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(e)}function v_(e){return function(e){if(Array.isArray(e))return E_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||__(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(n),!0).forEach((function(t){x_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==y_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||__(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function __(e,t){if(e){if("string"===typeof e)return E_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E_(e,t):void 0}}function E_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k_=function(e,t,n){return e+(t-e)*n},j_=function(e){return e.from!==e.to},O_=function e(t,n,r){var i=o_((function(e,n){if(j_(n)){var r=S_(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return w_(w_({},n),{},{from:i,velocity:o})}return n}),n);return r<1?o_((function(e,t){return j_(t)?w_(w_({},t),{},{velocity:k_(t.velocity,i[e].velocity,r),from:k_(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const C_=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return w_(w_({},n),{},x_({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return w_(w_({},n),{},x_({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=O_(n,d,o),i(w_(w_(w_({},e),t),o_((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(j_).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=o_((function(e,t){return k_.apply(void 0,v_(t).concat([n(a)]))}),u);if(i(w_(w_(w_({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=o_((function(e,t){return k_.apply(void 0,v_(t).concat([n(1)]))}),u);i(w_(w_(w_({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function A_(e){return A_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A_(e)}var T_=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function I_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P_(e){return function(e){if(Array.isArray(e))return N_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return N_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D_(Object(n),!0).forEach((function(t){R_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R_(e,t,n){return(t=F_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F_(r.key),r)}}function F_(e){var t=function(e,t){if("object"!==A_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A_(t)?t:String(t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U_(e,t)}function z_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rN){return!1}}();return function(){var n,r=q_(e);if(t){var i=q_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B_(this,n)}}function B_(e,t){if(t&&("object"===A_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V_(e)}function V_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q_(e){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q_(e)}var W_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}(a,e);var t,n,i,o=z_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(V_(n)),n.changeStyle=n.changeStyle.bind(V_(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),B_(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},B_(n);n.state={style:s?R_({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(KS(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?R_({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(M_(M_({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?R_({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=C_(n,r,g_(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(P_(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(P_(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=a_(h,o,s),p=M_(M_(M_({},d.style),l),{},{transition:f});return[].concat(P_(e),[p,o,u]).filter(i_)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ZS());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?R_({},r,i):i,h=a_(Object.keys(d),n,o);u.start([a,t,M_(M_({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,I_(e,T_)),a=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!i||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return(0,r.cloneElement)(e,M_(M_({},o),{},{style:M_(M_({},i),s),className:a}))};return 1===a?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return l(e)})))}}],n&&L_(t.prototype,n),i&&L_(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);W_.displayName="Animate",W_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},W_.propTypes={from:vS().oneOfType([vS().object,vS().string]),to:vS().oneOfType([vS().object,vS().string]),attributeName:vS().string,duration:vS().number,begin:vS().number,easing:vS().oneOfType([vS().string,vS().func]),steps:vS().arrayOf(vS().shape({duration:vS().number.isRequired,style:vS().object.isRequired,easing:vS().oneOfType([vS().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vS().func]),properties:vS().arrayOf("string"),onAnimationEnd:vS().func})),children:vS().oneOfType([vS().node,vS().func]),isActive:vS().bool,canBegin:vS().bool,onAnimationEnd:vS().func,shouldReAnimate:vS().bool,onAnimationStart:vS().func,onAnimationReStart:vS().func};const H_=W_;function G_(e){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(e)}function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K_.apply(this,arguments)}function Q_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y_(Object(n),!0).forEach((function(t){J_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=G_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z_=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},eE=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},tE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nE=function(e){var t=$_($_({},tE),e),n=(0,r.useRef)(),i=Q_((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=$v("recharts-rectangle",h);return y?r.createElement(H_,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var i=e.width,a=e.height,s=e.x,l=e.y;return r.createElement(H_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},r.createElement("path",K_({},Xb(t,!0),{className:v,d:Z_(s,l,i,a,d),ref:n})))})):r.createElement("path",K_({},Xb(t,!0),{className:v,d:Z_(s,l,c,u,d)}))};function rE(e){return rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(e)}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iE(Object(n),!0).forEach((function(t){aE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sE={widthCache:{},cacheCount:0},lE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cE="recharts_measurement_span";var uE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Kw.isSsr)return{width:0,height:0};var n=function(e){var t=oE({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(sE.widthCache[r])return sE.widthCache[r];try{var i=document.getElementById(cE);i||((i=document.createElement("span")).setAttribute("id",cE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=oE(oE({},lE),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return sE.widthCache[r]=s,++sE.cacheCount>2e3&&(sE.cacheCount=0,sE.widthCache={}),s}catch(rN){return{width:0,height:0}}};function dE(e){return dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dE(e)}function hE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mE(r.key),r)}}function mE(e){var t=function(e,t){if("object"!=dE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dE(t)?t:t+""}var gE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vE=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bE=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},xE=Object.keys(wE),SE="NaN";var _E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||vE.test(n)||(this.num=NaN,this.unit=""),xE.includes(n)&&(this.num=function(e,t){return e*wE[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=hE(null!==(n=bE.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&pE(t.prototype,n),r&&pE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function EE(e){if(e.includes(SE))return SE;for(var t=e;t.includes("*")||t.includes("/");){var n,r=hE(null!==(n=gE.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=_E.parse(null!==i&&void 0!==i?i:""),l=_E.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return SE;t=t.replace(gE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=hE(null!==(u=yE.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=_E.parse(null!==h&&void 0!==h?h:""),g=_E.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return SE;t=t.replace(yE,y.toString())}return t}var kE=/\(([^()]*)\)/;function jE(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=hE(kE.exec(t),2)[1];t=t.replace(kE,EE(n))}return t}(t),t=EE(t)}function OE(e){var t=function(e){try{return jE(e)}catch(rN){return SE}}(e.slice(5,-1));return t===SE?"":t}var CE=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AE=["dx","dy","angle","className","breakAll"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(this,arguments)}function IE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return NE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DE=/[ \f\n\r\t\v\u2028\u2029]+/,ME=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return xb()(t)||(i=n?t.toString().split(""):t.toString().split(DE)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:uE(e,r).width}})),spaceWidth:n?0:uE("\xa0",r).width}}catch(rN){return null}},RE=function(e){return[{words:xb()(e)?[]:e.toString().split(DE)}]},LE=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!Kw.isSsr){var s=ME({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=ub(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=ME({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=PE(p(v-1),2),w=b[0],x=b[1],S=PE(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(g=v-1),!w&&S){f=x;break}y++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):RE(r)}return RE(r)},FE="#808080",UE=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?FE:g,v=IE(e,CE),b=(0,r.useMemo)((function(){return LE({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),w=v.dx,x=v.dy,S=v.angle,_=v.className,E=v.breakAll,k=IE(v,AE);if(!db(n)||!db(o))return null;var j,O=n+(ub(w)?w:0),C=o+(ub(x)?x:0);switch(m){case"start":j=OE("calc(".concat(c,")"));break;case"middle":j=OE("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=OE("calc(".concat(b.length-1," * -").concat(s,")"))}var A=[];if(d){var T=b[0].width,I=v.width;A.push("scale(".concat((ub(I)?I/T:1)/T,")"))}return S&&A.push("rotate(".concat(S,", ").concat(O,", ").concat(C,")")),A.length&&(k.transform=A.join(" ")),r.createElement("text",TE({},Xb(k,!0),{x:O,y:C,className:$v("recharts-text",_),textAnchor:f,fill:y.includes("url")?FE:y}),b.map((function(e,t){var n=e.words.join(E?"":" ");return r.createElement("tspan",{x:O,dy:0===t?j:s,key:"".concat(n,"-").concat(t)},n)})))};function zE(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function BE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function VE(e,t){return e[t]}function qE(e){const t=[];return t.key=e,t}var WE=n(539),HE=n.n(WE),GE=n(6745),KE=n.n(GE),QE=n(3538),XE=n.n(QE),YE=n(9853),$E=n.n(YE),JE=n(8210),ZE=n.n(JE);function ek(e){return function(e){if(Array.isArray(e))return tk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nk=function(e){return e},rk={"@@functional/placeholder":!0},ik=function(e){return e===rk},ok=function(e){return function t(){return 0===arguments.length||1===arguments.length&&ik(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},ak=function e(t,n){return 1===t?n:ok((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==rk})).length;return a>=t?n.apply(void 0,i):e(t-a,ok((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return ik(e)?t.shift():e}));return n.apply(void 0,ek(o).concat(t))})))}))},sk=function(e){return ak(e.length,e)},lk=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ck=sk((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),uk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return nk;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},dk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},hk=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var fk=sk((function(e,t,n){var r=+e;return r+n*(+t-r)})),pk=sk((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),mk=sk((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const gk={rangeStep:function(e,t,n){for(var r=new(ZE())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(ZE())(e).abs().log(10).toNumber())+1},interpolateNumber:fk,uninterpolateNumber:pk,uninterpolateTruncation:mk};function yk(e){return function(e){if(Array.isArray(e))return wk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||bk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||bk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bk(e,t){if(e){if("string"===typeof e)return wk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wk(e,t):void 0}}function wk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xk(e){var t=vk(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Sk(e,t,n){if(e.lte(0))return new(ZE())(0);var r=gk.getDigitCount(e.toNumber()),i=new(ZE())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(ZE())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(ZE())(Math.ceil(s))}function _k(e,t,n){var r=1,i=new(ZE())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(ZE())(10).pow(gk.getDigitCount(e)-1),i=new(ZE())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(ZE())(Math.floor(e)))}else 0===e?i=new(ZE())(Math.floor((t-1)/2)):n||(i=new(ZE())(Math.floor(e)));var a=Math.floor((t-1)/2);return uk(ck((function(e){return i.add(new(ZE())(e-a).mul(r)).toNumber()})),lk)(0,t)}function Ek(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(ZE())(0),tickMin:new(ZE())(0),tickMax:new(ZE())(0)};var o,a=Sk(new(ZE())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(ZE())(0):(o=new(ZE())(e).add(t).div(2)).sub(new(ZE())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(ZE())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?Ek(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(ZE())(s).mul(a)),tickMax:o.add(new(ZE())(l).mul(a))})}var kk=hk((function(e){var t=vk(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=vk(xk([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(yk(lk(0,i-1).map((function(){return 1/0})))):[].concat(yk(lk(0,i-1).map((function(){return-1/0}))),[c]);return n>r?dk(u):u}if(l===c)return _k(l,i,o);var d=Ek(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=gk.rangeStep(f,p.add(new(ZE())(.1).mul(h)),h);return n>r?dk(m):m})),jk=(hk((function(e){var t=vk(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=vk(xk([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return _k(l,i,o);var u=Sk(new(ZE())(c).sub(l).div(a-1),o,0),d=uk(ck((function(e){return new(ZE())(l).add(new(ZE())(e).mul(u)).toNumber()})),lk)(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?dk(d):d})),hk((function(e,t){var n=vk(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=vk(xk([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=Sk(new(ZE())(l).sub(s).div(c-1),o,0),d=[].concat(yk(gk.rangeStep(new(ZE())(s),new(ZE())(l).sub(new(ZE())(.99).mul(u)),u)),[l]);return r>i?dk(d):d}))),Ok=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ck(e){return Ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ck(e)}function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak.apply(this,arguments)}function Tk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ik(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ik(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uk(r.key),r)}}function Dk(e,t,n){return t=Rk(t),function(e,t){if(t&&("object"===Ck(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mk()?Reflect.construct(t,n||[],Rk(e).constructor):t.apply(e,n))}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mk=function(){return!!e})()}function Rk(e){return Rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rk(e)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lk(e,t)}function Fk(e,t,n){return(t=Uk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uk(e){var t=function(e,t){if("object"!=Ck(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ck(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ck(t)?t:t+""}var zk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dk(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Pk(e,Ok),d=Xb(u,!1);"x"===this.props.direction&&"number"!==l.type&&hw(!1);var h=a.map((function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=Tk(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,w=h+t,x=w+i,S=w-i,_=b(f-m),E=b(f+g);y.push({x1:E,y1:x,x2:E,y2:S}),y.push({x1:_,y1:w,x2:E,y2:w}),y.push({x1:_,y1:x,x2:_,y2:S})}else if("horizontal"===n){var k=c.scale,j=u+t,O=j-i,C=j+i,A=k(f-m),T=k(f+g);y.push({x1:O,y1:T,x2:C,y2:T}),y.push({x1:j,y1:A,x2:j,y2:T}),y.push({x1:O,y1:A,x2:C,y2:A})}return r.createElement(ww,Ak({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),y.map((function(e){return r.createElement("line",Ak({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(ww,{className:"recharts-errorBars"},h)}}],i&&Nk(n.prototype,i),o&&Nk(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function Bk(e){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bk(e)}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vk(Object(n),!0).forEach((function(t){Wk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Bk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fk(zk,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Fk(zk,"displayName","ErrorBar");var Hk=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=Hb(t,pS);if(!o)return null;var a,s=pS.defaultProps,l=void 0!==s?qk(qk({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?qk(qk({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:ej(t),value:o||i,payload:r}})),qk(qk(qk({},l),pS.getWithHeight(o,r)),{},{payload:a,item:o})};function Gk(e){return Gk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gk(e)}function Kk(e){return function(e){if(Array.isArray(e))return Qk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Qk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xk(Object(n),!0).forEach((function(t){$k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $k(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Gk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jk(e,t,n){return xb()(e)||xb()(t)?n:db(t)?ob()(e,t,n):_b()(t)?t(e):n}function Zk(e,t,n,r){var i=XE()(e,(function(e){return Jk(e,t)}));if("number"===n){var o=i.filter((function(e){return ub(e)||parseFloat(e)}));return o.length?[KE()(o),HE()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!xb()(e)})):i).map((function(e){return db(e)||e instanceof Date?e:""}))}var ej=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Yk(Yk({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},tj=function(e,t,n,r,i){var o=Wb(t.props.children,zk).filter((function(e){return function(e,t,n){return!!xb()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=Jk(t,n);if(xb()(r))return e;var i=Array.isArray(r)?[KE()(r),HE()(r)]:[r,r],o=a.reduce((function(e,n){var r=Jk(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},nj=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&tj(e,t,o,r)||Zk(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},rj=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},ij=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},oj=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*lb(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!rb()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},aj=new WeakMap,sj=function(e,t){if("function"!==typeof t)return e;aj.has(e)||aj.set(e,new WeakMap);var n=aj.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},lj=1e-4,cj={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=rb()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}zE(e,t)}},none:zE,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}zE(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,zE(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=rb()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},uj=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=cj[n],o=function(){var e=uv([]),t=BE,n=zE,r=VE;function i(i){var o,a,s=Array.from(e.apply(this,arguments),qE),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=cv(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:uv(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:uv(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?BE:"function"===typeof e?e:uv(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?zE:e,i):n},i}().keys(r).value((function(e,t){return+Jk(e,t,0)})).order(BE).offset(i);return o(e)};function dj(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!xb()(i[t.dataKey])){var s=yb(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Jk(i,xb()(a)?t.dataKey:a);return xb()(l)?null:t.scale(l)}var hj=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=Jk(o,t.dataKey,t.domain[a]);return xb()(s)?null:t.scale(s)-i/2+r},fj=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[KE()(t.concat([e[0]]).filter(ub)),HE()(t.concat([e[1]]).filter(ub))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=function(e,t,n){if(_b()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(ub(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(pj.test(e[0])){var i=+pj.exec(e[0])[1];r[0]=t[0]-i}else _b()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(ub(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(mj.test(e[1])){var o=+mj.exec(e[1])[1];r[1]=t[1]+o}else _b()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},yj=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=uw()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},vj=function(e,t,n){return e&&e.length?$E()(e,ob()(n,"type.defaultProps.domain"))?t:e:t},bj=function(e,t){var n=e.type.defaultProps?Yk(Yk({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return Yk(Yk({},Xb(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:ej(e),value:Jk(t,r),type:s,payload:t,chartType:l,hide:c})};function wj(e){return wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wj(e)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(n),!0).forEach((function(t){_j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _j(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ej=["Webkit","Moz","O","ms"];function kj(e){return kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kj(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jj.apply(this,arguments)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oj(Object(n),!0).forEach((function(t){Dj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mj(r.key),r)}}function Tj(e,t,n){return t=Pj(t),function(e,t){if(t&&("object"===kj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ij()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function Ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ij=function(){return!!e})()}function Pj(e){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pj(e)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nj(e,t)}function Dj(e,t,n){return(t=Mj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mj(e){var t=function(e,t){if("object"!=kj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kj(t)?t:t+""}var Rj=function(e){return e.changedTouches&&!!e.changedTouches.length},Lj=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dj(n=Tj(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),Dj(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),Dj(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),Dj(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),Dj(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),Dj(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),Dj(n,"handleSlideDragStart",(function(e){var t=Rj(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=Jk(n[e],i,e);return _b()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Rj(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(Dj(Dj({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?y%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:y%h===0)||i>o&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(Dj({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:t,y:n,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var i,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=Cj(Cj({},Xb(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return r.createElement(ww,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return r.createElement(ww,{className:"recharts-brush-texts"},r.createElement(UE,jj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},d),this.getTextOfTick(t)),r.createElement(UE,jj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+o/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!ub(o)||!ub(a)||!ub(s)||!ub(l)||s<=0||l<=0)return null;var y=$v("recharts-brush",n),v=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=Ej.reduce((function(e,r){return Sj(Sj({},e),{},_j({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(ww,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:o,fill:a,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):_b()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return Cj({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=qf().domain(lw()(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&Aj(n.prototype,i),o&&Aj(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function Fj(e){return Fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(e)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach((function(t){Bj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Dj(Lj,"displayName","Brush"),Dj(Lj,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vj=Math.PI/180,qj=function(e){return 180*e/Math.PI},Wj=function(e,t,n,r){return{x:e+Math.cos(-Vj*r)*n,y:t+Math.sin(-Vj*r)*n}},Hj=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:qj(l),angleInRadian:l}},Gj=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Kj=function(e,t){var n=e.x,r=e.y,i=Hj({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?zj(zj({},t),{},{radius:o,angle:Gj(f,t)}):null};function Qj(e){return Qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qj(e)}var Xj=["offset"];function Yj(e){return function(e){if(Array.isArray(e))return $j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zj(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nO.apply(this,arguments)}var rO=function(e,t,n){var i,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return lb(t-e)*Math.min(Math.abs(t-e),360)}(m,g),w=b>=0?1:-1;"insideStart"===a?(i=m+w*l,o=y):"insideEnd"===a?(i=g-w*l,o=!y):"end"===a&&(i=g+w*l,o=y),o=b<=0?o:!o;var x=Wj(d,h,v,i),S=Wj(d,h,v,i+359*(o?1:-1)),_="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),E=xb()(e.id)?fb("recharts-radial-line-"):e.id;return r.createElement("text",nO({},n,{dominantBaseline:"central",className:$v("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:E,d:_})),r.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function iO(e){var t,n=e.offset,i=eO({offset:void 0===n?5:n},Jj(e,Xj)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!o||xb()(s)&&xb()(l)&&!(0,r.isValidElement)(c)&&!_b()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if(_b()(c)){if(t=(0,r.createElement)(c,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=xb()(e.children)?t:e.children;return _b()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&ub(e.cx)}(o),p=Xb(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return rO(i,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=Wj(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=Wj(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return eO(eO({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return eO(eO({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return eO(eO({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return eO(eO({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===i?eO({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?eO({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?eO({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?eO({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?eO({x:a+m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?eO({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?eO({x:a+m,y:s+c-d,textAnchor:y,verticalAnchor:h},w):"insideBottomRight"===i?eO({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},w):kb()(i)&&(ub(i.x)||cb(i.x))&&(ub(i.y)||cb(i.y))?eO({x:a+pb(i.x,l),y:s+pb(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):eO({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(i);return r.createElement(UE,nO({className:$v("recharts-label",d)},p,m,{breakAll:h}),t)}iO.displayName="Label";var oO=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(ub(p)&&ub(m)){if(ub(u)&&ub(d))return{x:u,y:d,width:p,height:m};if(ub(h)&&ub(f))return{x:h,y:f,width:p,height:m}}return ub(u)&&ub(d)?{x:u,y:d,width:0,height:0}:ub(t)&&ub(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};iO.parseViewBox=oO,iO.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=oO(e),a=Wb(i,iO).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?r.createElement(iO,{key:"label-implicit",viewBox:t}):db(e)?r.createElement(iO,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===iO?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(iO,{key:"label-implicit",content:e,viewBox:t}):_b()(e)?r.createElement(iO,{key:"label-implicit",content:e,viewBox:t}):kb()(e)?r.createElement(iO,nO({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(Yj(a))};var aO=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},sO=n(1733),lO=n.n(sO),cO=n(7002),uO=n.n(cO),dO=function(e){return null};dO.displayName="Cell";var hO=n(4065),fO=n.n(hO);function pO(e){return pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pO(e)}var mO=["valueAccessor"],gO=["data","dataKey","clockWise","id","textBreakAll"];function yO(e){return function(e){if(Array.isArray(e))return vO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bO(){return bO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bO.apply(this,arguments)}function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wO(Object(n),!0).forEach((function(t){SO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var EO=function(e){return Array.isArray(e.value)?fO()(e.value):e.value};function kO(e){var t=e.valueAccessor,n=void 0===t?EO:t,i=_O(e,mO),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=_O(i,gO);return o&&o.length?r.createElement(ww,{className:"recharts-label-list"},o.map((function(e,t){var i=xb()(a)?n(e,t):Jk(e&&e.payload,a),o=xb()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(iO,bO({},Xb(e,!0),u,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:iO.parseViewBox(xb()(s)?e:xO(xO({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}kO.displayName="LabelList",kO.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=Wb(e.children,kO).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return i;var o=function(e,t){return e?!0===e?r.createElement(kO,{key:"labelList-implicit",data:t}):r.isValidElement(e)||_b()(e)?r.createElement(kO,{key:"labelList-implicit",data:t,content:e}):kb()(e)?r.createElement(kO,bO({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(yO(i))};var jO=n(2322),OO=n.n(jO),CO=n(6361),AO=n.n(CO);function TO(e){return TO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TO(e)}function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(this,arguments)}function PO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return NO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DO(Object(n),!0).forEach((function(t){RO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LO=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},FO={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UO=function(e){var t=MO(MO({},FO),e),n=(0,r.useRef)(),i=PO((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=$v("recharts-trapezoid",h);return g?r.createElement(H_,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return r.createElement(H_,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",IO({},Xb(t,!0),{className:y,d:LO(l,c,i,a,s),ref:n})))})):r.createElement("g",null,r.createElement("path",IO({},Xb(t,!0),{className:y,d:LO(s,l,c,u,d)})))};function zO(e){return zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(e)}function BO(){return BO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BO.apply(this,arguments)}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach((function(t){WO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HO=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Vj,d=l?i:i+o*u,h=l?i-o*u:i;return{center:Wj(t,n,c,d),circleTangency:Wj(t,n,r,d),lineTangency:Wj(t,n,c*Math.cos(u*Vj),h),theta:u}},GO=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return lb(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=Wj(t,n,i,o),c=Wj(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Wj(t,n,r,o),h=Wj(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},KO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QO=function(e){var t=qO(qO({},KO),e),n=t.cx,i=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<o||u===d)return null;var f,p=$v("recharts-sector",h),m=a-o,g=pb(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=lb(c-l),d=HO({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=HO({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):GO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=HO({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=x.circleTangency,_=x.lineTangency,E=x.theta,k=HO({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=k.circleTangency,O=k.lineTangency,C=k.theta,A=s?Math.abs(l-c):Math.abs(l-c)-E-C;if(A<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):GO({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),r.createElement("path",BO({},Xb(t,!0),{className:p,d:f,role:"img"}))},XO=["option","shapeType","propTransformer","activeClassName","isActive"];function YO(e){return YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YO(e)}function $O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JO(Object(n),!0).forEach((function(t){eC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tC(e,t){return ZO(ZO({},t),e)}function nC(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(nE,n);case"trapezoid":return r.createElement(UO,n);case"sector":return r.createElement(QO,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(Vx,n);break;default:return null}}function rC(e){var t,n=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?tC:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=$O(e,XO);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,ZO(ZO({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(_b()(n))t=n(u);else if(OO()(n)&&!AO()(n)){var d=a(n,u);t=r.createElement(nC,{shapeType:i,elementProps:d})}else{var h=u;t=r.createElement(nC,{shapeType:i,elementProps:h})}return c?r.createElement(ww,{className:l},t):t}function iC(e,t){return null!=t&&"trapezoids"in e.props}function oC(e,t){return null!=t&&"sectors"in e.props}function aC(e,t){return null!=t&&"points"in e.props}function sC(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function lC(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function cC(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function uC(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return iC(e,t)?n="trapezoids":oC(e,t)?n="sectors":aC(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return iC(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:oC(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:aC(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=$E()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return iC(e,t)?n=sC:oC(e,t)?n=lC:aC(e,t)&&(n=cC),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var dC=["x","y"];function hC(e){return hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC(e)}function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fC.apply(this,arguments)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pC(Object(n),!0).forEach((function(t){gC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hC(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vC(e,t){var n=e.x,r=e.y,i=yC(e,dC),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return mC(mC(mC(mC(mC({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function bC(e){return r.createElement(rC,fC({shapeType:"rectangle",propTransformer:vC,activeClassName:"recharts-active-bar"},e))}var wC,xC=["value","background"];function SC(e){return SC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SC(e)}function _C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EC.apply(this,arguments)}function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kC(Object(n),!0).forEach((function(t){PC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NC(r.key),r)}}function CC(e,t,n){return t=TC(t),function(e,t){if(t&&("object"===SC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AC()?Reflect.construct(t,n||[],TC(e).constructor):t.apply(e,n))}function AC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AC=function(){return!!e})()}function TC(e){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TC(e)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IC(e,t)}function PC(e,t,n){return(t=NC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NC(e){var t=function(e,t){if("object"!=SC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SC(t)?t:t+""}var DC=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return PC(e=CC(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),PC(e,"id",fb("recharts-bar-")),PC(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),PC(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}(t,e),n=t,i=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,l=Xb(this.props,!1);return e&&e.map((function(e,n){var c=n===a,u=c?s:i,d=jC(jC(jC({},l),e),{},{isActive:c,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(ww,EC({className:"recharts-bar-rectangle"},Db(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),r.createElement(bC,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return r.createElement(H_,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=u&&u[t];if(n){var r=gb(n.x,e.x),a=gb(n.y,e.y),s=gb(n.width,e.width),l=gb(n.height,e.height);return jC(jC({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=gb(0,e.height)(o);return jC(jC({},e),{},{y:e.y+e.height-c,height:c})}var d=gb(0,e.width)(o);return jC(jC({},e),{},{width:d})}));return r.createElement(ww,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&$E()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,o=t.activeIndex,a=Xb(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=_C(t,xC);if(!s)return null;var c=jC(jC(jC(jC(jC({},l),{},{fill:"#eee"},s),a),Db(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(bC,EC({key:"background-bar-".concat(n),option:e.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,l=Wb(n.children,zk);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Jk(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(ww,d,l.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=$v("recharts-bar",i),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=xb()(f)?this.id:f;return r.createElement(ww,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,r.createElement(ww,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&kO.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&OC(n.prototype,i),o&&OC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function MC(e){return MC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MC(e)}function RC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zC(r.key),r)}}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LC(Object(n),!0).forEach((function(t){UC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UC(e,t,n){return(t=zC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zC(e){var t=function(e,t){if("object"!=MC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MC(t)?t:t+""}wC=DC,PC(DC,"displayName","Bar"),PC(DC,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Kw.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),PC(DC,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?jC(jC({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,w="horizontal"===p?a:o,x=c?w.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),_=Wb(v,dO),E=d.map((function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!ub(t[0])||!ub(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ub(e[0])||e[0]<n)&&(i[0]=n),(!ub(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],x):(r=Jk(e,y),Array.isArray(r)||(r=[S,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||hw(!1),t)}}(b,wC.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var E,k=[a.scale(r[0]),a.scale(r[1])],j=k[0],O=k[1];d=hj({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(E=null!==O&&void 0!==O?O:j)&&void 0!==E?E:void 0,m=f.size;var C=j-O;if(g=Number.isNaN(C)?0:C,v={x:d,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(g)<Math.abs(w)){var A=lb(g||w)*(Math.abs(w)-Math.abs(g));h-=A,g+=A}}else{var T=[o.scale(r[0]),o.scale(r[1])],I=T[0],P=T[1];if(d=I,h=hj({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=P-I,g=f.size,v={x:o.x,y:h,width:o.width,height:g},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=lb(m||w)*(Math.abs(w)-Math.abs(m))}return jC(jC(jC({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},_&&_[t]&&_[t].props),{},{tooltipPayload:[bj(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return jC({data:E,layout:p},h)}));var BC=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},VC=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&RC(t.prototype,n),r&&RC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();UC(VC,"EPS",1e-4);var qC=function(e){var t=Object.keys(e).reduce((function(t,n){return FC(FC({},t),{},UC({},n,VC.create(e[n])))}),{});return FC(FC({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return lO()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return uO()(e,(function(e,n){return t[n].isInRange(e)}))}})};function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(this,arguments)}function HC(e){return HC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HC(e)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GC(Object(n),!0).forEach((function(t){ZC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eA(r.key),r)}}function XC(e,t,n){return t=$C(t),function(e,t){if(t&&("object"===HC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YC()?Reflect.construct(t,n||[],$C(e).constructor):t.apply(e,n))}function YC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YC=function(){return!!e})()}function $C(e){return $C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$C(e)}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JC(e,t)}function ZC(e,t,n){return(t=eA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eA(e){var t=function(e,t){if("object"!=HC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HC(t)?t:t+""}var tA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),XC(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,n=e.x,i=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=db(n),c=db(i);if(bb(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=qC({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return aO(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=KC(KC({clipPath:aO(this.props,"hidden")?"url(#".concat(s,")"):void 0},Xb(this.props,!0)),{},{cx:d,cy:h});return r.createElement(ww,{className:$v("recharts-reference-dot",m)},t.renderDot(p,g),iO.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],i&&QC(n.prototype,i),o&&QC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);ZC(tA,"displayName","ReferenceDot"),ZC(tA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),ZC(tA,"renderDot",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_b()(e)?e(t):r.createElement(gS,WC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var nA=n(4597),rA=n.n(nA),iA=n(8990),oA=n.n(iA),aA=n(5797),sA=n.n(aA)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var lA=(0,r.createContext)(void 0),cA=(0,r.createContext)(void 0),uA=(0,r.createContext)(void 0),dA=(0,r.createContext)({}),hA=(0,r.createContext)(void 0),fA=(0,r.createContext)(0),pA=(0,r.createContext)(0),mA=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=sA(o);return r.createElement(lA.Provider,{value:n},r.createElement(cA.Provider,{value:i},r.createElement(dA.Provider,{value:o},r.createElement(uA.Provider,{value:u},r.createElement(hA.Provider,{value:a},r.createElement(fA.Provider,{value:c},r.createElement(pA.Provider,{value:l},s)))))))};var gA=function(e){var t=(0,r.useContext)(lA);null==t&&hw(!1);var n=t[e];return null==n&&hw(!1),n},yA=function(e){var t=(0,r.useContext)(cA);null==t&&hw(!1);var n=t[e];return null==n&&hw(!1),n},vA=function(){return(0,r.useContext)(pA)},bA=function(){return(0,r.useContext)(fA)};function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}function xA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AA(r.key),r)}}function SA(e,t,n){return t=EA(t),function(e,t){if(t&&("object"===wA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_A()?Reflect.construct(t,n||[],EA(e).constructor):t.apply(e,n))}function _A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_A=function(){return!!e})()}function EA(e){return EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EA(e)}function kA(e,t){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kA(e,t)}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jA(Object(n),!0).forEach((function(t){CA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CA(e,t,n){return(t=AA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AA(e){var t=function(e,t){if("object"!=wA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wA(t)?t:t+""}function TA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return IA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PA.apply(this,arguments)}function NA(e){var t=e.x,n=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,r.useContext)(hA),d=gA(o),h=yA(a),f=(0,r.useContext)(uA);if(!u||!f)return null;bb(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(aO(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(aO(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return aO(l,"discard")&&rA()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(qC({x:d.scale,y:h.scale}),db(t),db(n),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=TA(p,2),g=m[0],y=g.x,v=g.y,b=m[1],w=b.x,x=b.y,S=OA(OA({clipPath:aO(e,"hidden")?"url(#".concat(u,")"):void 0},Xb(e,!0)),{},{x1:y,y1:v,x2:w,y2:x});return r.createElement(ww,{className:$v("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_b()(e)?e(t):r.createElement("line",PA({},t,{className:"recharts-reference-line-line"}))}(s,S),iO.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return BC({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:w,y2:x})))}var DA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kA(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(NA,this.props)}}])&&xA(n.prototype,i),o&&xA(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MA.apply(this,arguments)}function RA(e){return RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RA(e)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LA(Object(n),!0).forEach((function(t){WA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HA(r.key),r)}}function zA(e,t,n){return t=VA(t),function(e,t){if(t&&("object"===RA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BA()?Reflect.construct(t,n||[],VA(e).constructor):t.apply(e,n))}function BA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BA=function(){return!!e})()}function VA(e){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VA(e)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qA(e,t)}function WA(e,t,n){return(t=HA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HA(e){var t=function(e,t){if("object"!=RA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RA(t)?t:t+""}CA(DA,"displayName","ReferenceLine"),CA(DA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var GA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zA(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,n=e.x1,i=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;bb(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=db(n),d=db(i),h=db(o),f=db(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=qC({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!aO(i,"discard")||d.isInRange(h)&&d.isInRange(f)?BC(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=aO(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(ww,{className:$v("recharts-reference-area",s)},t.renderRect(p,FA(FA({clipPath:g},Xb(this.props,!0)),m)),iO.renderCallByParent(this.props,m))}}])&&UA(n.prototype,i),o&&UA(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function KA(e){return function(e){if(Array.isArray(e))return QA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return QA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}WA(GA,"displayName","ReferenceArea"),WA(GA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),WA(GA,"renderRect",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_b()(e)?e(t):r.createElement(nE,MA({},t,{className:"recharts-reference-area-rect"}))}));var XA=function(e,t,n,r,i){var o=Wb(e,DA),a=Wb(e,tA),s=[].concat(KA(o),KA(a)),l=Wb(e,GA),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&aO(t.props,"extendDomain")&&ub(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&aO(t.props,"extendDomain")&&ub(t.props[h])&&ub(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return ub(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},YA=n(7283),$A=new(n.n(YA)()),JA="recharts.syncMouseEvents";function ZA(e){return ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZA(e)}function eT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nT(r.key),r)}}function tT(e,t,n){return(t=nT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nT(e){var t=function(e,t){if("object"!=ZA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZA(t)?t:t+""}var rT=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tT(this,"activeIndex",0),tT(this,"coordinateList",[]),tT(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&eT(e.prototype,t),n&&eT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function iT(){}function oT(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aT(e){this._context=e}function sT(e){this._context=e}function lT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oT(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},sT.prototype={areaStart:iT,areaEnd:iT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:oT(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},lT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:oT(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class cT{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function uT(e){this._context=e}function dT(e){this._context=e}function hT(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function fT(e,t){this._context=e,this._t=t}function pT(e,t,n){var r=null,i=uv(!0),o=null,a=hv,s=null,l=wv(c);function c(c){var u,d,h,f,p,m=(c=cv(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return _v().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?xv:uv(+e),t="function"===typeof t?t:uv(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Sv:uv(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:uv(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:uv(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:uv(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:uv(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:uv(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:uv(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:uv(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function mT(e){return mT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mT(e)}function gT(){return gT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gT.apply(this,arguments)}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yT(Object(n),!0).forEach((function(t){bT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}uT.prototype={areaStart:iT,areaEnd:iT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},dT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=hT(e),i=hT(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var wT={curveBasisClosed:function(e){return new sT(e)},curveBasisOpen:function(e){return new lT(e)},curveBasis:function(e){return new aT(e)},curveBumpX:function(e){return new cT(e,!0)},curveBumpY:function(e){return new cT(e,!1)},curveLinearClosed:function(e){return new uT(e)},curveLinear:hv,curveMonotoneX:Iv,curveMonotoneY:function(e){return new Av(e)},curveNatural:function(e){return new dT(e)},curveStep:function(e){return new fT(e,.5)},curveStepAfter:function(e){return new fT(e,1)},curveStepBefore:function(e){return new fT(e,0)}},xT=function(e){return e.x===+e.x&&e.y===+e.y},ST=function(e){return e.x},_T=function(e){return e.y},ET=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(_b()(e))return e;var n="curve".concat(ux()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?wT[n]||hv:wT["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter((function(e){return xT(e)})):o;if(Array.isArray(a)){var h=c?a.filter((function(e){return xT(e)})):a,f=d.map((function(e,t){return vT(vT({},e),{},{base:h[t]})}));return(t="vertical"===s?pT().y(_T).x1(ST).x0((function(e){return e.base.x})):pT().x(ST).y1(_T).y0((function(e){return e.base.y}))).defined(xT).curve(u),t(f)}return(t="vertical"===s&&ub(a)?pT().y(_T).x1(ST).x0(a):ub(a)?pT().x(ST).y1(_T).y0(a):_v().x(ST).y(_T)).defined(xT).curve(u),t(d)},kT=function(e){var t=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?ET(e):i;return r.createElement("path",gT({},Xb(e,!1),Nb(e),{className:$v("recharts-curve",t),d:a,ref:o}))};function jT(e){return jT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(e)}var OT=["x","y","top","left","width","height","className"];function CT(){return CT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CT.apply(this,arguments)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=jT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var PT=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},NT=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AT(Object(n),!0).forEach((function(t){TT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:c,width:d,height:f},IT(e,OT));return ub(n)&&ub(o)&&ub(d)&&ub(f)&&ub(s)&&ub(c)?r.createElement("path",CT({},Xb(m,!0),{className:$v("recharts-cross",p),d:PT(n,o,d,f,s,c)})):null};function DT(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[Wj(t,n,r,i),Wj(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function MT(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return DT(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Wj(s,l,c,d),f=Wj(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function RT(e){return RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RT(e)}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(n),!0).forEach((function(t){UT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zT(e){var t,n,i,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!m||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=kT;if("ScatterChart"===p)i=l,g=NT;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=nE;else if("radial"===f){var y=DT(l),v=y.cx,b=y.cy,w=y.radius;i={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:w,outerRadius:w},g=QO}else i={points:MT(f,l,u)},g=kT;var x=FT(FT(FT(FT({stroke:"#ccc",pointerEvents:"none"},u),i),Xb(m,!1)),{},{payload:c,payloadIndex:d,className:$v("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,x):(0,r.createElement)(g,x)}var BT=["item"],VT=["children","className","width","height","style","compact","title","desc"];function qT(e){return qT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qT(e)}function WT(){return WT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WT.apply(this,arguments)}function HT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||ZT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iI(r.key),r)}}function QT(e,t,n){return t=YT(t),function(e,t){if(t&&("object"===qT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XT()?Reflect.construct(t,n||[],YT(e).constructor):t.apply(e,n))}function XT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(XT=function(){return!!e})()}function YT(e){return YT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YT(e)}function $T(e,t){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$T(e,t)}function JT(e){return function(e){if(Array.isArray(e))return eI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ZT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZT(e,t){if(e){if("string"===typeof e)return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eI(e,t):void 0}}function eI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach((function(t){rI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rI(e,t,n){return(t=iI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(e){var t=function(e,t){if("object"!=qT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qT(t)?t:t+""}var oI={xAxis:["bottom","top"],yAxis:["left","right"]},aI={width:"100%",height:"100%"},sI={x:0,y:0};function lI(e){return e}var cI=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(JT(e),JT(n)):e}),[]);return o.length>0?o:e&&e.length&&ub(r)&&ub(i)?e.slice(r,i+1):[]};function uI(e){return"number"===e?[0,"auto"]:void 0}var dI=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=cI(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=yb(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(JT(i),[bj(s,c)]):i}),[])},hI=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(lb(u-c)!==lb(d-u)){var f=[];if(lb(d-u)===lb(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=dI(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return nI(nI(nI({},r),Wj(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return nI(nI(nI({},r),Wj(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return sI}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},fI=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=rj(c,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?nI(nI({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,S=p[o];if(t[S])return t;var _,E,k,j=cI(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S})),dataStartIndex:s,dataEndIndex:l}),O=j.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&ub(r)&&ub(i))return!0}return!1})(p.domain,y,m)&&(_=gj(p.domain,null,y),!h||"number"!==m&&"auto"===b||(k=Zk(j,g,"category")));var C=uI(m);if(!_||0===_.length){var A,T=null!==(A=p.domain)&&void 0!==A?A:C;if(g){if(_=Zk(j,g,m),"category"===m&&h){var I=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(_);v&&I?(E=_,_=lw()(0,O)):v||(_=vj(T,_,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(JT(e),[t])}),[]))}else if("category"===m)_=v?_.filter((function(e){return""!==e&&!xb()(e)})):vj(T,_,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||xb()(t)?e:[].concat(JT(e),[t])}),[]);else if("number"===m){var P=function(e,t,n,r,i){var o=t.map((function(t){return tj(e,t,n,i,r)})).filter((function(e){return!xb()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(j,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(x||!i)})),g,i,c);P&&(_=P)}!h||"number"!==m&&"auto"===b||(k=Zk(j,g,"category"))}else _=h?lw()(0,O):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===d?[0,1]:fj(a[S].stackGroups,s,l):nj(j,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(x||!n)})),m,c,!0);if("number"===m)_=XA(u,_,S,i,w),T&&(_=gj(T,_,y));else if("category"===m&&T){var N=T;_.every((function(e){return N.indexOf(e)>=0}))&&(_=N)}}return nI(nI({},t),{},rI({},S,nI(nI({},p),{},{axisType:i,domain:_,categoricalDomain:k,duplicateDomain:E,originalDomain:null!==(f=p.domain)&&void 0!==f?f:C,isCategorical:h,layout:c})))}),{})},pI=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Wb(c,i),h={};return d&&d.length?h=fI(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=cI(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=rj(c,i),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?nI(nI({},t.type.defaultProps),t.props):t.props)[o],y=uI("number");return e[g]?e:(p++,f?m=lw()(0,h):a&&a[g]&&a[g].hasStack?(m=fj(a[g].stackGroups,s,l),m=XA(u,m,g,i)):(m=gj(y,nj(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=XA(u,m,g,i)),nI(nI({},e),{},rI({},g,nI(nI({axisType:i},r.defaultProps),{},{hide:!0,orientation:ob()(oI,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},mI=function(e){var t=e.children,n=e.defaultShowTooltip,r=Hb(t,Lj),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},gI=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yI=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Hb(c,Lj),h=Hb(c,pS),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:nI(nI({},e),{},rI({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:nI(nI({},e),{},rI({},r,ob()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=nI(nI({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||Lj.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=Hk({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&ub(e[h]))return Yk(Yk({},e),{},$k({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&ub(e[f]))return Yk(Yk({},e),{},$k({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return nI(nI({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},vI=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},bI=["type","layout","connectNulls","ref"],wI=["key"];function xI(e){return xI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xI(e)}function SI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(this,arguments)}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(n),!0).forEach((function(t){NI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jI(e){return function(e){if(Array.isArray(e))return OI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return OI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DI(r.key),r)}}function AI(e,t,n){return t=II(t),function(e,t){if(t&&("object"===xI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TI()?Reflect.construct(t,n||[],II(e).constructor):t.apply(e,n))}function TI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TI=function(){return!!e})()}function II(e){return II=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},II(e)}function PI(e,t){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PI(e,t)}function NI(e,t,n){return(t=DI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DI(e){var t=function(e,t){if("object"!=xI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xI(t)?t:t+""}var MI=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return NI(e=AI(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),NI(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),NI(e,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(jI(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(jI(t.repeat(i,a)),jI(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),NI(e,"id",fb("recharts-line-")),NI(e,"pathRef",(function(t){e.mainCurve=t})),NI(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),NI(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PI(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,l=Wb(n.children,zk);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Jk(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(ww,u,l.map((function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,l=o.dataKey,c=Xb(this.props,!1),u=Xb(a,!0),d=s.map((function(e,n){var r=kI(kI(kI({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(a,r)})),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(ww,_I({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,i){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,SI(o,bI)),u=kI(kI(kI({},Xb(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:a,layout:s,connectNulls:l});return r.createElement(kT,_I({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,o=i.points,a=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(H_,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(g){var s=g.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=gb(r.x,e.x),a=gb(r.y,e.y);return kI(kI({},e),{},{x:o(i),y:a(i)})}if(h){var l=gb(2*f,e.x),c=gb(p/2,e.y);return kI(kI({},e),{},{x:l(i),y:c(i)})}return kI(kI({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,u=gb(0,y)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(o,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!$E()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,o=t.points,a=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=$v("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=v||b,x=xb()(p)?this.id:p,S=null!==(e=Xb(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},_=S.r,E=void 0===_?3:_,k=S.strokeWidth,j=void 0===k?2:k,O=(function(e){return e&&"object"===Fb(e)&&"clipDot"in e}(i)?i:{}).clipDot,C=void 0===O||O,A=2*E+j;return r.createElement(ww,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(x)},r.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!C&&r.createElement("clipPath",{id:"clipPath-dots-".concat(x)},r.createElement("rect",{x:u-A/2,y:c-A/2,width:d+A,height:h+A}))):null,!g&&this.renderCurve(w,x),this.renderErrorBar(w,x),(g||i)&&this.renderDots(w,C,x),(!f||m)&&kO.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(jI(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(jI(r),jI(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(_b()(e))n=e(t);else{var i=t.key,o=SI(t,wI),a=$v("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(gS,_I({key:i},o,{className:a}))}return n}}],i&&CI(n.prototype,i),o&&CI(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function RI(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function LI(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function FI(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function UI(e){return UI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UI(e)}function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zI(Object(n),!0).forEach((function(t){VI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qI(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(ub(l)||Kw.isSsr)return function(e,t){return RI(e,t+1)}(i,"number"===typeof l&&ub(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?uE(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=_b()(c)?c(e.value,r):e.value;return"width"===f?LI(uE(i,{fontSize:t,letterSpacing:n}),p,d):uE(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?lb(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:RI(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||FI(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=BI(BI({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),FI(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=BI(BI({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=BI(BI({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=BI(BI({},o),{},{tickCoord:o.coordinate});FI(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=BI(BI({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=BI(BI({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=BI(BI({},c),{},{tickCoord:c.coordinate});FI(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=BI(BI({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),h.filter((function(e){return e.isShow})))}NI(MI,"displayName","Line"),NI(MI,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Kw.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),NI(MI,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=Jk(e,a);return"horizontal"===u?{x:dj({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:xb()(l)?null:r.scale(l),value:l,payload:e}:{x:xb()(l)?null:n.scale(l),y:dj({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return kI({points:d,layout:u},c)}));var WI=["viewBox"],HI=["viewBox"],GI=["ticks"];function KI(e){return KI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KI(e)}function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(this,arguments)}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XI(Object(n),!0).forEach((function(t){rP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iP(r.key),r)}}function ZI(e,t,n){return t=tP(t),function(e,t){if(t&&("object"===KI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eP()?Reflect.construct(t,n||[],tP(e).constructor):t.apply(e,n))}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eP=function(){return!!e})()}function tP(e){return tP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tP(e)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nP(e,t)}function rP(e,t,n){return(t=iP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iP(e){var t=function(e,t){if("object"!=KI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KI(t)?t:t+""}var oP=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ZI(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}(t,e),n=t,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=$I(e,WI),i=this.props,o=i.viewBox,a=$I(i,HI);return!Ob(n,o)||!Ob(r,a)||!Ob(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=ub(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=YI(YI(YI({},Xb(this.props,!1)),Xb(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=YI(YI({},c),{},{x1:t,y1:n+u*o,x2:t+i,y2:n+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);c=YI(YI({},c),{},{x1:t+d*i,y1:n,x2:t+d*i,y2:n+o})}return r.createElement("line",QI({},c,{className:$v("recharts-cartesian-axis-line",ob()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=qI(YI(YI({},this.props),{},{ticks:e}),n,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Xb(this.props,!1),g=Xb(c,!1),y=YI(YI({},m),{},{fill:"none"},Xb(s,!1)),v=h.map((function(e,n){var i=o.getTickLineCoord(e),a=i.line,v=i.tick,b=YI(YI(YI(YI({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return r.createElement(ww,QI({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Db(o.props,e,n)),s&&r.createElement("line",QI({},y,a,{className:$v("recharts-cartesian-axis-tick-line",ob()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(_b()(u)?u(e.value,n):e.value).concat(d||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=$I(l,GI),d=c;return _b()(a)&&(d=c&&c.length>0?a(this.props):a(u)),i<=0||o<=0||!d||!d.length?null:r.createElement(ww,{className:$v("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),iO.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):_b()(e)?e(t):r.createElement(UE,QI({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&JI(n.prototype,i),o&&JI(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function aP(e){return aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aP(e)}function sP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fP(r.key),r)}}function lP(e,t,n){return t=uP(t),function(e,t){if(t&&("object"===aP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cP()?Reflect.construct(t,n||[],uP(e).constructor):t.apply(e,n))}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cP=function(){return!!e})()}function uP(e){return uP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uP(e)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dP(e,t)}function hP(e,t,n){return(t=fP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fP(e){var t=function(e,t){if("object"!=aP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aP(t)?t:t+""}function pP(){return pP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pP.apply(this,arguments)}function mP(e){var t=e.xAxisId,n=vA(),i=bA(),o=gA(t);return null==o?null:r.createElement(oP,pP({},o,{className:$v("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return oj(e,!0)}}))}rP(oP,"displayName","CartesianAxis"),rP(oP,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lP(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(mP,this.props)}}])&&sP(n.prototype,i),o&&sP(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function yP(e){return yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yP(e)}function vP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EP(r.key),r)}}function bP(e,t,n){return t=xP(t),function(e,t){if(t&&("object"===yP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wP()?Reflect.construct(t,n||[],xP(e).constructor):t.apply(e,n))}function wP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wP=function(){return!!e})()}function xP(e){return xP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xP(e)}function SP(e,t){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SP(e,t)}function _P(e,t,n){return(t=EP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EP(e){var t=function(e,t){if("object"!=yP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yP(t)?t:t+""}function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kP.apply(this,arguments)}hP(gP,"displayName","XAxis"),hP(gP,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var jP=function(e){var t=e.yAxisId,n=vA(),i=bA(),o=yA(t);return null==o?null:r.createElement(oP,kP({},o,{className:$v("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return oj(e,!0)}}))},OP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bP(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SP(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(jP,this.props)}}])&&vP(n.prototype,i),o&&vP(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);_P(OP,"displayName","YAxis"),_P(OP,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var CP=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=void 0===i?"axis":i,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=gI(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=zb(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=cI(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=void 0!==n.type.defaultProps?nI(nI({},n.type.defaultProps),n.props):n.props,x=w.dataKey,S=w.maxBarSize,_=w["".concat(m,"Id")],E=w["".concat(g,"Id")],k=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||hw(!1);var o=r[i];return nI(nI({},e),{},rI(rI({},n.axisType,o),"".concat(n.axisType,"Ticks"),oj(o)))}),{}),j=k[g],O=k["".concat(g,"Ticks")],C=r&&r[_]&&r[_].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Yk(Yk({},e.type.defaultProps),e.props):e.props).stackId;if(db(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[_].stackGroups),A=zb(n.type).indexOf("Bar")>=0,T=yj(j,O),I=[],P=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return zb(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?Yk(Yk({},y),g[0].props):g[0].props,b=v.barSize,w=v[m];o[w]||(o[w]=[]);var x=xb()(b)?t:b;o[w].push({item:g[0],stackList:g.slice(1),barSize:xb()(x)?void 0:pb(x,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:vI(k,g)});if(A){var N,D,M=xb()(S)?f:S,R=null!==(N=null!==(D=yj(j,O,!0))&&void 0!==D?D:M)&&void 0!==N?N:0;I=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=pb(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(Kk(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=pb(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce((function(e,t,n){var r=[].concat(Kk(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==T?R:T,sizeList:P[E],maxBarSize:M}),R!==T&&(I=I.map((function(e){return nI(nI({},e),{},{position:nI(nI({},e.position),{},{offset:e.position.offset-R/2})})})))}var L=n&&n.type&&n.type.getComposedData;L&&v.push({props:nI(nI({},L(nI(nI({},k),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:T,barPosition:I,offset:i,stackedData:C,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},rI(rI(rI({key:n.key||"item-".concat(p)},m,k[m]),g,k[g]),"animationId",o)),childIndex:Zb(n,e.children),item:n})})),v},f=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!Gb({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=gI(d),y=g.numericAxisName,v=g.cateAxisName,b=Wb(c,n),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?Yk(Yk({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(db(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[fb("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Yk(Yk({},e),{},$k({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return Yk(Yk({},t),{},$k({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:uj(e,a.items,i)}))}),{})),Yk(Yk({},t),{},$k({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),x=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return nI(nI({},e),{},rI({},n,pI(i,nI(nI({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),S=yI(nI(nI({},x),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(x).forEach((function(e){x[e]=u(i,x[e],S,e.replace("Map",""),t)}));var _=function(e){var t=mb(e),n=oj(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:uw()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:yj(t,n)}}(x["".concat(v,"Map")]),E=h(i,nI(nI({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return nI(nI({formattedGraphicalItems:E,graphicalItems:b,offset:S,stackGroups:w},_),x)},p=function(e){function n(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),rI(a=QT(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rI(a,"accessibilityManager",new rT),rI(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(nI({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},nI(nI({},a.state),{},{legendBBox:e}))))}})),rI(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),rI(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return nI({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),rI(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=nI(nI({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;_b()(r)&&r(n,e)}})),rI(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?nI(nI({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;_b()(r)&&r(n,e)})),rI(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),rI(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),rI(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),rI(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;_b()(n)&&n(t,e)})),rI(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&Ub[t]?Ub[t]:null}(e),r=ob()(a.props,"".concat(n));n&&_b()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),rI(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=nI(nI({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;_b()(r)&&r(n,e)}})),rI(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;_b()(t)&&t(a.getMouseInfo(e),e)})),rI(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;_b()(t)&&t(a.getMouseInfo(e),e)})),rI(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),rI(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),rI(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),rI(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;_b()(t)&&t(a.getMouseInfo(e),e)})),rI(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;_b()(t)&&t(a.getMouseInfo(e),e)})),rI(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&$A.emit(JA,a.props.syncId,e,a.eventEmitterSymbol)})),rI(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(nI({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=nI(nI({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,w=dI(a.state,a.props.data,u),x=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:sI;a.setState(nI(nI({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else a.setState(e)})),rI(a,"renderCursor",(function(e){var n,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:o,p=a.props.layout,m=e.key||"_recharts-cursor";return r.createElement(zT,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),rI(a,"renderPolarAxis",(function(e,t,n){var i=ob()(e,"type.axisType"),o=ob()(a.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?nI(nI({},s),e.props):e.props,c=o&&o[l["".concat(i,"Id")]];return(0,r.cloneElement)(e,nI(nI({},c),{},{className:$v(i,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:oj(c,!0)}))})),rI(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,o=t.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=mb(l),d=mb(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:oj(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:oj(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),rI(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,i=t.width,o=t.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),u=Hk({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=GT(u,BT);return(0,r.cloneElement)(d,nI(nI({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),rI(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,i=t.accessibilityLayer,o=Hb(n,lx);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(o,{viewBox:nI(nI({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})})),rI(a,"renderBrush",(function(e){var t=a.props,n=t.margin,i=t.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:sj(a.handleBrushChange,e.props.onChange),data:i,x:ub(e.props.x)?e.props.x:s.left,y:ub(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:ub(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),rI(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),rI(a,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?nI(nI({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=nI(nI({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:ej(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Xb(u,!1)),Nb(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(u,nI(nI({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),rI(a,"renderGraphicChild",(function(e,t,n){var i=a.filterFormatItem(e,t,n);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=Hb(a.props.children,lx),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==i.item.type.defaultProps?nI(nI({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,b=y.hide,w=y.activeBar,x=y.activeShape,S=Boolean(!b&&l&&h&&(v||w||x)),_={};"axis"!==o&&h&&"click"===h.props.trigger?_={onClick:sj(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(_={onMouseLeave:sj(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:sj(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,r.cloneElement)(e,nI(nI({},i.props),_));if(S){if(!(u>=0)){var k,j=(null!==(k=a.getItemByXY(a.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:E}).graphicalItem,O=j.item,C=void 0===O?e:O,A=j.childIndex,T=nI(nI(nI({},i.props),_),{},{activeIndex:A});return[(0,r.cloneElement)(C,T),null,null]}var I,P;if(c.dataKey&&!c.allowDuplicatedCategory){var N="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());I=yb(p,N,d),P=m&&g&&yb(g,N,d)}else I=null===p||void 0===p?void 0:p[u],P=m&&g&&g[u];if(x||w){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,nI(nI(nI({},i.props),_),{},{activeIndex:D})),null,null]}if(!xb()(I))return[E].concat(JT(a.renderActivePoints({item:i,activePoint:I,basePoint:P,childIndex:u,isRange:m})))}return m?[E,null,null]:[E,null]})),rI(a,"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,nI(nI({key:"recharts-customized-".concat(n)},a.props),a.state))})),rI(a,"renderMap",{CartesianGrid:{handler:lI,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:lI},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:lI},YAxis:{handler:lI},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:fb("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=Zv()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$T(e,t)}(n,e),i=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=Hb(t,lx);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=dI(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=nI(nI({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Yb([Hb(e.children,lx)],[Hb(this.props.children,lx)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Hb(this.props.children,lx);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=hI(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=mb(c).scale,p=mb(u).scale,m=f&&f.invert?f.invert(o.chartX):null,g=p&&p.invert?p.invert(o.chartY):null;return nI(nI({},o),{},{xValue:m,yValue:g},h)}return h?nI(nI({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=mb(l);return Kj({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Hb(e,lx),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),nI(nI({},Nb(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){$A.on(JA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$A.removeListener(JA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===zb(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,o=t.height,a=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=HT(t,2),r=n[0],i=n[1];return nI(nI({},e),{},rI({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=HT(t,2),r=n[0],i=n[1];return nI(nI({},e),{},rI({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?nI(nI({},l.type.defaultProps),l.props):l.props,u=zb(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return eE(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return Kj(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(iC(a,r)||oC(a,r)||aC(a,r)){var f=uC({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:nI(nI({},a),{},{childIndex:p}),payload:aC(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Gb(this))return null;var t,n,i=this.props,o=i.children,a=i.className,s=i.width,l=i.height,c=i.style,u=i.compact,d=i.title,h=i.desc,f=GT(i,VT),p=Xb(f,!1);if(u)return r.createElement(mA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(gw,WT({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Jb(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(mA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",WT({className:$v("recharts-wrapper",a),style:nI({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),r.createElement(gw,WT({},p,{width:s,height:l,title:d,desc:h,style:aI}),this.renderClipPath(),Jb(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&KT(i.prototype,a),l&&KT(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(r.Component);rI(p,"displayName",t),rI(p,"defaultProps",nI({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),rI(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=mI(e);return nI(nI(nI({},h),{},{updateId:0},f(nI(nI({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Ob(c,t.prevMargin)){var p=mI(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=nI(nI({},hI(t,r,s)),{},{updateId:t.updateId+1}),y=nI(nI(nI({},p),m),g);return nI(nI(nI({},y),f(nI({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!Yb(i,t.prevChildren)){var v,b,w,x,S=Hb(i,Lj),_=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,E=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,k=_!==u||E!==d,j=!xb()(r)&&!k?t.updateId:t.updateId+1;return nI(nI({updateId:j},f(nI(nI({props:e},t),{},{updateId:j,dataStartIndex:_,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:_,dataEndIndex:E})}return null})),rI(p,"renderActiveDot",(function(e,t,n){var i;return i=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):_b()(e)?e(t):r.createElement(gS,t),r.createElement(ww,{className:"recharts-active-dot",key:n},i)}));var m=(0,r.forwardRef)((function(e,t){return r.createElement(p,WT({},e,{ref:t}))}));return m.displayName=p.displayName,m}({chartName:"LineChart",GraphicalChild:MI,axisComponents:[{axisType:"xAxis",AxisComp:gP},{axisType:"yAxis",AxisComp:OP}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Hb(c,DC);return u.reduce((function(a,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,w=void 0===b?{}:b,x=g.mirror,S=g.reversed,_="".concat(y).concat(x?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var E=v[1]-v[0],k=1/0,j=g.categoricalDomain.sort(vb);if(j.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(j[t-1]||0),k))})),Number.isFinite(k)){var O=k/E,C="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=O*C/2),"no-gap"===g.padding){var A=pb(t.barCategoryGap,O*C),T=O*C/2;c=T-A-(T-A)/C*A}}}u="xAxis"===i?[r.left+(w.left||0)+(c||0),r.left+r.width-(w.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(c||0),r.top+r.height-(w.bottom||0)-(c||0)]:g.range,S&&(u=[u[1],u[0]]);var I=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:Bf(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:Lp(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:qf(),realScaleType:"point"}:"category"===o?{scale:Bf(),realScaleType:"band"}:{scale:Lp(),realScaleType:"linear"};if(tb()(i)){var l="scale".concat(ux()(i));return{scale:(e[l]||qf)(),realScaleType:e[l]?l:"point"}}return _b()(i)?{scale:i}:{scale:qf(),realScaleType:"point"}}(g,o,h),P=I.scale,N=I.realScaleType;P.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-lj,o=Math.max(r[0],r[1])+lj,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(P);var D=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=kk(l,i,a);return e.domain([KE()(c),HE()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:jk(u,i,a)}}return null}(P,FC(FC({},g),{},{realScaleType:N}));"xAxis"===i?(m="top"===y&&!x||"bottom"===y&&x,f=r.left,p=d[_]-m*g.height):"yAxis"===i&&(m="left"===y&&!x||"right"===y&&x,f=d[_]-m*g.width,p=r.top);var M=FC(FC(FC({},g),D),{},{realScaleType:N,x:f,y:p,scale:P,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return M.bandSize=yj(M,D),g.hide||"xAxis"!==i?g.hide||(d[_]+=(m?-1:1)*M.width):d[_]+=(m?-1:1)*M.height,FC(FC({},a),{},UC({},s,M))}),{})}}),AP=["x1","y1","x2","y2","key"],TP=["offset"];function IP(e){return IP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IP(e)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PP(Object(n),!0).forEach((function(t){DP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MP(){return MP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MP.apply(this,arguments)}function RP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var LP=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return r.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function FP(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(_b()(e))n=e(t);else{var i=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.key,c=RP(t,AP),u=Xb(c,!1),d=(u.offset,RP(u,TP));n=r.createElement("line",MP({},d,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}function UP(e){var t=e.x,n=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=NP(NP({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return FP(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function zP(e){var t=e.y,n=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=NP(NP({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return FP(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function BP(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function VP(e){var t=e.vertical,n=void 0===t||t,i=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!i||!i.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?a+l-e:d[t+1]-e;if(n<=0)return null;var u=t%i.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var qP=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return ij(qI(NP(NP(NP({},oP.defaultProps),n),{},{ticks:oj(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},WP=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return ij(qI(NP(NP(NP({},oP.defaultProps),n),{},{ticks:oj(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},HP={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GP(e){var t,n,i,o,a,s,l=vA(),c=bA(),u=(0,r.useContext)(dA),d=NP(NP({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:HP.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:HP.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:HP.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:HP.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:HP.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:HP.verticalFill,x:ub(e.x)?e.x:u.left,y:ub(e.y)?e.y:u.top,width:ub(e.width)?e.width:u.width,height:ub(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,r.useContext)(lA);return mb(e)}(),w=function(){var e=(0,r.useContext)(cA),t=oA()(e,(function(e){return uO()(e.domain,Number.isFinite)}));return t||mb(e)}();if(!ub(p)||p<=0||!ub(m)||m<=0||!ub(h)||h!==+h||!ub(f)||f!==+f)return null;var x=d.verticalCoordinatesGenerator||qP,S=d.horizontalCoordinatesGenerator||WP,_=d.horizontalPoints,E=d.verticalPoints;if((!_||!_.length)&&_b()(S)){var k=y&&y.length,j=S({yAxis:w?NP(NP({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:u},!!k||g);bb(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(IP(j),"]")),Array.isArray(j)&&(_=j)}if((!E||!E.length)&&_b()(x)){var O=v&&v.length,C=x({xAxis:b?NP(NP({},b),{},{ticks:O?v:b.ticks}):void 0,width:l,height:c,offset:u},!!O||g);bb(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(IP(C),"]")),Array.isArray(C)&&(E=C)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(LP,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),r.createElement(UP,MP({},d,{offset:u,horizontalPoints:_,xAxis:b,yAxis:w})),r.createElement(zP,MP({},d,{offset:u,verticalPoints:E,xAxis:b,yAxis:w})),r.createElement(BP,MP({},d,{horizontalPoints:_})),r.createElement(VP,MP({},d,{verticalPoints:E})))}GP.displayName="CartesianGrid";const KP=()=>{var e,t,n,i,o,a;const[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[b,w]=(0,r.useState)("checking"),[x,S]=(0,r.useState)([]),[_,E]=(0,r.useState)((new Date).toISOString().split("T")[0]),[k,j]=(0,r.useState)(!1),O=Z(),C=$(),A="https://6zfuwxqp01.execute-api.us-east-1.amazonaws.com/dev",T=(0,r.useCallback)((async(e,t)=>{if(t)try{j(!0),console.log("\ud83d\udcca Fetching timeseries data for date:",e);const n=e.replace(/-/g,""),r=Pl(Wc,"fitbit_timeseries"),i=await Rc(r),o=[];i.forEach((e=>{const r=e.id,i=e.data();if(r.startsWith("".concat(t,"_").concat(n,"_"))){console.log("\ud83d\udcca Found matching document:",r,i);let e=0;i.metrics&&void 0!==i.metrics.calories?e=i.metrics.calories:void 0!==i.calories&&(e=i.calories);let t="",n="";if(i.timestamp||i.syncedAt){const e=new Date(i.timestamp||i.syncedAt);t=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),n=e.getTime()}else{const e=r.split("_")[2];if(e&&6===e.length){const r=e.substring(0,2),i=e.substring(2,4);t="".concat(r,":").concat(i," (UTC)"),n=60*parseInt(r)+parseInt(i)}}o.push({time:t,calories:e,timestamp:i.timestamp||i.syncedAt||(new Date).toISOString(),sortableTime:n,docId:r})}})),o.sort(((e,t)=>"number"===typeof e.sortableTime&&"number"===typeof t.sortableTime?e.sortableTime-t.sortableTime:e.time.localeCompare(t.time))),console.log("\ud83d\udcca Found ".concat(o.length," data points for ").concat(e,":"),o),S(o)}catch(n){console.error("\u274c Error fetching timeseries data:",n),S([])}finally{j(!1)}}),[]),I=(0,r.useCallback)((async(e,t)=>{if(!t)return!1;try{const n=e.replace(/-/g,""),r=Pl(Wc,"fitbit_timeseries"),i=await Rc(r);let o=!1;return i.forEach((e=>{e.id.startsWith("".concat(t,"_").concat(n,"_"))&&(o=!0)})),o}catch(n){return console.error("\u274c Error checking date data:",n),!1}}),[]),P=(0,r.useCallback)((async e=>{if(null===s||void 0===s||!s.uid)return;const t=new Date(_);let n=new Date(t);for(let r=1;r<=30;r++){"prev"===e?n.setDate(t.getDate()-r):n.setDate(t.getDate()+r);const i=n.toISOString().split("T")[0];if(await I(i,s.uid))return E(i),void await T(i,s.uid)}console.log("\ud83d\udcca No data found in the specified direction")}),[_,null===s||void 0===s?void 0:s.uid,I,T]),N=(0,r.useCallback)((async()=>{const e=(new Date).toISOString().split("T")[0];E(e),null!==s&&void 0!==s&&s.uid&&await T(e,s.uid)}),[null===s||void 0===s?void 0:s.uid,T]),D=(0,r.useCallback)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("\ud83d\udd04 Fetching fresh Fitbit data..."),p(!0),v("");const i=null===c||void 0===c?void 0:c.fitbitData,o=(null===i||void 0===i?void 0:i.tokenExpiresAt)&&new Date>new Date(i.tokenExpiresAt);let a=e;if(o&&n)try{console.log("\ud83d\udd04 Token expired, refreshing...");const e=await(async e=>{console.log("\ud83d\udd04 Refreshing Fitbit token...");try{const t=await fetch("".concat(A,"/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!t.ok){const e=await t.text();throw new Error("Token refresh failed (".concat(t.status,"): ").concat(e))}const n=await t.json();return console.log("\u2705 Token refreshed successfully"),{accessToken:n.access_token,refreshToken:n.refresh_token,expiresIn:n.expires_in,tokenExpiresAt:new Date(Date.now()+1e3*n.expires_in).toISOString()}}catch(y){throw console.error("\u274c Error refreshing token:",y),y}})(n);await Lc(Nl(Wc,"users",t),{fitbitData:(0,Ie.A)((0,Ie.A)({},i),{},{accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiresAt:e.tokenExpiresAt})},{merge:!0}),u((t=>(0,Ie.A)((0,Ie.A)({},t),{},{fitbitData:(0,Ie.A)((0,Ie.A)({},t.fitbitData),{},{accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiresAt:e.tokenExpiresAt})}))),a=e.accessToken,console.log("\u2705 Token refreshed and saved")}catch(r){return console.error("\u274c Token refresh failed:",r),v("Your Fitbit connection has expired. Please reconnect your account."),void w("needs_connection")}const s=await(async e=>{console.log("\ud83d\udce1 Fetching Fitbit data from serverless API...");try{const t=await fetch("".concat(A,"/fitbit"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw new Error("API request failed (".concat(t.status,"): ").concat(e))}const n=await t.json();return console.log("\u2705 Data received from serverless API:",n),{heartRate:n.heartRate||null,steps:n.steps||0,calories:n.calories||0,distance:n.distance||0,activeMinutes:n.activeMinutes||0,sleep:n.sleep||null,weight:n.weight||null,date:n.date||(new Date).toISOString().split("T")[0],lastSync:(new Date).toISOString()}}catch(y){throw console.error("\u274c Error fetching from serverless API:",y),new Error("Failed to fetch Fitbit data: ".concat(y.message))}})(a);console.log("\ud83d\udcca Raw API Response:",s),console.log("\ud83d\udcca Data types:",{steps:typeof s.steps,calories:typeof s.calories,distance:typeof s.distance,activeMinutes:typeof s.activeMinutes});const l=(0,Ie.A)((0,Ie.A)({},s),{},{date:(new Date).toISOString().split("T")[0],lastSync:(new Date).toISOString()});console.log("\ud83d\udcca Final Data with Meta:",l),await Lc(Nl(Wc,"users",t),{latestFitbitData:l,lastUpdated:(new Date).toISOString()},{merge:!0});const d=(new Date).toISOString().split("T")[0],f=new Date,m=new Date(f.getTime()-9e5),g=d.replace(/-/g,""),b=Pl(Wc,"fitbit_timeseries"),x=await Rc(b);let S=!0;x.forEach((e=>{if(e.id.startsWith("".concat(t,"_").concat(g,"_"))){const t=e.data();if(t.timestamp){new Date(t.timestamp)>m&&(S=!1,console.log("\ud83d\udcca Skipping timeseries storage - recent data exists within 15 minutes"))}}})),S&&(await(async(e,t,n)=>{try{const r=new Date,i=r.toTimeString().slice(0,8).replace(/:/g,""),o=t.replace(/-/g,""),a="".concat(e,"_").concat(o,"_").concat(i),s=Nl(Wc,"fitbit_timeseries",a);await Lc(s,{userId:e,date:t,metrics:{calories:n.calories||0,steps:n.steps||0,distance:n.distance||0,activeMinutes:n.activeMinutes||0},heartRate:n.heartRate||null,sleep:n.sleep||null,timestamp:r.toISOString(),syncedAt:r.toISOString(),createdAt:r.toISOString(),dataSource:"fitbit_api"}),console.log("\u2705 Timeseries data point stored with ID:",a)}catch(y){console.error("\u274c Error storing timeseries data:",y)}})(t,d,l),console.log("\ud83d\udcca Stored new timeseries data point")),h(l),_===d&&setTimeout((()=>T(d,t)),500),console.log("\u2705 Fitbit data updated successfully")}catch(i){console.error("\u274c Error fetching Fitbit data:",i),i.message.includes("401")||i.message.includes("Unauthorized")?(v("Your Fitbit connection has expired. Please reconnect your account."),w("needs_connection")):v("Failed to fetch Fitbit data: ".concat(i.message))}finally{p(!1)}}),[null===c||void 0===c?void 0:c.fitbitData,_,T]),M=(0,r.useCallback)((async e=>{try{p(!0),console.log("\ud83d\udcca Loading user data for userId:",e);const r=await Dc(Nl(Wc,"users",e));if(r.exists()){var t,n;const i=r.data();console.log("\u2705 User data loaded:",i.email),console.log("\ud83d\udd17 Has Fitbit tokens:",!(null===(t=i.fitbitData)||void 0===t||!t.accessToken)),u(i),null!==(n=i.fitbitData)&&void 0!==n&&n.accessToken?(w("connected"),i.latestFitbitData&&h(i.latestFitbitData),console.log("\ud83d\udcca About to fetch timeseries data for userId:",e,"and date:",_),await T(_,e)):w("needs_connection")}else v("User profile not found. Please contact support."),w("error")}catch(r){console.error("\u274c Error loading user data:",r),v("Failed to load user data: ".concat(r.message)),w("error")}finally{p(!1)}}),[T,_]),R=(0,r.useCallback)((async(e,t)=>{try{g(!0),v("");if(t!==sessionStorage.getItem("fitbitOAuthState"))throw new Error("Security validation failed. Please try again.");console.log("\ud83d\udd04 Processing OAuth callback with secure backend...");const n=await(async e=>{console.log("\ud83d\udd27 Starting secure token exchange...");const t=window.location.origin+window.location.pathname;try{console.log("\ud83d\udce1 Calling serverless token exchange endpoint...");const n=await fetch("".concat(A,"/token-exchange"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,redirect_uri:t})});if(!n.ok){const e=await n.text();throw console.error("\u274c Token exchange failed:",e),new Error("Token exchange failed (".concat(n.status,"): ").concat(e))}const r=await n.json();return console.log("\u2705 Token exchange successful via secure backend!"),r}catch(n){throw console.error("\u274c Error during secure token exchange:",n),new Error("Token exchange failed: ".concat(n.message))}})(e);console.log("\u2705 Token exchange successful! Saving connection...");const r={accessToken:n.access_token,refreshToken:n.refresh_token,tokenExpiresAt:new Date(Date.now()+1e3*n.expires_in).toISOString(),tokenType:n.token_type,scope:n.scope,connectedAt:(new Date).toISOString()};await Lc(Nl(Wc,"users",s.uid),{fitbitData:r,deviceConnected:!0,selectedDevice:"fitbit",lastUpdated:(new Date).toISOString()},{merge:!0}),u((e=>(0,Ie.A)((0,Ie.A)({},e),{},{fitbitData:r}))),w("connected"),sessionStorage.removeItem("fitbitOAuthState"),sessionStorage.removeItem("fitbitAuthStartTime"),window.history.replaceState({},document.title,window.location.pathname),console.log("\u2705 Fitbit connection completed successfully via secure backend!"),await D(n.access_token,s.uid,n.refresh_token)}catch(n){console.error("\u274c Error processing OAuth:",n),v("Failed to connect Fitbit: ".concat(n.message)),w("error")}finally{g(!1)}}),[s,D]),L=(0,r.useCallback)((()=>{var e;null!==c&&void 0!==c&&null!==(e=c.fitbitData)&&void 0!==e&&e.accessToken&&null!==s&&void 0!==s&&s.uid&&(D(c.fitbitData.accessToken,s.uid,c.fitbitData.refreshToken),T(_,s.uid))}),[null===c||void 0===c||null===(e=c.fitbitData)||void 0===e?void 0:e.accessToken,null===c||void 0===c||null===(t=c.fitbitData)||void 0===t?void 0:t.refreshToken,null===s||void 0===s?void 0:s.uid,D,_,T]);(0,r.useEffect)((()=>{const e=(0,Ye.hg)(qc,(async e=>{e?(console.log("\u2705 User authenticated with UID:",e.uid),console.log("\ud83d\udcca This UID should match the document IDs in fitbit_timeseries collection"),l(e),await M(e.uid)):(console.log("\u274c No authenticated user, redirecting to login"),O("/login"))}));return()=>e()}),[O,M]),(0,r.useEffect)((()=>{s&&C.search&&(async()=>{const e=new URLSearchParams(C.search),t=e.get("code"),n=e.get("state"),r=e.get("error");t&&n&&s?(console.log("\ud83d\udd04 Processing OAuth callback..."),await R(t,n)):r&&(v("Fitbit authorization failed: ".concat(r)),w("error"),g(!1))})()}),[s,C.search,R]);const F=()=>{var e;return(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",marginBottom:"24px"},children:[(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"10px"},children:[(0,Hc.jsx)("h3",{style:{margin:"0",color:"#333"},children:"\ud83d\udd25 Calories Timeline"}),(0,Hc.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[(0,Hc.jsx)("button",{onClick:()=>P("prev"),disabled:k,style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:k?"not-allowed":"pointer",fontSize:"12px",opacity:k?.6:1},children:"\u2190 Previous"}),(0,Hc.jsx)("input",{type:"date",value:_,onChange:e=>{E(e.target.value),null!==s&&void 0!==s&&s.uid&&T(e.target.value,s.uid)},style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}}),(0,Hc.jsx)("button",{onClick:()=>P("next"),disabled:k||_>=(new Date).toISOString().split("T")[0],style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:k||_>=(new Date).toISOString().split("T")[0]?"not-allowed":"pointer",fontSize:"12px",opacity:k||_>=(new Date).toISOString().split("T")[0]?.6:1},children:"Next \u2192"}),_!==(new Date).toISOString().split("T")[0]&&(0,Hc.jsx)("button",{onClick:N,disabled:k,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:k?"not-allowed":"pointer",fontSize:"12px",fontWeight:"bold",opacity:k?.6:1},children:"\ud83d\udcc5 Today"}),(0,Hc.jsx)("button",{onClick:()=>{console.log("\ud83d\udc1b DEBUG: Manual fetch triggered"),console.log("\ud83d\udc1b Current user UID:",null===s||void 0===s?void 0:s.uid),console.log("\ud83d\udc1b Selected date:",_),null!==s&&void 0!==s&&s.uid&&T(_,s.uid)},disabled:k||!(null!==s&&void 0!==s&&s.uid),style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:k||null===s||void 0===s||!s.uid?"not-allowed":"pointer",fontSize:"12px",opacity:k||null===s||void 0===s||!s.uid?.6:1},children:"\ud83d\udc1b Debug Fetch"})]})]}),k?(0,Hc.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:(0,Hc.jsx)("div",{style:{border:"3px solid #e9ecef",borderTop:"3px solid #dc3545",borderRadius:"50%",width:"30px",height:"30px",animation:"spin 1s linear infinite"}})}):x.length>0?(0,Hc.jsx)("div",{style:{height:"300px"},children:(0,Hc.jsx)(aw,{width:"100%",height:"100%",children:(0,Hc.jsxs)(CP,{data:x,children:[(0,Hc.jsx)(GP,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Hc.jsx)(gP,{dataKey:"time",stroke:"#666",fontSize:12,interval:"preserveStartEnd"}),(0,Hc.jsx)(OP,{stroke:"#666",fontSize:12}),(0,Hc.jsx)(lx,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:e=>[e,"Calories"],labelFormatter:e=>"Time: ".concat(e)}),(0,Hc.jsx)(MI,{type:"monotone",dataKey:"calories",stroke:"#dc3545",strokeWidth:2,dot:{fill:"#dc3545",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#dc3545",strokeWidth:2}})]})})}):(0,Hc.jsxs)("div",{style:{textAlign:"center",color:"#666",padding:"40px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #dee2e6"},children:[(0,Hc.jsx)("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"\ud83d\udcca"}),(0,Hc.jsxs)("p",{style:{margin:"0",fontSize:"16px"},children:["No calorie data available for ",new Date(_).toLocaleDateString()]}),(0,Hc.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"#999"},children:_===(new Date).toISOString().split("T")[0]?'Click "\ud83d\udc1b Debug Fetch" to check data loading':"Use the navigation buttons to find dates with data"}),(null===s||void 0===s?void 0:s.uid)&&(0,Hc.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#e3f2fd",borderRadius:"6px",fontSize:"12px",textAlign:"left"},children:[(0,Hc.jsx)("strong",{children:"\ud83d\udc1b Debug Info:"}),(0,Hc.jsx)("br",{}),"User UID: ",s.uid,(0,Hc.jsx)("br",{}),"Looking for documents starting with: ",s.uid,"_",_.replace(/-/g,""),"_",(0,Hc.jsx)("br",{}),"(e.g., ",s.uid,"_",_.replace(/-/g,""),"_190044)"]})]}),x.length>0&&(0,Hc.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"14px",color:"#666"},children:[(0,Hc.jsxs)("strong",{children:["\ud83d\udcc8 Summary for ",new Date(_).toLocaleDateString(),":"]}),(0,Hc.jsx)("br",{}),"Data points: ",x.length," | Peak: ",Math.max(...x.map((e=>e.calories))).toLocaleString()," cal | Latest: ",null===(e=x[x.length-1])||void 0===e?void 0:e.calories.toLocaleString()," cal"]})]})},U=e=>{let{title:t,value:n,unit:r,icon:i,color:o="#007bff"}=e;return(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",border:"3px solid ".concat(o),textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{fontSize:"32px",marginBottom:"8px"},children:i}),(0,Hc.jsx)("h3",{style:{color:o,margin:"0 0 8px 0",fontSize:"18px"},children:t}),(0,Hc.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#333",marginBottom:"4px"},children:n}),(0,Hc.jsx)("div",{style:{color:"#666",fontSize:"14px"},children:r})]})},z=e=>{let{error:t,onRetry:n}=e;return(0,Hc.jsx)("div",{style:{backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"8px",padding:"16px",marginBottom:"24px",color:"#721c24"},children:(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Hc.jsxs)("div",{children:[(0,Hc.jsx)("strong",{children:"\u26a0\ufe0f Error:"}),(0,Hc.jsx)("div",{style:{marginTop:"8px",fontSize:"14px"},children:t})]}),n&&(0,Hc.jsx)("button",{onClick:n,style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginLeft:"16px"},children:"Retry"})]})})};return f&&"checking"===b?(0,Hc.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{border:"4px solid #e9ecef",borderTop:"4px solid #007bff",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),(0,Hc.jsx)("h2",{style:{color:"#495057"},children:"Loading your dashboard..."})]})}):(0,Hc.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa",padding:"20px"},children:[(0,Hc.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Hc.jsx)("button",{onClick:()=>{O("/dashboard")},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:"\u2190 Back to Dashboard"}),(0,Hc.jsx)("button",{onClick:async()=>{try{await(0,Ye.CI)(qc),localStorage.removeItem("userData"),O("/login")}catch(y){console.error("Error signing out:",y),localStorage.removeItem("userData"),O("/login"),v("Failed to logout. Please try again.")}},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Logout"})]}),(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)"},children:[(0,Hc.jsxs)("h1",{style:{color:"#333",margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"12px"},children:[(0,Hc.jsx)("span",{style:{fontSize:"32px"},children:"\u231a"}),"Fitbit Dashboard"]}),(0,Hc.jsxs)("p",{style:{color:"#666",margin:"0 0 16px 0",fontSize:"16px"},children:["Welcome back, ",null===s||void 0===s?void 0:s.email,"! Here's your fitness data."]}),(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[(null===d||void 0===d?void 0:d.lastSync)&&(0,Hc.jsxs)("div",{style:{backgroundColor:"#e7f3ff",border:"1px solid #b3d9ff",borderRadius:"6px",padding:"12px",fontSize:"14px",color:"#0066cc",flex:"1",minWidth:"250px"},children:[(0,Hc.jsx)("strong",{children:"\ud83d\udcca Last Updated:"})," ",new Date(d.lastSync).toLocaleString()]}),(0,Hc.jsx)("button",{onClick:L,disabled:f,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",opacity:f?.6:1,display:"flex",alignItems:"center",gap:"8px"},children:f?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{style:{border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",width:"16px",height:"16px",animation:"spin 1s linear infinite"}}),"Updating..."]}):(0,Hc.jsx)(Hc.Fragment,{children:"\ud83d\udd04 Refresh All Data"})})]})]}),y&&(0,Hc.jsx)(z,{error:y,onRetry:"connected"===b?L:null}),"needs_connection"===b&&(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"40px",textAlign:"center",marginBottom:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",border:"2px dashed #007bff"},children:[(0,Hc.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"\u231a"}),(0,Hc.jsx)("h2",{style:{color:"#333",marginBottom:"16px"},children:"Connect Your Fitbit"}),(0,Hc.jsx)("p",{style:{color:"#666",marginBottom:"24px",fontSize:"16px"},children:"Connect your Fitbit account to start tracking your fitness data and view detailed analytics."}),(0,Hc.jsx)("button",{onClick:()=>{if(null===s||void 0===s||!s.uid)return void v("User not authenticated");g(!0),v("");const e="23Q9SZ";const t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("fitbitOAuthState",t),sessionStorage.setItem("fitbitAuthStartTime",Date.now().toString());const n=window.location.origin+window.location.pathname,r="https://www.fitbit.com/oauth2/authorize?response_type=code&"+"client_id=".concat(e,"&")+"redirect_uri=".concat(encodeURIComponent(n),"&")+"scope=".concat(encodeURIComponent("activity heartrate sleep weight profile"),"&")+"state=".concat(t);console.log("\ud83d\ude80 Starting Fitbit OAuth flow"),console.log("Auth URL:",r),console.log("Redirect URI:",n),window.location.href=r},disabled:m,style:{backgroundColor:"#00b0ff",color:"white",border:"none",padding:"16px 32px",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:m?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto",opacity:m?.6:1},children:m?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{style:{border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",width:"16px",height:"16px",animation:"spin 1s linear infinite"}}),"Connecting..."]}):(0,Hc.jsx)(Hc.Fragment,{children:"\ud83d\udd17 Connect Fitbit"})})]}),"connected"===b&&d&&(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)(F,{}),(0,Hc.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"24px"},children:[(0,Hc.jsx)(U,{title:"Steps Today",value:(null===(n=d.steps)||void 0===n?void 0:n.toLocaleString())||"0",unit:"steps",icon:"\ud83d\udc5f",color:"#28a745"}),(0,Hc.jsx)(U,{title:"Calories Burned",value:(null===(i=d.calories)||void 0===i?void 0:i.toLocaleString())||"0",unit:"calories",icon:"\ud83d\udd25",color:"#dc3545"}),(0,Hc.jsx)(U,{title:"Distance",value:d.distance?d.distance.toFixed(2):"0",unit:"km",icon:"\ud83c\udfc3\u200d\u2642\ufe0f",color:"#007bff"}),(0,Hc.jsx)(U,{title:"Active Minutes",value:(null===(o=d.activeMinutes)||void 0===o?void 0:o.toString())||"0",unit:"minutes",icon:"\u26a1",color:"#fd7e14"})]}),(0,Hc.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"24px"},children:[d.heartRate&&(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",border:"3px solid #e91e63"},children:[(0,Hc.jsxs)("h3",{style:{color:"#e91e63",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Hc.jsx)("span",{style:{fontSize:"24px"},children:"\u2764\ufe0f"}),"Heart Rate"]}),(0,Hc.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:d.heartRate.restingHeartRate||"N/A"}),(0,Hc.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:"Resting BPM"})]}),d.heartRate.zones&&(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:d.heartRate.zones.length}),(0,Hc.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:"HR Zones"})]})]}),d.heartRate.zones&&d.heartRate.zones.length>0&&(0,Hc.jsxs)("div",{style:{marginTop:"16px"},children:[(0,Hc.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:"Heart Rate Zones:"}),d.heartRate.zones.map(((e,t)=>(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",fontSize:"12px",borderBottom:t<d.heartRate.zones.length-1?"1px solid #eee":"none"},children:[(0,Hc.jsxs)("span",{children:[e.name,":"]}),(0,Hc.jsxs)("span",{children:[e.minutes," min"]})]},t)))]})]}),d.sleep&&(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",border:"3px solid #6f42c1"},children:[(0,Hc.jsxs)("h3",{style:{color:"#6f42c1",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Hc.jsx)("span",{style:{fontSize:"24px"},children:"\ud83d\ude34"}),"Sleep"]}),(0,Hc.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:d.sleep.totalMinutes?Math.floor(d.sleep.totalMinutes/60)+"h "+d.sleep.totalMinutes%60+"m":"N/A"}),(0,Hc.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:"Total Sleep"})]}),(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:[d.sleep.efficiency||"N/A","%"]}),(0,Hc.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:"Efficiency"})]})]}),d.sleep.stages&&(0,Hc.jsxs)("div",{style:{marginTop:"16px"},children:[(0,Hc.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:"Sleep Stages:"}),Object.entries(d.sleep.stages).map((e=>{let[t,n]=e;return(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",fontSize:"12px",borderBottom:"1px solid #eee"},children:[(0,Hc.jsxs)("span",{style:{textTransform:"capitalize"},children:[t,":"]}),(0,Hc.jsxs)("span",{children:[n," min"]})]},t)}))]})]}),d.weight&&(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",border:"3px solid #20c997"},children:[(0,Hc.jsxs)("h3",{style:{color:"#20c997",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Hc.jsx)("span",{style:{fontSize:"24px"},children:"\u2696\ufe0f"}),"Weight"]}),(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#333",marginBottom:"8px"},children:d.weight.weight?d.weight.weight.toFixed(1):"N/A"}),(0,Hc.jsx)("div",{style:{color:"#666",fontSize:"14px"},children:"kg"}),d.weight.date&&(0,Hc.jsxs)("div",{style:{marginTop:"12px",fontSize:"12px",color:"#666",backgroundColor:"#f8f9fa",padding:"8px",borderRadius:"4px"},children:["Last measured: ",new Date(d.weight.date).toLocaleDateString()]})]})]})]})]}),(0,Hc.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",textAlign:"center",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",marginTop:"24px"},children:[(0,Hc.jsx)("p",{style:{color:"#666",margin:"0",fontSize:"14px"},children:"\ud83d\udd12 Your data is securely stored and synchronized with Fitbit's official API"}),(null===c||void 0===c||null===(a=c.fitbitData)||void 0===a?void 0:a.connectedAt)&&(0,Hc.jsxs)("p",{style:{color:"#999",margin:"8px 0 0 0",fontSize:"12px"},children:["Connected since: ",new Date(c.fitbitData.connectedAt).toLocaleDateString()]})]})]}),(0,Hc.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},QP=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),XP=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),YP=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),$P=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),JP=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZP=["Fatigue","Post-exertional malaise","Brain fog","Headaches","Shortness of breath","Heart palpitations","Dizziness","Joint/muscle pain","Sleep disturbances","Temperature regulation issues","Digestive issues"],eN=()=>{const e=Z(),[t,n]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)({name:"",email:"",age:"",gender:"",weight:"",height:"",covidDate:"",covidDuration:"",severity:"",symptoms:[],medicalConditions:""}),[v,b]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[w,x]=(0,r.useState)({}),[S,_]=(0,r.useState)(""),E=(0,r.useCallback)((async()=>{try{const t=localStorage.getItem("userData");if(!t)return void e("/login");const n=JSON.parse(t);if(n.id){const t=Nl(Wc,"users",n.id),r=await Dc(t);if(r.exists()){const e=r.data();s((0,Ie.A)({id:n.id},e)),y({name:e.name||"",email:e.email||"",age:e.age||"",gender:e.gender||"",weight:e.weight||"",height:e.height||"",covidDate:e.covidDate||"",covidDuration:e.covidDuration||"",severity:e.severity||"",symptoms:e.symptoms||[],medicalConditions:e.medicalConditions||""})}else console.error("User document not found"),e("/login")}}catch(t){console.error("Error loading user data:",t),e("/login")}finally{n(!1)}}),[e]);(0,r.useEffect)((()=>{E()}),[E]);const k=e=>{const{name:t,value:n,checked:r}=e.target;y("symptoms"===t?e=>(0,Ie.A)((0,Ie.A)({},e),{},{symptoms:r?[...e.symptoms,n]:e.symptoms.filter((e=>e!==n))}):e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n})),w[t]&&x((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:""})))},j=e=>{const{name:t,value:n}=e.target;b((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n}))),w[t]&&x((e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:""})))};return t?(0,Hc.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:(0,Hc.jsxs)("div",{style:{textAlign:"center"},children:[(0,Hc.jsx)("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),(0,Hc.jsx)("p",{children:"Loading your settings..."})]})}):(0,Hc.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,Hc.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto 30px",textAlign:"center"},children:[(0,Hc.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Hc.jsxs)("button",{onClick:()=>e("/dashboard"),style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},children:[(0,Hc.jsx)(QP,{size:16}),"Back to Dashboard"]}),(0,Hc.jsxs)("button",{onClick:async()=>{console.log("Logout clicked - starting complete logout process");try{qc.currentUser?(console.log("Signing out Firebase user:",qc.currentUser.email),await(0,Ye.CI)(qc),console.log("Firebase signOut successful")):console.log("No Firebase user to sign out"),console.log("Clearing localStorage userData"),localStorage.removeItem("userData"),sessionStorage.clear(),console.log("Cleared sessionStorage"),s(null),n(!1),console.log("Complete logout finished, navigating to login..."),e("/login",{replace:!0})}catch(t){console.error("Error during logout:",t),localStorage.removeItem("userData"),sessionStorage.clear(),s(null),e("/login",{replace:!0})}},style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},children:[(0,Hc.jsx)(XP,{size:16}),"Logout"]})]}),(0,Hc.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"white",margin:"0 0 10px",textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Personal Settings"}),(0,Hc.jsx)("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.9)",margin:"0"},children:"Update your profile information and preferences"})]}),S&&(0,Hc.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto 20px",display:"flex",alignItems:"center",gap:"10px",background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px 20px",borderRadius:"8px",animation:"slideDown 0.3s ease"},children:[(0,Hc.jsx)(Re,{size:20}),S]}),(0,Hc.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Hc.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"30px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.1)"},children:[(0,Hc.jsxs)("div",{style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"2px solid #f8f9fa"},children:[(0,Hc.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#2d3748",margin:"0 0 8px"},children:"Profile Information"}),(0,Hc.jsx)("p",{style:{color:"#718096",margin:"0",lineHeight:"1.6"},children:"Update your personal details to help us provide better energy management recommendations."})]}),(0,Hc.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return g.name.trim()||(e.name="Name is required"),g.age?g.age<13&&(e.age="Age must be at least 13"):e.age="Age is required",g.gender||(e.gender="Gender is required"),x(e),0===Object.keys(e).length})()){o(!0),x({}),_("");try{const e=(0,Ie.A)((0,Ie.A)({},g),{},{age:parseInt(g.age),weight:g.weight?parseFloat(g.weight):null,height:g.height?parseFloat(g.height):null,lastUpdated:(new Date).toISOString()}),t=Nl(Wc,"users",a.id);await Fc(t,e);const n=JSON.parse(localStorage.getItem("userData")),r=(0,Ie.A)((0,Ie.A)({},n),e);localStorage.setItem("userData",JSON.stringify(r)),s((t=>(0,Ie.A)((0,Ie.A)({},t),e))),_("Profile updated successfully!"),setTimeout((()=>_("")),3e3)}catch(t){console.error("Error updating profile:",t),x({submit:"Failed to update profile. Please try again."})}finally{o(!1)}}},style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,Hc.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:[(0,Hc.jsx)(ze,{size:16,style:{color:"#667eea"}}),"Full Name *"]}),(0,Hc.jsx)("input",{type:"text",name:"name",value:g.name,onChange:k,style:{padding:"12px 16px",border:"2px solid ".concat(w.name?"#f56565":"#e2e8f0"),borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},placeholder:"Enter your full name"}),w.name&&(0,Hc.jsx)("p",{style:{color:"#f56565",fontSize:"14px",margin:"5px 0 0"},children:w.name})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:[(0,Hc.jsx)(Ve,{size:16,style:{color:"#667eea"}}),"Email Address"]}),(0,Hc.jsx)("input",{type:"email",name:"email",value:g.email,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",background:"#f7fafc",color:"#a0aec0",cursor:"not-allowed"},disabled:!0,title:"Email cannot be changed. Contact support if you need to update your email."}),(0,Hc.jsx)("p",{style:{fontSize:"12px",color:"#a0aec0",margin:"4px 0 0"},children:"Email cannot be changed. Contact support if needed."})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:"Age *"}),(0,Hc.jsx)("input",{type:"number",name:"age",value:g.age,onChange:k,style:{padding:"12px 16px",border:"2px solid ".concat(w.age?"#f56565":"#e2e8f0"),borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},placeholder:"Your age",min:"13",max:"100"}),w.age&&(0,Hc.jsx)("p",{style:{color:"#f56565",fontSize:"14px",margin:"5px 0 0"},children:w.age})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:"Gender *"}),(0,Hc.jsxs)("select",{name:"gender",value:g.gender,onChange:k,style:{padding:"12px 16px",border:"2px solid ".concat(w.gender?"#f56565":"#e2e8f0"),borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},children:[(0,Hc.jsx)("option",{value:"",children:"Select gender"}),(0,Hc.jsx)("option",{value:"male",children:"Male"}),(0,Hc.jsx)("option",{value:"female",children:"Female"}),(0,Hc.jsx)("option",{value:"other",children:"Other"}),(0,Hc.jsx)("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}),w.gender&&(0,Hc.jsx)("p",{style:{color:"#f56565",fontSize:"14px",margin:"5px 0 0"},children:w.gender})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:[(0,Hc.jsx)(We,{size:16,style:{color:"#667eea"}}),"Weight (kg)"]}),(0,Hc.jsx)("input",{type:"number",name:"weight",value:g.weight,onChange:k,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},placeholder:"Optional",step:"0.1"})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:[(0,Hc.jsx)(He,{size:16,style:{color:"#667eea"}}),"Height (cm)"]}),(0,Hc.jsx)("input",{type:"number",name:"height",value:g.height,onChange:k,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},placeholder:"Optional"})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:[(0,Hc.jsx)(Ge,{size:16,style:{color:"#667eea"}}),"First COVID Date"]}),(0,Hc.jsx)("input",{type:"date",name:"covidDate",value:g.covidDate,onChange:k,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"}})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:"Long COVID Duration"}),(0,Hc.jsxs)("select",{name:"covidDuration",value:g.covidDuration,onChange:k,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},children:[(0,Hc.jsx)("option",{value:"",children:"Select duration"}),(0,Hc.jsx)("option",{value:"less-than-1-month",children:"Less than 1 month"}),(0,Hc.jsx)("option",{value:"1-3-months",children:"1-3 months"}),(0,Hc.jsx)("option",{value:"3-6-months",children:"3-6 months"}),(0,Hc.jsx)("option",{value:"6-12-months",children:"6-12 months"}),(0,Hc.jsx)("option",{value:"1-2-years",children:"1-2 years"}),(0,Hc.jsx)("option",{value:"more-than-2-years",children:"More than 2 years"})]})]})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:"Symptom Severity"}),(0,Hc.jsxs)("select",{name:"severity",value:g.severity,onChange:k,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease"},children:[(0,Hc.jsx)("option",{value:"",children:"Select severity"}),(0,Hc.jsx)("option",{value:"mild",children:"Mild"}),(0,Hc.jsx)("option",{value:"moderate",children:"Moderate"}),(0,Hc.jsx)("option",{value:"severe",children:"Severe"}),(0,Hc.jsx)("option",{value:"very-severe",children:"Very Severe"})]})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:"Current Symptoms (Select all that apply)"}),(0,Hc.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",marginTop:"10px"},children:ZP.map((e=>(0,Hc.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",border:"2px solid ".concat(g.symptoms.includes(e)?"#667eea":"#e2e8f0"),borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",background:g.symptoms.includes(e)?"rgba(102, 126, 234, 0.05)":"white"},children:[(0,Hc.jsx)("input",{type:"checkbox",name:"symptoms",value:e,checked:g.symptoms.includes(e),onChange:k,style:{margin:"0"}}),(0,Hc.jsx)("span",{style:{fontSize:"14px",color:"#4a5568"},children:e})]},e)))})]}),(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:"Medical Conditions"}),(0,Hc.jsx)("textarea",{name:"medicalConditions",value:g.medicalConditions,onChange:k,style:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease",resize:"vertical",minHeight:"80px"},rows:"3",placeholder:"List any pre-existing medical conditions..."})]}),w.submit&&(0,Hc.jsx)("div",{style:{color:"#f56565",fontSize:"14px",textAlign:"center"},children:w.submit}),(0,Hc.jsx)("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end",marginTop:"20px"},children:(0,Hc.jsx)("button",{type:"submit",disabled:i,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:i?"not-allowed":"pointer",background:"#667eea",color:"white",opacity:i?.6:1,transition:"all 0.2s ease"},children:i?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Saving..."]}):(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)(YP,{size:16}),"Save Changes"]})})})]})]}),(0,Hc.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"30px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.1)"},children:[(0,Hc.jsxs)("div",{style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"2px solid #f8f9fa"},children:[(0,Hc.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#2d3748",margin:"0 0 8px"},children:"Password & Security"}),(0,Hc.jsx)("p",{style:{color:"#718096",margin:"0",lineHeight:"1.6"},children:"Keep your account secure by updating your password regularly."})]}),l?(0,Hc.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return v.currentPassword||(e.currentPassword="Current password is required"),v.newPassword?v.newPassword.length<6&&(e.newPassword="New password must be at least 6 characters"):e.newPassword="New password is required",v.newPassword!==v.confirmPassword&&(e.confirmPassword="Passwords do not match"),v.currentPassword===v.newPassword&&(e.newPassword="New password must be different from current password"),x(e),0===Object.keys(e).length})()){o(!0),x({}),_("");try{const e=qc.currentUser;if(!e)throw new Error("No authenticated user found");const t=Ye.IX.credential(e.email,v.currentPassword);await(0,Ye.kZ)(e,t),await(0,Ye.f3)(e,v.newPassword),b({currentPassword:"",newPassword:"",confirmPassword:""}),_("Password updated successfully!"),c(!1),setTimeout((()=>_("")),3e3)}catch(t){console.error("Error changing password:",t),"auth/wrong-password"===t.code?x({currentPassword:"Current password is incorrect"}):"auth/weak-password"===t.code?x({newPassword:"New password is too weak"}):x({submit:"Failed to change password. Please try again."})}finally{o(!1)}}},style:{display:"flex",flexDirection:"column",gap:"20px"},children:[["currentPassword","newPassword","confirmPassword"].map(((e,t)=>{const n="currentPassword"===e?u:"newPassword"===e?h:p,r="currentPassword"===e?d:"newPassword"===e?f:m;return(0,Hc.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Hc.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500",color:"#4a5568",marginBottom:"8px",fontSize:"14px"},children:["Current Password *","New Password *","Confirm New Password *"][t]}),(0,Hc.jsxs)("div",{style:{position:"relative"},children:[(0,Hc.jsx)("input",{type:n?"text":"password",name:e,value:v[e],onChange:j,style:{padding:"12px 16px",paddingRight:"45px",border:"2px solid ".concat(w[e]?"#f56565":"#e2e8f0"),borderRadius:"8px",fontSize:"16px",transition:"all 0.2s ease",width:"100%",boxSizing:"border-box"},placeholder:["Enter your current password","Enter your new password (min 6 characters)","Confirm your new password"][t]}),(0,Hc.jsx)("button",{type:"button",onClick:()=>r(!n),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#a0aec0",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:n?(0,Hc.jsx)($P,{size:20}):(0,Hc.jsx)(JP,{size:20})})]}),w[e]&&(0,Hc.jsx)("p",{style:{color:"#f56565",fontSize:"14px",margin:"5px 0 0"},children:w[e]})]},e)})),(0,Hc.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end",marginTop:"20px"},children:[(0,Hc.jsx)("button",{type:"button",onClick:()=>{c(!1),b({currentPassword:"",newPassword:"",confirmPassword:""}),x({})},style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",background:"#e2e8f0",color:"#4a5568",transition:"all 0.2s ease"},children:"Cancel"}),(0,Hc.jsx)("button",{type:"submit",disabled:i,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:i?"not-allowed":"pointer",background:"#667eea",color:"white",opacity:i?.6:1,transition:"all 0.2s ease"},children:i?(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Updating..."]}):(0,Hc.jsxs)(Hc.Fragment,{children:[(0,Hc.jsx)(YP,{size:16}),"Update Password"]})})]})]}):(0,Hc.jsxs)("button",{onClick:()=>c(!0),style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",background:"#e2e8f0",color:"#4a5568",transition:"all 0.2s ease"},children:[(0,Hc.jsx)(qe,{size:16}),"Change Password"]})]}),(0,Hc.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"30px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.1)"},children:[(0,Hc.jsxs)("div",{style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"2px solid #f8f9fa"},children:[(0,Hc.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#2d3748",margin:"0 0 8px"},children:"Device Information"}),(0,Hc.jsx)("p",{style:{color:"#718096",margin:"0",lineHeight:"1.6"},children:"Your connected devices and data sources."})]}),(0,Hc.jsx)("div",{style:{display:"flex",alignItems:"center",padding:"20px",border:"2px solid #e2e8f0",borderRadius:"8px",background:"#f7fafc"},children:(0,Hc.jsxs)("div",{style:{flex:1},children:[(0,Hc.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#2d3748",margin:"0 0 5px",textTransform:"capitalize"},children:(null===a||void 0===a?void 0:a.selectedDevice)||"No device connected"}),(0,Hc.jsxs)("p",{style:{fontSize:"14px",color:"#718096",margin:"0 0 3px"},children:["Status: ",null!==a&&void 0!==a&&a.deviceConnected?"Connected":"Not connected"]}),(null===a||void 0===a?void 0:a.lastUpdated)&&(0,Hc.jsxs)("p",{style:{fontSize:"14px",color:"#718096",margin:"0"},children:["Last updated: ",new Date(a.lastUpdated).toLocaleDateString()]})]})})]})]}),(0,Hc.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          @keyframes slideDown {\n            0% {\n              opacity: 0;\n              transform: translateY(-10px);\n            }\n            100% {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        "})]})};const tN=function(){const e=()=>{const e=localStorage.getItem("userData");if(console.log("Checking authentication, userData exists:",!!e),!e)return!1;try{const t=JSON.parse(e);return console.log("Parsed user ID:",t.id),t&&t.id}catch(t){return console.error("Error parsing user data:",t),!1}},t=t=>{let{children:n}=t;const r=e();return console.log("ProtectedRoute - isAuthenticated:",r),r?n:(0,Hc.jsx)(pe,{to:"/login",replace:!0})},n=t=>{let{children:n}=t;const r=e();return console.log("PublicRoute - isAuthenticated:",r),r?(0,Hc.jsx)(pe,{to:"/dashboard",replace:!0}):n};return console.log("App rendering, checking routes..."),(0,Hc.jsx)(ke,{basename:"/energy_balance",children:(0,Hc.jsx)("div",{className:"App",children:(0,Hc.jsxs)(ye,{children:[(0,Hc.jsx)(me,{path:"/login",element:(0,Hc.jsx)(n,{children:(0,Hc.jsx)(Dv,{})})}),(0,Hc.jsx)(me,{path:"/register",element:(0,Hc.jsx)(n,{children:(0,Hc.jsx)(Yc,{})})}),(0,Hc.jsx)(me,{path:"/fitbit-dashboard/callback",element:(0,Hc.jsx)(Jc,{})}),(0,Hc.jsx)(me,{path:"/fitbit/callback",element:(0,Hc.jsx)(Jc,{})}),(0,Hc.jsx)(me,{path:"/dashboard",element:(0,Hc.jsx)(t,{children:(0,Hc.jsx)(Nv,{})})}),(0,Hc.jsx)(me,{path:"/food-tracker",element:(0,Hc.jsx)(t,{children:(0,Hc.jsx)(Xv,{})})}),(0,Hc.jsx)(me,{path:"/fitbit-dashboard",element:(0,Hc.jsx)(t,{children:(0,Hc.jsx)(KP,{})})}),(0,Hc.jsx)(me,{path:"/personal-settings",element:(0,Hc.jsx)(t,{children:(0,Hc.jsx)(eN,{})})}),(0,Hc.jsx)(me,{path:"/",element:e()?(0,Hc.jsx)(pe,{to:"/dashboard",replace:!0}):(0,Hc.jsx)(pe,{to:"/login",replace:!0})}),(0,Hc.jsx)(me,{path:"*",element:(0,Hc.jsxs)("div",{className:"not-found",children:[(0,Hc.jsx)("h2",{children:"Page Not Found"}),(0,Hc.jsx)("p",{children:"The page you're looking for doesn't exist."}),(0,Hc.jsxs)("p",{children:["Current path: ",window.location.pathname]}),(0,Hc.jsx)("p",{children:"Expected Fitbit callback: /fitbit-dashboard/callback"}),(0,Hc.jsx)("button",{onClick:()=>window.location.href="/",children:"Go Home"})]})})]})})})},nN=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,Hc.jsx)(r.StrictMode,{children:(0,Hc.jsx)(tN,{})})),nN()})()})();
//# sourceMappingURL=main.70ee4844.js.map